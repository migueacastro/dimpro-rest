// node_modules/@carbon/charts/dist/axis-scales-CPuwbFQf.mjs
var r = ((E) => (E.RENDER_FINISHED = "render-finished", E.RESIZE = "chart-resize", E.MOUSEOVER = "chart-mouseover", E.MOUSEOUT = "chart-mouseout", E))(r || {});
var O = ((E) => (E.SHOW = "show-modal", E.HIDE = "hide-modal", E))(O || {});
var e = ((E) => (E.UPDATE = "model-update", E))(e || {});
var u = ((E) => (E.SHOW_OVERFLOW_MENU = "show-toolbar-overflow-menu", E.HIDE_OVERFLOW_MENU = "hide-toolbar-overflow-menu", E.BUTTON_CLICK = "toolbar-button-click", E.SHOW_TOOLTIP = "toolbar-show-tooltip", E.HIDE_TOOLTIP = "toolbar-hide-tooltip", E))(u || {});
var a = ((E) => (E.UPDATE = "zoom-bar-update", E.SELECTION_START = "zoom-bar-selection-start", E.SELECTION_IN_PROGRESS = "zoom-bar-selection-in-progress", E.SELECTION_END = "zoom-bar-selection-end", E))(a || {});
var o = ((E) => (E.CHANGE = "zoom-domain-change", E))(o || {});
var _ = ((E) => (E.CANVAS_ZOOM_IN = "canvas-zoom-in", E.CANVAS_ZOOM_OUT = "canvas-zoom-out", E))(_ || {});
var t = ((E) => (E.LABEL_MOUSEOVER = "axis-label-mouseover", E.LABEL_MOUSEMOVE = "axis-label-mousemove", E.LABEL_CLICK = "axis-label-click", E.LABEL_MOUSEOUT = "axis-label-mouseout", E.LABEL_FOCUS = "axis-label-focus", E.LABEL_BLUR = "axis-label-blur", E.RENDER_COMPLETE = "axis-render-complete", E))(t || {});
var R = ((E) => (E.POINT_MOUSEOVER = "scatter-mouseover", E.POINT_MOUSEMOVE = "scatter-mousemove", E.POINT_CLICK = "scatter-click", E.POINT_MOUSEOUT = "scatter-mouseout", E))(R || {});
var s = ((E) => (E.WORD_MOUSEOVER = "wordcloud-word-mouseover", E.WORD_MOUSEMOVE = "wordcloud-word-mousemove", E.WORD_CLICK = "wordcloud-word-click", E.WORD_MOUSEOUT = "wordcloud-word-mouseout", E))(s || {});
var M = ((E) => (E.SLICE_MOUSEOVER = "pie-slice-mouseover", E.SLICE_MOUSEMOVE = "pie-slice-mousemove", E.SLICE_CLICK = "pie-slice-click", E.SLICE_MOUSEOUT = "pie-slice-mouseout", E))(M || {});
var U = ((E) => (E.ARC_MOUSEOVER = "gauge-arc-mouseover", E.ARC_MOUSEMOVE = "gauge-arc-mousemove", E.ARC_CLICK = "gauge-arc-click", E.ARC_MOUSEOUT = "gauge-arc-mouseout", E))(U || {});
var S = ((E) => (E.BAR_MOUSEOVER = "bar-mouseover", E.BAR_MOUSEMOVE = "bar-mousemove", E.BAR_CLICK = "bar-click", E.BAR_MOUSEOUT = "bar-mouseout", E))(S || {});
var v = ((E) => (E.BOX_MOUSEOVER = "box-mouseover", E.BOX_MOUSEMOVE = "box-mousemove", E.BOX_CLICK = "box-click", E.BOX_MOUSEOUT = "box-mouseout", E.OUTLIER_MOUSEOVER = "outlier-mouseover", E.OUTLIER_MOUSEMOVE = "outlier-mousemove", E.OUTLIER_CLICK = "outlier-click", E.OUTLIER_MOUSEOUT = "outlier-mouseout", E))(v || {});
var I = ((E) => (E.SCATTER_MOUSEOVER = "scatter-mouseover", E.SCATTER_MOUSEMOVE = "scatter-mousemove", E.SCATTER_CLICK = "scatter-click", E.SCATTER_MOUSEOUT = "scatter-mouseout", E))(I || {});
var l = ((E) => (E.POINT_MOUSEOVER = "scatter-mouseover", E.POINT_MOUSEMOVE = "scatter-mousemove", E.POINT_CLICK = "scatter-click", E.POINT_MOUSEOUT = "scatter-mouseout", E))(l || {});
var c = ((E) => (E.X_AXIS_MOUSEOVER = "radar-x-axis-mouseover", E.X_AXIS_MOUSEMOVE = "radar-x-axis-mousemove", E.X_AXIS_CLICK = "radar-x-axis-click", E.X_AXIS_MOUSEOUT = "radar-x-axis-mouseout", E))(c || {});
var L = ((E) => (E.NODE_MOUSEOVER = "tree-node-mouseover", E.NODE_CLICK = "tree-node-click", E.NODE_MOUSEOUT = "tree-node-mouseout", E))(L || {});
var m = ((E) => (E.LEAF_MOUSEOVER = "leaf-mouseover", E.LEAF_MOUSEMOVE = "leaf-mousemove", E.LEAF_CLICK = "leaf-click", E.LEAF_MOUSEOUT = "leaf-mouseout", E))(m || {});
var n = ((E) => (E.SHOW = "show-tooltip", E.MOVE = "move-tooltip", E.HIDE = "hide-tooltip", E))(n || {});
var A = ((E) => (E.SHOW = "show-threshold", E.HIDE = "hide-threshold", E))(A || {});
var N = ((E) => (E.ITEM_HOVER = "legend-item-onhover", E.ITEM_CLICK = "legend-item-onclick", E.ITEM_MOUSEOUT = "legend-item-onmouseout", E.ITEMS_UPDATE = "legend-items-update", E))(N || {});
var C = ((E) => (E.CIRCLE_MOUSEOVER = "circle-leaf-mouseover", E.CIRCLE_CLICK = "circle-leaf-click", E.CIRCLE_MOUSEOUT = "circle-leaf-mouseout", E.CIRCLE_MOUSEMOVE = "circle-leaf-mousemove", E))(C || {});
var V = ((E) => (E.NODE_MOUSEOVER = "alluvial-node-mouseover", E.NODE_CLICK = "alluvial-node-click", E.NODE_MOUSEOUT = "alluvial-node-mouseout", E.NODE_MOUSEMOVE = "alluvial-node-mousemove", E.LINE_MOUSEOVER = "alluvial-line-mouseover", E.LINE_CLICK = "alluvial-line-click", E.LINE_MOUSEOUT = "alluvial-line-mouseout", E.LINE_MOUSEMOVE = "alluvial-line-mousemove", E))(V || {});
var i = ((E) => (E.METER_MOUSEOVER = "meter-mouseover", E.METER_CLICK = "meter-click", E.METER_MOUSEOUT = "meter-mouseout", E.METER_MOUSEMOVE = "meter-mousemove", E))(i || {});
var T = ((E) => (E.HEATMAP_MOUSEOVER = "heatmap-mouseover", E.HEATMAP_CLICK = "heatmap-click", E.HEATMAP_MOUSEOUT = "heatmap-mouseout", E.HEATMAP_MOUSEMOVE = "hetmap-mousemove", E))(T || {});
var d = ((E) => (E.CHOROPLETH_MOUSEOVER = "choropleth-mouseover", E.CHOROPLETH_CLICK = "choropleth-click", E.CHOROPLETH_MOUSEOUT = "choropleth-mouseout", E.CHOROPLETH_MOUSEMOVE = "choropleth-mousemove", E))(d || {});
var H = Object.freeze(Object.defineProperty({
  __proto__: null,
  Alluvial: V,
  Area: R,
  Axis: t,
  Bar: S,
  Boxplot: v,
  CanvasZoom: _,
  Chart: r,
  Choropleth: d,
  CirclePack: C,
  Gauge: U,
  Heatmap: T,
  Legend: N,
  Line: l,
  Meter: i,
  Modal: O,
  Model: e,
  Pie: M,
  Radar: c,
  Scatter: I,
  Threshold: A,
  Toolbar: u,
  Tooltip: n,
  Tree: L,
  Treemap: m,
  WordCloud: s,
  ZoomBar: a,
  ZoomDomain: o
}, Symbol.toStringTag, { value: "Module" }));
var _E = H;
var D = ((E) => (E.HTML = "html", E.SVG = "svg", E))(D || {});
var g = ((E) => (E.WHITE = "white", E.G100 = "g100", E.G90 = "g90", E.G10 = "g10", E))(g || {});
var h = ((E) => (E.BACKGROUND = "background", E.FILL = "fill", E.STROKE = "stroke", E.TOOLTIP = "tooltip", E))(h || {});
var b = ((E) => (E.LEFT = "left", E.RIGHT = "right", E.TOP = "top", E.BOTTOM = "bottom", E))(b || {});
var f = ((E) => (E.GRAPH_VIEW = "graph_view", E.SLIDER_VIEW = "slider_view", E))(f || {});
var K = ((E) => (E.END_LINE = "end_line", E.MID_LINE = "mid_line", E.FRONT_LINE = "front_line", E.NONE = "none", E))(K || {});
var w = ((E) => (E.VERTICAL = "vertical", E.HORIZONTAL = "horizontal", E))(w || {});
var F = ((E) => (E.TIME = "time", E.LINEAR = "linear", E.LOG = "log", E.LABELS = "labels", E.LABELS_RATIO = "labels-ratio", E))(F || {});
var P = ((E) => (E.RIGHT = "right", E.LEFT = "left", E.TOP = "top", E.BOTTOM = "bottom", E))(P || {});
var k = ((E) => (E.LEFT = "left", E.CENTER = "center", E.RIGHT = "right", E))(k || {});
var G = ((E) => (E.HORIZONTAL = "horizontal", E.VERTICAL = "vertical", E))(G || {});
var X = ((E) => (E.TREE = "tree", E.DENDROGRAM = "dendrogram", E))(X || {});
var W = ((E) => (E.ROW = "row", E.COLUMN = "column", E.ROW_REVERSE = "row-reverse", E.COLUMN_REVERSE = "column-reverse", E))(W || {});
var z = ((E) => (E.FIXED = "fixed", E.PREFERRED = "preferred", E.STRETCH = "stretch", E))(z || {});
var q = ((E) => (E.CENTER = "center", E))(q || {});
var B = ((E) => (E.LEFT = "left", E.RIGHT = "right", E))(B || {});
var Z = ((E) => (E.GRID = "grid", E.VERT_OR_HORIZ = "vertOrHoriz", E.PIE = "pie", E.DONUT = "donut", E))(Z || {});
var x = ((E) => (E.START = "start", E.MIDDLE = "middle", E.END = "end", E))(x || {});
var J = ((E) => (E.BASELINE = "baseline", E.MIDDLE = "middle", E.HANGING = "hanging", E))(J || {});
var Q = ((E) => (E.SEMI = "semi", E.FULL = "full", E))(Q || {});
var Y = ((E) => (E.UP = "up", E.DOWN = "down", E))(Y || {});
var $ = ((E) => (E.SUCCESS = "success", E.WARNING = "warning", E.DANGER = "danger", E))($ || {});
var j = ((E) => (E.ALWAYS = "always", E.AUTO = "auto", E.NEVER = "never", E))(j || {});
var p = ((E) => (E.SCATTER = "scatter", E.LINE = "line", E.SIMPLE_BAR = "simple-bar", E.STACKED_BAR = "stacked-bar", E.GROUPED_BAR = "grouped-bar", E.AREA = "area", E.STACKED_AREA = "stacked-area", E))(p || {});
var y = ((E) => (E.EXPORT_CSV = "Export as CSV", E.EXPORT_PNG = "Export as PNG", E.EXPORT_JPG = "Export as JPG", E.ZOOM_IN = "Zoom in", E.ZOOM_OUT = "Zoom out", E.RESET_ZOOM = "Reset zoom", E.MAKE_FULLSCREEN = "Make fullscreen", E.EXIT_FULLSCREEN = "Exit fullscreen", E.SHOW_AS_DATATABLE = "Show as data-table", E.CUSTOM = "Custom", E))(y || {});
var EE = ((E) => (E.LEFT = "left", E.RIGHT = "right", E))(EE || {});
var rE = ((E) => (E.CHECKBOX = "checkbox", E.RADIUS = "radius", E.AREA = "area", E.SIZE = "size", E.LINE = "line", E.QUARTILE = "quartile", E.ZOOM = "zoom", E))(rE || {});
var OE = ((E) => (E.LINEAR = "linear", E.QUANTIZE = "quantize", E))(OE || {});
var eE = ((E) => (E.ON = "on", E.AUTO = "auto", E.OFF = "off", E))(eE || {});
var uE = ((E) => (E.DEFAULT = "default", E.HOVERABLE = "hoverable", E))(uE || {});
var aE = ((E) => (E.geoEqualEarth = "geoEqualEarth", E.geoAlbers = "geoAlbers", E.geoConicEqualArea = "geoConicEqualArea", E.geoConicEquidistant = "geoConicEquidistant", E.geoEquirectangular = "geoEquirectangular", E.geoMercator = "geoMercator", E.geoNaturalEarth1 = "geoNaturalEarth1", E))(aE || {});
var oE = ((E) => (E["15seconds"] = "15seconds", E.minute = "minute", E["30minutes"] = "30minutes", E.hourly = "hourly", E.daily = "daily", E.weekly = "weekly", E.monthly = "monthly", E.quarterly = "quarterly", E.yearly = "yearly", E))(oE || {});

// node_modules/@carbon/charts/dist/color-scale-utils-ycwO-Ibq.mjs
function Re(t3) {
  return (e2 = {}) => {
    const n2 = e2.width ? String(e2.width) : t3.defaultWidth;
    return t3.formats[n2] || t3.formats[t3.defaultWidth];
  };
}
function St(t3) {
  return (e2, n2) => {
    const r3 = n2 != null && n2.context ? String(n2.context) : "standalone";
    let i10;
    if (r3 === "formatting" && t3.formattingValues) {
      const o2 = t3.defaultFormattingWidth || t3.defaultWidth, s2 = n2 != null && n2.width ? String(n2.width) : o2;
      i10 = t3.formattingValues[s2] || t3.formattingValues[o2];
    } else {
      const o2 = t3.defaultWidth, s2 = n2 != null && n2.width ? String(n2.width) : t3.defaultWidth;
      i10 = t3.values[s2] || t3.values[o2];
    }
    const a2 = t3.argumentCallback ? t3.argumentCallback(e2) : e2;
    return i10[a2];
  };
}
function At(t3) {
  return (e2, n2 = {}) => {
    const r3 = n2.width, i10 = r3 && t3.matchPatterns[r3] || t3.matchPatterns[t3.defaultMatchWidth], a2 = e2.match(i10);
    if (!a2)
      return null;
    const o2 = a2[0], s2 = r3 && t3.parsePatterns[r3] || t3.parsePatterns[t3.defaultParseWidth], u3 = Array.isArray(s2) ? Pa(s2, (l2) => l2.test(o2)) : (
      // [TODO] -- I challenge you to fix the type
      Oa(s2, (l2) => l2.test(o2))
    );
    let c2;
    c2 = t3.valueCallback ? t3.valueCallback(u3) : u3, c2 = n2.valueCallback ? (
      // [TODO] -- I challenge you to fix the type
      n2.valueCallback(c2)
    ) : c2;
    const f2 = e2.slice(o2.length);
    return { value: c2, rest: f2 };
  };
}
function Oa(t3, e2) {
  for (const n2 in t3)
    if (Object.prototype.hasOwnProperty.call(t3, n2) && e2(t3[n2]))
      return n2;
}
function Pa(t3, e2) {
  for (let n2 = 0; n2 < t3.length; n2++)
    if (e2(t3[n2]))
      return n2;
}
function $a(t3) {
  return (e2, n2 = {}) => {
    const r3 = e2.match(t3.matchPattern);
    if (!r3) return null;
    const i10 = r3[0], a2 = e2.match(t3.parsePattern);
    if (!a2) return null;
    let o2 = t3.valueCallback ? t3.valueCallback(a2[0]) : a2[0];
    o2 = n2.valueCallback ? n2.valueCallback(o2) : o2;
    const s2 = e2.slice(i10.length);
    return { value: o2, rest: s2 };
  };
}
var qr = 6048e5;
var Ea = 864e5;
var W0 = 6e4;
var Y0 = 36e5;
var kn = Symbol.for("constructDateFrom");
function Z2(t3, e2) {
  return typeof t3 == "function" ? t3(e2) : t3 && typeof t3 == "object" && kn in t3 ? t3[kn](e2) : t3 instanceof Date ? new t3.constructor(e2) : new Date(e2);
}
function Ca(t3, ...e2) {
  const n2 = Z2.bind(
    null,
    e2.find((r3) => typeof r3 == "object")
  );
  return e2.map(n2);
}
var Na = {};
function Se() {
  return Na;
}
function L2(t3, e2) {
  return Z2(e2 || t3, t3);
}
function It(t3, e2) {
  var s2, u3, c2, f2;
  const n2 = Se(), r3 = (e2 == null ? void 0 : e2.weekStartsOn) ?? ((u3 = (s2 = e2 == null ? void 0 : e2.locale) == null ? void 0 : s2.options) == null ? void 0 : u3.weekStartsOn) ?? n2.weekStartsOn ?? ((f2 = (c2 = n2.locale) == null ? void 0 : c2.options) == null ? void 0 : f2.weekStartsOn) ?? 0, i10 = L2(t3, e2 == null ? void 0 : e2.in), a2 = i10.getDay(), o2 = (a2 < r3 ? 7 : 0) + a2 - r3;
  return i10.setDate(i10.getDate() - o2), i10.setHours(0, 0, 0, 0), i10;
}
var Da = {
  lessThanXSeconds: {
    one: "less than a second",
    other: "less than {{count}} seconds"
  },
  xSeconds: {
    one: "1 second",
    other: "{{count}} seconds"
  },
  halfAMinute: "half a minute",
  lessThanXMinutes: {
    one: "less than a minute",
    other: "less than {{count}} minutes"
  },
  xMinutes: {
    one: "1 minute",
    other: "{{count}} minutes"
  },
  aboutXHours: {
    one: "about 1 hour",
    other: "about {{count}} hours"
  },
  xHours: {
    one: "1 hour",
    other: "{{count}} hours"
  },
  xDays: {
    one: "1 day",
    other: "{{count}} days"
  },
  aboutXWeeks: {
    one: "about 1 week",
    other: "about {{count}} weeks"
  },
  xWeeks: {
    one: "1 week",
    other: "{{count}} weeks"
  },
  aboutXMonths: {
    one: "about 1 month",
    other: "about {{count}} months"
  },
  xMonths: {
    one: "1 month",
    other: "{{count}} months"
  },
  aboutXYears: {
    one: "about 1 year",
    other: "about {{count}} years"
  },
  xYears: {
    one: "1 year",
    other: "{{count}} years"
  },
  overXYears: {
    one: "over 1 year",
    other: "over {{count}} years"
  },
  almostXYears: {
    one: "almost 1 year",
    other: "almost {{count}} years"
  }
};
var Ia = (t3, e2, n2) => {
  let r3;
  const i10 = Da[t3];
  return typeof i10 == "string" ? r3 = i10 : e2 === 1 ? r3 = i10.one : r3 = i10.other.replace("{{count}}", e2.toString()), n2 != null && n2.addSuffix ? n2.comparison && n2.comparison > 0 ? "in " + r3 : r3 + " ago" : r3;
};
var Ra = {
  lastWeek: "'last' eeee 'at' p",
  yesterday: "'yesterday at' p",
  today: "'today at' p",
  tomorrow: "'tomorrow at' p",
  nextWeek: "eeee 'at' p",
  other: "P"
};
var Fa = (t3, e2, n2, r3) => Ra[t3];
var La = {
  narrow: ["B", "A"],
  abbreviated: ["BC", "AD"],
  wide: ["Before Christ", "Anno Domini"]
};
var ka = {
  narrow: ["1", "2", "3", "4"],
  abbreviated: ["Q1", "Q2", "Q3", "Q4"],
  wide: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"]
};
var Wa = {
  narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"],
  abbreviated: [
    "Jan",
    "Feb",
    "Mar",
    "Apr",
    "May",
    "Jun",
    "Jul",
    "Aug",
    "Sep",
    "Oct",
    "Nov",
    "Dec"
  ],
  wide: [
    "January",
    "February",
    "March",
    "April",
    "May",
    "June",
    "July",
    "August",
    "September",
    "October",
    "November",
    "December"
  ]
};
var Ya = {
  narrow: ["S", "M", "T", "W", "T", "F", "S"],
  short: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
  abbreviated: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
  wide: [
    "Sunday",
    "Monday",
    "Tuesday",
    "Wednesday",
    "Thursday",
    "Friday",
    "Saturday"
  ]
};
var Ha = {
  narrow: {
    am: "a",
    pm: "p",
    midnight: "mi",
    noon: "n",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
  },
  abbreviated: {
    am: "AM",
    pm: "PM",
    midnight: "midnight",
    noon: "noon",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
  },
  wide: {
    am: "a.m.",
    pm: "p.m.",
    midnight: "midnight",
    noon: "noon",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
  }
};
var Ga = {
  narrow: {
    am: "a",
    pm: "p",
    midnight: "mi",
    noon: "n",
    morning: "in the morning",
    afternoon: "in the afternoon",
    evening: "in the evening",
    night: "at night"
  },
  abbreviated: {
    am: "AM",
    pm: "PM",
    midnight: "midnight",
    noon: "noon",
    morning: "in the morning",
    afternoon: "in the afternoon",
    evening: "in the evening",
    night: "at night"
  },
  wide: {
    am: "a.m.",
    pm: "p.m.",
    midnight: "midnight",
    noon: "noon",
    morning: "in the morning",
    afternoon: "in the afternoon",
    evening: "in the evening",
    night: "at night"
  }
};
var Ba = (t3, e2) => {
  const n2 = Number(t3), r3 = n2 % 100;
  if (r3 > 20 || r3 < 10)
    switch (r3 % 10) {
      case 1:
        return n2 + "st";
      case 2:
        return n2 + "nd";
      case 3:
        return n2 + "rd";
    }
  return n2 + "th";
};
var qa = {
  ordinalNumber: Ba,
  era: St({
    values: La,
    defaultWidth: "wide"
  }),
  quarter: St({
    values: ka,
    defaultWidth: "wide",
    argumentCallback: (t3) => t3 - 1
  }),
  month: St({
    values: Wa,
    defaultWidth: "wide"
  }),
  day: St({
    values: Ya,
    defaultWidth: "wide"
  }),
  dayPeriod: St({
    values: Ha,
    defaultWidth: "wide",
    formattingValues: Ga,
    defaultFormattingWidth: "wide"
  })
};
var ja = /^(\d+)(th|st|nd|rd)?/i;
var za = /\d+/i;
var Xa = {
  narrow: /^(b|a)/i,
  abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
  wide: /^(before christ|before common era|anno domini|common era)/i
};
var Ua = {
  any: [/^b/i, /^(a|c)/i]
};
var Va = {
  narrow: /^[1234]/i,
  abbreviated: /^q[1234]/i,
  wide: /^[1234](th|st|nd|rd)? quarter/i
};
var Qa = {
  any: [/1/i, /2/i, /3/i, /4/i]
};
var Ka = {
  narrow: /^[jfmasond]/i,
  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,
  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i
};
var Za = {
  narrow: [
    /^j/i,
    /^f/i,
    /^m/i,
    /^a/i,
    /^m/i,
    /^j/i,
    /^j/i,
    /^a/i,
    /^s/i,
    /^o/i,
    /^n/i,
    /^d/i
  ],
  any: [
    /^ja/i,
    /^f/i,
    /^mar/i,
    /^ap/i,
    /^may/i,
    /^jun/i,
    /^jul/i,
    /^au/i,
    /^s/i,
    /^o/i,
    /^n/i,
    /^d/i
  ]
};
var Ja = {
  narrow: /^[smtwf]/i,
  short: /^(su|mo|tu|we|th|fr|sa)/i,
  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,
  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i
};
var to = {
  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],
  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]
};
var eo = {
  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,
  any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i
};
var no = {
  any: {
    am: /^a/i,
    pm: /^p/i,
    midnight: /^mi/i,
    noon: /^no/i,
    morning: /morning/i,
    afternoon: /afternoon/i,
    evening: /evening/i,
    night: /night/i
  }
};
var ro = {
  ordinalNumber: $a({
    matchPattern: ja,
    parsePattern: za,
    valueCallback: (t3) => parseInt(t3, 10)
  }),
  era: At({
    matchPatterns: Xa,
    defaultMatchWidth: "wide",
    parsePatterns: Ua,
    defaultParseWidth: "any"
  }),
  quarter: At({
    matchPatterns: Va,
    defaultMatchWidth: "wide",
    parsePatterns: Qa,
    defaultParseWidth: "any",
    valueCallback: (t3) => t3 + 1
  }),
  month: At({
    matchPatterns: Ka,
    defaultMatchWidth: "wide",
    parsePatterns: Za,
    defaultParseWidth: "any"
  }),
  day: At({
    matchPatterns: Ja,
    defaultMatchWidth: "wide",
    parsePatterns: to,
    defaultParseWidth: "any"
  }),
  dayPeriod: At({
    matchPatterns: eo,
    defaultMatchWidth: "any",
    parsePatterns: no,
    defaultParseWidth: "any"
  })
};
var io = {
  full: "EEEE, MMMM do, y",
  long: "MMMM do, y",
  medium: "MMM d, y",
  short: "MM/dd/yyyy"
};
var ao = {
  full: "h:mm:ss a zzzz",
  long: "h:mm:ss a z",
  medium: "h:mm:ss a",
  short: "h:mm a"
};
var oo = {
  full: "{{date}} 'at' {{time}}",
  long: "{{date}} 'at' {{time}}",
  medium: "{{date}}, {{time}}",
  short: "{{date}}, {{time}}"
};
var so = {
  date: Re({
    formats: io,
    defaultWidth: "full"
  }),
  time: Re({
    formats: ao,
    defaultWidth: "full"
  }),
  dateTime: Re({
    formats: oo,
    defaultWidth: "full"
  })
};
var jr = {
  code: "en-US",
  formatDistance: Ia,
  formatLong: so,
  formatRelative: Fa,
  localize: qa,
  match: ro,
  options: {
    weekStartsOn: 0,
    firstWeekContainsDate: 1
  }
};
var zr = typeof global == "object" && global && global.Object === Object && global;
var uo = typeof self == "object" && self && self.Object === Object && self;
var G2 = zr || uo || Function("return this")();
var N2 = G2.Symbol;
var Xr = Object.prototype;
var co = Xr.hasOwnProperty;
var fo = Xr.toString;
var Ot = N2 ? N2.toStringTag : void 0;
function lo(t3) {
  var e2 = co.call(t3, Ot), n2 = t3[Ot];
  try {
    t3[Ot] = void 0;
    var r3 = true;
  } catch {
  }
  var i10 = fo.call(t3);
  return r3 && (e2 ? t3[Ot] = n2 : delete t3[Ot]), i10;
}
var ho = Object.prototype;
var go = ho.toString;
function mo(t3) {
  return go.call(t3);
}
var po = "[object Null]";
var yo = "[object Undefined]";
var Wn = N2 ? N2.toStringTag : void 0;
function ut(t3) {
  return t3 == null ? t3 === void 0 ? yo : po : Wn && Wn in Object(t3) ? lo(t3) : mo(t3);
}
function H2(t3) {
  return t3 != null && typeof t3 == "object";
}
var wo = "[object Symbol]";
function sn(t3) {
  return typeof t3 == "symbol" || H2(t3) && ut(t3) == wo;
}
function bo(t3, e2) {
  for (var n2 = -1, r3 = t3 == null ? 0 : t3.length, i10 = Array(r3); ++n2 < r3; )
    i10[n2] = e2(t3[n2], n2, t3);
  return i10;
}
var $2 = Array.isArray;
var Yn = N2 ? N2.prototype : void 0;
var Hn = Yn ? Yn.toString : void 0;
function Ur(t3) {
  if (typeof t3 == "string")
    return t3;
  if ($2(t3))
    return bo(t3, Ur) + "";
  if (sn(t3))
    return Hn ? Hn.call(t3) : "";
  var e2 = t3 + "";
  return e2 == "0" && 1 / t3 == -1 / 0 ? "-0" : e2;
}
function X2(t3) {
  var e2 = typeof t3;
  return t3 != null && (e2 == "object" || e2 == "function");
}
function un(t3) {
  return t3;
}
var _o = "[object AsyncFunction]";
var vo = "[object Function]";
var xo = "[object GeneratorFunction]";
var Mo = "[object Proxy]";
function cn(t3) {
  if (!X2(t3))
    return false;
  var e2 = ut(t3);
  return e2 == vo || e2 == xo || e2 == _o || e2 == Mo;
}
var Fe = G2["__core-js_shared__"];
var Gn = function() {
  var t3 = /[^.]+$/.exec(Fe && Fe.keys && Fe.keys.IE_PROTO || "");
  return t3 ? "Symbol(src)_1." + t3 : "";
}();
function To(t3) {
  return !!Gn && Gn in t3;
}
var So = Function.prototype;
var Ao = So.toString;
function ct(t3) {
  if (t3 != null) {
    try {
      return Ao.call(t3);
    } catch {
    }
    try {
      return t3 + "";
    } catch {
    }
  }
  return "";
}
var Oo = /[\\^$.*+?()[\]{}|]/g;
var Po = /^\[object .+?Constructor\]$/;
var $o = Function.prototype;
var Eo = Object.prototype;
var Co = $o.toString;
var No = Eo.hasOwnProperty;
var Do = RegExp(
  "^" + Co.call(No).replace(Oo, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
);
function Io(t3) {
  if (!X2(t3) || To(t3))
    return false;
  var e2 = cn(t3) ? Do : Po;
  return e2.test(ct(t3));
}
function Ro(t3, e2) {
  return t3 == null ? void 0 : t3[e2];
}
function ft(t3, e2) {
  var n2 = Ro(t3, e2);
  return Io(n2) ? n2 : void 0;
}
var Be = ft(G2, "WeakMap");
var Bn = Object.create;
var Fo = /* @__PURE__ */ function() {
  function t3() {
  }
  return function(e2) {
    if (!X2(e2))
      return {};
    if (Bn)
      return Bn(e2);
    t3.prototype = e2;
    var n2 = new t3();
    return t3.prototype = void 0, n2;
  };
}();
function Lo(t3, e2, n2) {
  switch (n2.length) {
    case 0:
      return t3.call(e2);
    case 1:
      return t3.call(e2, n2[0]);
    case 2:
      return t3.call(e2, n2[0], n2[1]);
    case 3:
      return t3.call(e2, n2[0], n2[1], n2[2]);
  }
  return t3.apply(e2, n2);
}
function ko() {
}
function Vr(t3, e2) {
  var n2 = -1, r3 = t3.length;
  for (e2 || (e2 = Array(r3)); ++n2 < r3; )
    e2[n2] = t3[n2];
  return e2;
}
var Wo = 800;
var Yo = 16;
var Ho = Date.now;
function Go(t3) {
  var e2 = 0, n2 = 0;
  return function() {
    var r3 = Ho(), i10 = Yo - (r3 - n2);
    if (n2 = r3, i10 > 0) {
      if (++e2 >= Wo)
        return arguments[0];
    } else
      e2 = 0;
    return t3.apply(void 0, arguments);
  };
}
function Bo(t3) {
  return function() {
    return t3;
  };
}
var le = function() {
  try {
    var t3 = ft(Object, "defineProperty");
    return t3({}, "", {}), t3;
  } catch {
  }
}();
var qo = le ? function(t3, e2) {
  return le(t3, "toString", {
    configurable: true,
    enumerable: false,
    value: Bo(e2),
    writable: true
  });
} : un;
var jo = Go(qo);
function zo(t3, e2) {
  for (var n2 = -1, r3 = t3 == null ? 0 : t3.length; ++n2 < r3 && e2(t3[n2], n2, t3) !== false; )
    ;
  return t3;
}
function Xo(t3, e2, n2, r3) {
  for (var i10 = t3.length, a2 = n2 + -1; ++a2 < i10; )
    if (e2(t3[a2], a2, t3))
      return a2;
  return -1;
}
function Uo(t3) {
  return t3 !== t3;
}
function Vo(t3, e2, n2) {
  for (var r3 = n2 - 1, i10 = t3.length; ++r3 < i10; )
    if (t3[r3] === e2)
      return r3;
  return -1;
}
function Qo(t3, e2, n2) {
  return e2 === e2 ? Vo(t3, e2, n2) : Xo(t3, Uo, n2);
}
function Ko(t3, e2) {
  var n2 = t3 == null ? 0 : t3.length;
  return !!n2 && Qo(t3, e2, 0) > -1;
}
var Zo = 9007199254740991;
var Jo = /^(?:0|[1-9]\d*)$/;
function fn(t3, e2) {
  var n2 = typeof t3;
  return e2 = e2 ?? Zo, !!e2 && (n2 == "number" || n2 != "symbol" && Jo.test(t3)) && t3 > -1 && t3 % 1 == 0 && t3 < e2;
}
function ln(t3, e2, n2) {
  e2 == "__proto__" && le ? le(t3, e2, {
    configurable: true,
    enumerable: true,
    value: n2,
    writable: true
  }) : t3[e2] = n2;
}
function Ht(t3, e2) {
  return t3 === e2 || t3 !== t3 && e2 !== e2;
}
var ts = Object.prototype;
var es = ts.hasOwnProperty;
function Qr(t3, e2, n2) {
  var r3 = t3[e2];
  (!(es.call(t3, e2) && Ht(r3, n2)) || n2 === void 0 && !(e2 in t3)) && ln(t3, e2, n2);
}
function Gt(t3, e2, n2, r3) {
  var i10 = !n2;
  n2 || (n2 = {});
  for (var a2 = -1, o2 = e2.length; ++a2 < o2; ) {
    var s2 = e2[a2], u3 = void 0;
    u3 === void 0 && (u3 = t3[s2]), i10 ? ln(n2, s2, u3) : Qr(n2, s2, u3);
  }
  return n2;
}
var qn = Math.max;
function ns(t3, e2, n2) {
  return e2 = qn(e2 === void 0 ? t3.length - 1 : e2, 0), function() {
    for (var r3 = arguments, i10 = -1, a2 = qn(r3.length - e2, 0), o2 = Array(a2); ++i10 < a2; )
      o2[i10] = r3[e2 + i10];
    i10 = -1;
    for (var s2 = Array(e2 + 1); ++i10 < e2; )
      s2[i10] = r3[i10];
    return s2[e2] = n2(o2), Lo(t3, this, s2);
  };
}
function Kr(t3, e2) {
  return jo(ns(t3, e2, un), t3 + "");
}
var rs = 9007199254740991;
function hn(t3) {
  return typeof t3 == "number" && t3 > -1 && t3 % 1 == 0 && t3 <= rs;
}
function Bt(t3) {
  return t3 != null && hn(t3.length) && !cn(t3);
}
function is(t3, e2, n2) {
  if (!X2(n2))
    return false;
  var r3 = typeof e2;
  return (r3 == "number" ? Bt(n2) && fn(e2, n2.length) : r3 == "string" && e2 in n2) ? Ht(n2[e2], t3) : false;
}
function as(t3) {
  return Kr(function(e2, n2) {
    var r3 = -1, i10 = n2.length, a2 = i10 > 1 ? n2[i10 - 1] : void 0, o2 = i10 > 2 ? n2[2] : void 0;
    for (a2 = t3.length > 3 && typeof a2 == "function" ? (i10--, a2) : void 0, o2 && is(n2[0], n2[1], o2) && (a2 = i10 < 3 ? void 0 : a2, i10 = 1), e2 = Object(e2); ++r3 < i10; ) {
      var s2 = n2[r3];
      s2 && t3(e2, s2, r3, a2);
    }
    return e2;
  });
}
var os = Object.prototype;
function Ae(t3) {
  var e2 = t3 && t3.constructor, n2 = typeof e2 == "function" && e2.prototype || os;
  return t3 === n2;
}
function ss(t3, e2) {
  for (var n2 = -1, r3 = Array(t3); ++n2 < t3; )
    r3[n2] = e2(n2);
  return r3;
}
var us = "[object Arguments]";
function jn(t3) {
  return H2(t3) && ut(t3) == us;
}
var Zr = Object.prototype;
var cs = Zr.hasOwnProperty;
var fs = Zr.propertyIsEnumerable;
var yt = jn(/* @__PURE__ */ function() {
  return arguments;
}()) ? jn : function(t3) {
  return H2(t3) && cs.call(t3, "callee") && !fs.call(t3, "callee");
};
function ls() {
  return false;
}
var Jr = typeof exports == "object" && exports && !exports.nodeType && exports;
var zn = Jr && typeof module == "object" && module && !module.nodeType && module;
var hs = zn && zn.exports === Jr;
var Xn = hs ? G2.Buffer : void 0;
var ds = Xn ? Xn.isBuffer : void 0;
var wt = ds || ls;
var gs = "[object Arguments]";
var ms = "[object Array]";
var ps = "[object Boolean]";
var ys = "[object Date]";
var ws = "[object Error]";
var bs = "[object Function]";
var _s = "[object Map]";
var vs = "[object Number]";
var xs = "[object Object]";
var Ms = "[object RegExp]";
var Ts = "[object Set]";
var Ss = "[object String]";
var As = "[object WeakMap]";
var Os = "[object ArrayBuffer]";
var Ps = "[object DataView]";
var $s = "[object Float32Array]";
var Es = "[object Float64Array]";
var Cs = "[object Int8Array]";
var Ns = "[object Int16Array]";
var Ds = "[object Int32Array]";
var Is = "[object Uint8Array]";
var Rs = "[object Uint8ClampedArray]";
var Fs = "[object Uint16Array]";
var Ls = "[object Uint32Array]";
var T2 = {};
T2[$s] = T2[Es] = T2[Cs] = T2[Ns] = T2[Ds] = T2[Is] = T2[Rs] = T2[Fs] = T2[Ls] = true;
T2[gs] = T2[ms] = T2[Os] = T2[ps] = T2[Ps] = T2[ys] = T2[ws] = T2[bs] = T2[_s] = T2[vs] = T2[xs] = T2[Ms] = T2[Ts] = T2[Ss] = T2[As] = false;
function ks(t3) {
  return H2(t3) && hn(t3.length) && !!T2[ut(t3)];
}
function dn(t3) {
  return function(e2) {
    return t3(e2);
  };
}
var ti = typeof exports == "object" && exports && !exports.nodeType && exports;
var Dt = ti && typeof module == "object" && module && !module.nodeType && module;
var Ws = Dt && Dt.exports === ti;
var Le = Ws && zr.process;
var bt = function() {
  try {
    var t3 = Dt && Dt.require && Dt.require("util").types;
    return t3 || Le && Le.binding && Le.binding("util");
  } catch {
  }
}();
var Un = bt && bt.isTypedArray;
var Oe = Un ? dn(Un) : ks;
var Ys = Object.prototype;
var Hs = Ys.hasOwnProperty;
function ei(t3, e2) {
  var n2 = $2(t3), r3 = !n2 && yt(t3), i10 = !n2 && !r3 && wt(t3), a2 = !n2 && !r3 && !i10 && Oe(t3), o2 = n2 || r3 || i10 || a2, s2 = o2 ? ss(t3.length, String) : [], u3 = s2.length;
  for (var c2 in t3)
    (e2 || Hs.call(t3, c2)) && !(o2 && // Safari 9 has enumerable `arguments.length` in strict mode.
    (c2 == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
    i10 && (c2 == "offset" || c2 == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
    a2 && (c2 == "buffer" || c2 == "byteLength" || c2 == "byteOffset") || // Skip index properties.
    fn(c2, u3))) && s2.push(c2);
  return s2;
}
function ni(t3, e2) {
  return function(n2) {
    return t3(e2(n2));
  };
}
var Gs = ni(Object.keys, Object);
var Bs = Object.prototype;
var qs = Bs.hasOwnProperty;
function ri(t3) {
  if (!Ae(t3))
    return Gs(t3);
  var e2 = [];
  for (var n2 in Object(t3))
    qs.call(t3, n2) && n2 != "constructor" && e2.push(n2);
  return e2;
}
function Pe(t3) {
  return Bt(t3) ? ei(t3) : ri(t3);
}
function js(t3) {
  var e2 = [];
  if (t3 != null)
    for (var n2 in Object(t3))
      e2.push(n2);
  return e2;
}
var zs = Object.prototype;
var Xs = zs.hasOwnProperty;
function Us(t3) {
  if (!X2(t3))
    return js(t3);
  var e2 = Ae(t3), n2 = [];
  for (var r3 in t3)
    r3 == "constructor" && (e2 || !Xs.call(t3, r3)) || n2.push(r3);
  return n2;
}
function qt(t3) {
  return Bt(t3) ? ei(t3, true) : Us(t3);
}
var Vs = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/;
var Qs = /^\w*$/;
function gn(t3, e2) {
  if ($2(t3))
    return false;
  var n2 = typeof t3;
  return n2 == "number" || n2 == "symbol" || n2 == "boolean" || t3 == null || sn(t3) ? true : Qs.test(t3) || !Vs.test(t3) || e2 != null && t3 in Object(e2);
}
var Rt = ft(Object, "create");
function Ks() {
  this.__data__ = Rt ? Rt(null) : {}, this.size = 0;
}
function Zs(t3) {
  var e2 = this.has(t3) && delete this.__data__[t3];
  return this.size -= e2 ? 1 : 0, e2;
}
var Js = "__lodash_hash_undefined__";
var tu = Object.prototype;
var eu = tu.hasOwnProperty;
function nu(t3) {
  var e2 = this.__data__;
  if (Rt) {
    var n2 = e2[t3];
    return n2 === Js ? void 0 : n2;
  }
  return eu.call(e2, t3) ? e2[t3] : void 0;
}
var ru = Object.prototype;
var iu = ru.hasOwnProperty;
function au(t3) {
  var e2 = this.__data__;
  return Rt ? e2[t3] !== void 0 : iu.call(e2, t3);
}
var ou = "__lodash_hash_undefined__";
function su(t3, e2) {
  var n2 = this.__data__;
  return this.size += this.has(t3) ? 0 : 1, n2[t3] = Rt && e2 === void 0 ? ou : e2, this;
}
function it(t3) {
  var e2 = -1, n2 = t3 == null ? 0 : t3.length;
  for (this.clear(); ++e2 < n2; ) {
    var r3 = t3[e2];
    this.set(r3[0], r3[1]);
  }
}
it.prototype.clear = Ks;
it.prototype.delete = Zs;
it.prototype.get = nu;
it.prototype.has = au;
it.prototype.set = su;
function uu() {
  this.__data__ = [], this.size = 0;
}
function $e(t3, e2) {
  for (var n2 = t3.length; n2--; )
    if (Ht(t3[n2][0], e2))
      return n2;
  return -1;
}
var cu = Array.prototype;
var fu = cu.splice;
function lu(t3) {
  var e2 = this.__data__, n2 = $e(e2, t3);
  if (n2 < 0)
    return false;
  var r3 = e2.length - 1;
  return n2 == r3 ? e2.pop() : fu.call(e2, n2, 1), --this.size, true;
}
function hu(t3) {
  var e2 = this.__data__, n2 = $e(e2, t3);
  return n2 < 0 ? void 0 : e2[n2][1];
}
function du(t3) {
  return $e(this.__data__, t3) > -1;
}
function gu(t3, e2) {
  var n2 = this.__data__, r3 = $e(n2, t3);
  return r3 < 0 ? (++this.size, n2.push([t3, e2])) : n2[r3][1] = e2, this;
}
function U2(t3) {
  var e2 = -1, n2 = t3 == null ? 0 : t3.length;
  for (this.clear(); ++e2 < n2; ) {
    var r3 = t3[e2];
    this.set(r3[0], r3[1]);
  }
}
U2.prototype.clear = uu;
U2.prototype.delete = lu;
U2.prototype.get = hu;
U2.prototype.has = du;
U2.prototype.set = gu;
var Ft = ft(G2, "Map");
function mu() {
  this.size = 0, this.__data__ = {
    hash: new it(),
    map: new (Ft || U2)(),
    string: new it()
  };
}
function pu(t3) {
  var e2 = typeof t3;
  return e2 == "string" || e2 == "number" || e2 == "symbol" || e2 == "boolean" ? t3 !== "__proto__" : t3 === null;
}
function Ee(t3, e2) {
  var n2 = t3.__data__;
  return pu(e2) ? n2[typeof e2 == "string" ? "string" : "hash"] : n2.map;
}
function yu(t3) {
  var e2 = Ee(this, t3).delete(t3);
  return this.size -= e2 ? 1 : 0, e2;
}
function wu(t3) {
  return Ee(this, t3).get(t3);
}
function bu(t3) {
  return Ee(this, t3).has(t3);
}
function _u(t3, e2) {
  var n2 = Ee(this, t3), r3 = n2.size;
  return n2.set(t3, e2), this.size += n2.size == r3 ? 0 : 1, this;
}
function V2(t3) {
  var e2 = -1, n2 = t3 == null ? 0 : t3.length;
  for (this.clear(); ++e2 < n2; ) {
    var r3 = t3[e2];
    this.set(r3[0], r3[1]);
  }
}
V2.prototype.clear = mu;
V2.prototype.delete = yu;
V2.prototype.get = wu;
V2.prototype.has = bu;
V2.prototype.set = _u;
var vu = "Expected a function";
function mn(t3, e2) {
  if (typeof t3 != "function" || e2 != null && typeof e2 != "function")
    throw new TypeError(vu);
  var n2 = function() {
    var r3 = arguments, i10 = e2 ? e2.apply(this, r3) : r3[0], a2 = n2.cache;
    if (a2.has(i10))
      return a2.get(i10);
    var o2 = t3.apply(this, r3);
    return n2.cache = a2.set(i10, o2) || a2, o2;
  };
  return n2.cache = new (mn.Cache || V2)(), n2;
}
mn.Cache = V2;
var xu = 500;
function Mu(t3) {
  var e2 = mn(t3, function(r3) {
    return n2.size === xu && n2.clear(), r3;
  }), n2 = e2.cache;
  return e2;
}
var Tu = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
var Su = /\\(\\)?/g;
var Au = Mu(function(t3) {
  var e2 = [];
  return t3.charCodeAt(0) === 46 && e2.push(""), t3.replace(Tu, function(n2, r3, i10, a2) {
    e2.push(i10 ? a2.replace(Su, "$1") : r3 || n2);
  }), e2;
});
function Ou(t3) {
  return t3 == null ? "" : Ur(t3);
}
function ii(t3, e2) {
  return $2(t3) ? t3 : gn(t3, e2) ? [t3] : Au(Ou(t3));
}
function Ce(t3) {
  if (typeof t3 == "string" || sn(t3))
    return t3;
  var e2 = t3 + "";
  return e2 == "0" && 1 / t3 == -1 / 0 ? "-0" : e2;
}
function ai(t3, e2) {
  e2 = ii(e2, t3);
  for (var n2 = 0, r3 = e2.length; t3 != null && n2 < r3; )
    t3 = t3[Ce(e2[n2++])];
  return n2 && n2 == r3 ? t3 : void 0;
}
function Pu(t3, e2, n2) {
  var r3 = t3 == null ? void 0 : ai(t3, e2);
  return r3 === void 0 ? n2 : r3;
}
function pn(t3, e2) {
  for (var n2 = -1, r3 = e2.length, i10 = t3.length; ++n2 < r3; )
    t3[i10 + n2] = e2[n2];
  return t3;
}
var Vn = N2 ? N2.isConcatSpreadable : void 0;
function $u(t3) {
  return $2(t3) || yt(t3) || !!(Vn && t3 && t3[Vn]);
}
function oi(t3, e2, n2, r3, i10) {
  var a2 = -1, o2 = t3.length;
  for (n2 || (n2 = $u), i10 || (i10 = []); ++a2 < o2; ) {
    var s2 = t3[a2];
    e2 > 0 && n2(s2) ? e2 > 1 ? oi(s2, e2 - 1, n2, r3, i10) : pn(i10, s2) : r3 || (i10[i10.length] = s2);
  }
  return i10;
}
var yn = ni(Object.getPrototypeOf, Object);
var Eu = "[object Object]";
var Cu = Function.prototype;
var Nu = Object.prototype;
var si = Cu.toString;
var Du = Nu.hasOwnProperty;
var Iu = si.call(Object);
function Ru(t3) {
  if (!H2(t3) || ut(t3) != Eu)
    return false;
  var e2 = yn(t3);
  if (e2 === null)
    return true;
  var n2 = Du.call(e2, "constructor") && e2.constructor;
  return typeof n2 == "function" && n2 instanceof n2 && si.call(n2) == Iu;
}
function Fu() {
  this.__data__ = new U2(), this.size = 0;
}
function Lu(t3) {
  var e2 = this.__data__, n2 = e2.delete(t3);
  return this.size = e2.size, n2;
}
function ku(t3) {
  return this.__data__.get(t3);
}
function Wu(t3) {
  return this.__data__.has(t3);
}
var Yu = 200;
function Hu(t3, e2) {
  var n2 = this.__data__;
  if (n2 instanceof U2) {
    var r3 = n2.__data__;
    if (!Ft || r3.length < Yu - 1)
      return r3.push([t3, e2]), this.size = ++n2.size, this;
    n2 = this.__data__ = new V2(r3);
  }
  return n2.set(t3, e2), this.size = n2.size, this;
}
function R2(t3) {
  var e2 = this.__data__ = new U2(t3);
  this.size = e2.size;
}
R2.prototype.clear = Fu;
R2.prototype.delete = Lu;
R2.prototype.get = ku;
R2.prototype.has = Wu;
R2.prototype.set = Hu;
function Gu(t3, e2) {
  return t3 && Gt(e2, Pe(e2), t3);
}
function Bu(t3, e2) {
  return t3 && Gt(e2, qt(e2), t3);
}
var ui = typeof exports == "object" && exports && !exports.nodeType && exports;
var Qn = ui && typeof module == "object" && module && !module.nodeType && module;
var qu = Qn && Qn.exports === ui;
var Kn = qu ? G2.Buffer : void 0;
var Zn = Kn ? Kn.allocUnsafe : void 0;
function ci(t3, e2) {
  if (e2)
    return t3.slice();
  var n2 = t3.length, r3 = Zn ? Zn(n2) : new t3.constructor(n2);
  return t3.copy(r3), r3;
}
function ju(t3, e2) {
  for (var n2 = -1, r3 = t3 == null ? 0 : t3.length, i10 = 0, a2 = []; ++n2 < r3; ) {
    var o2 = t3[n2];
    e2(o2, n2, t3) && (a2[i10++] = o2);
  }
  return a2;
}
function fi() {
  return [];
}
var zu = Object.prototype;
var Xu = zu.propertyIsEnumerable;
var Jn = Object.getOwnPropertySymbols;
var wn = Jn ? function(t3) {
  return t3 == null ? [] : (t3 = Object(t3), ju(Jn(t3), function(e2) {
    return Xu.call(t3, e2);
  }));
} : fi;
function Uu(t3, e2) {
  return Gt(t3, wn(t3), e2);
}
var Vu = Object.getOwnPropertySymbols;
var li = Vu ? function(t3) {
  for (var e2 = []; t3; )
    pn(e2, wn(t3)), t3 = yn(t3);
  return e2;
} : fi;
function Qu(t3, e2) {
  return Gt(t3, li(t3), e2);
}
function hi(t3, e2, n2) {
  var r3 = e2(t3);
  return $2(t3) ? r3 : pn(r3, n2(t3));
}
function qe(t3) {
  return hi(t3, Pe, wn);
}
function Ku(t3) {
  return hi(t3, qt, li);
}
var je = ft(G2, "DataView");
var ze = ft(G2, "Promise");
var mt = ft(G2, "Set");
var tr = "[object Map]";
var Zu = "[object Object]";
var er = "[object Promise]";
var nr = "[object Set]";
var rr = "[object WeakMap]";
var ir = "[object DataView]";
var Ju = ct(je);
var tc = ct(Ft);
var ec = ct(ze);
var nc = ct(mt);
var rc = ct(Be);
var C2 = ut;
(je && C2(new je(new ArrayBuffer(1))) != ir || Ft && C2(new Ft()) != tr || ze && C2(ze.resolve()) != er || mt && C2(new mt()) != nr || Be && C2(new Be()) != rr) && (C2 = function(t3) {
  var e2 = ut(t3), n2 = e2 == Zu ? t3.constructor : void 0, r3 = n2 ? ct(n2) : "";
  if (r3)
    switch (r3) {
      case Ju:
        return ir;
      case tc:
        return tr;
      case ec:
        return er;
      case nc:
        return nr;
      case rc:
        return rr;
    }
  return e2;
});
var ic = Object.prototype;
var ac = ic.hasOwnProperty;
function oc(t3) {
  var e2 = t3.length, n2 = new t3.constructor(e2);
  return e2 && typeof t3[0] == "string" && ac.call(t3, "index") && (n2.index = t3.index, n2.input = t3.input), n2;
}
var he = G2.Uint8Array;
function bn(t3) {
  var e2 = new t3.constructor(t3.byteLength);
  return new he(e2).set(new he(t3)), e2;
}
function sc(t3, e2) {
  var n2 = e2 ? bn(t3.buffer) : t3.buffer;
  return new t3.constructor(n2, t3.byteOffset, t3.byteLength);
}
var uc = /\w*$/;
function cc(t3) {
  var e2 = new t3.constructor(t3.source, uc.exec(t3));
  return e2.lastIndex = t3.lastIndex, e2;
}
var ar = N2 ? N2.prototype : void 0;
var or = ar ? ar.valueOf : void 0;
function fc(t3) {
  return or ? Object(or.call(t3)) : {};
}
function di(t3, e2) {
  var n2 = e2 ? bn(t3.buffer) : t3.buffer;
  return new t3.constructor(n2, t3.byteOffset, t3.length);
}
var lc = "[object Boolean]";
var hc = "[object Date]";
var dc = "[object Map]";
var gc = "[object Number]";
var mc = "[object RegExp]";
var pc = "[object Set]";
var yc = "[object String]";
var wc = "[object Symbol]";
var bc = "[object ArrayBuffer]";
var _c = "[object DataView]";
var vc = "[object Float32Array]";
var xc = "[object Float64Array]";
var Mc = "[object Int8Array]";
var Tc = "[object Int16Array]";
var Sc = "[object Int32Array]";
var Ac = "[object Uint8Array]";
var Oc = "[object Uint8ClampedArray]";
var Pc = "[object Uint16Array]";
var $c = "[object Uint32Array]";
function Ec(t3, e2, n2) {
  var r3 = t3.constructor;
  switch (e2) {
    case bc:
      return bn(t3);
    case lc:
    case hc:
      return new r3(+t3);
    case _c:
      return sc(t3, n2);
    case vc:
    case xc:
    case Mc:
    case Tc:
    case Sc:
    case Ac:
    case Oc:
    case Pc:
    case $c:
      return di(t3, n2);
    case dc:
      return new r3();
    case gc:
    case yc:
      return new r3(t3);
    case mc:
      return cc(t3);
    case pc:
      return new r3();
    case wc:
      return fc(t3);
  }
}
function gi(t3) {
  return typeof t3.constructor == "function" && !Ae(t3) ? Fo(yn(t3)) : {};
}
var Cc = "[object Map]";
function Nc(t3) {
  return H2(t3) && C2(t3) == Cc;
}
var sr = bt && bt.isMap;
var Dc = sr ? dn(sr) : Nc;
var Ic = "[object Set]";
function Rc(t3) {
  return H2(t3) && C2(t3) == Ic;
}
var ur = bt && bt.isSet;
var Fc = ur ? dn(ur) : Rc;
var Lc = 1;
var kc = 2;
var Wc = 4;
var mi = "[object Arguments]";
var Yc = "[object Array]";
var Hc = "[object Boolean]";
var Gc = "[object Date]";
var Bc = "[object Error]";
var pi = "[object Function]";
var qc = "[object GeneratorFunction]";
var jc = "[object Map]";
var zc = "[object Number]";
var yi = "[object Object]";
var Xc = "[object RegExp]";
var Uc = "[object Set]";
var Vc = "[object String]";
var Qc = "[object Symbol]";
var Kc = "[object WeakMap]";
var Zc = "[object ArrayBuffer]";
var Jc = "[object DataView]";
var tf = "[object Float32Array]";
var ef = "[object Float64Array]";
var nf = "[object Int8Array]";
var rf = "[object Int16Array]";
var af = "[object Int32Array]";
var of = "[object Uint8Array]";
var sf = "[object Uint8ClampedArray]";
var uf = "[object Uint16Array]";
var cf = "[object Uint32Array]";
var M2 = {};
M2[mi] = M2[Yc] = M2[Zc] = M2[Jc] = M2[Hc] = M2[Gc] = M2[tf] = M2[ef] = M2[nf] = M2[rf] = M2[af] = M2[jc] = M2[zc] = M2[yi] = M2[Xc] = M2[Uc] = M2[Vc] = M2[Qc] = M2[of] = M2[sf] = M2[uf] = M2[cf] = true;
M2[Bc] = M2[pi] = M2[Kc] = false;
function oe(t3, e2, n2, r3, i10, a2) {
  var o2, s2 = e2 & Lc, u3 = e2 & kc, c2 = e2 & Wc;
  if (n2 && (o2 = i10 ? n2(t3, r3, i10, a2) : n2(t3)), o2 !== void 0)
    return o2;
  if (!X2(t3))
    return t3;
  var f2 = $2(t3);
  if (f2) {
    if (o2 = oc(t3), !s2)
      return Vr(t3, o2);
  } else {
    var l2 = C2(t3), h3 = l2 == pi || l2 == qc;
    if (wt(t3))
      return ci(t3, s2);
    if (l2 == yi || l2 == mi || h3 && !i10) {
      if (o2 = u3 || h3 ? {} : gi(t3), !s2)
        return u3 ? Qu(t3, Bu(o2, t3)) : Uu(t3, Gu(o2, t3));
    } else {
      if (!M2[l2])
        return i10 ? t3 : {};
      o2 = Ec(t3, l2, s2);
    }
  }
  a2 || (a2 = new R2());
  var d2 = a2.get(t3);
  if (d2)
    return d2;
  a2.set(t3, o2), Fc(t3) ? t3.forEach(function(p3) {
    o2.add(oe(p3, e2, n2, p3, t3, a2));
  }) : Dc(t3) && t3.forEach(function(p3, v4) {
    o2.set(v4, oe(p3, e2, n2, v4, t3, a2));
  });
  var g3 = c2 ? u3 ? Ku : qe : u3 ? qt : Pe, m3 = f2 ? void 0 : g3(t3);
  return zo(m3 || t3, function(p3, v4) {
    m3 && (v4 = p3, p3 = t3[v4]), Qr(o2, v4, oe(p3, e2, n2, v4, t3, a2));
  }), o2;
}
var ff = 1;
var lf = 4;
function hf(t3) {
  return oe(t3, ff | lf);
}
var df = "__lodash_hash_undefined__";
function gf(t3) {
  return this.__data__.set(t3, df), this;
}
function mf(t3) {
  return this.__data__.has(t3);
}
function Lt(t3) {
  var e2 = -1, n2 = t3 == null ? 0 : t3.length;
  for (this.__data__ = new V2(); ++e2 < n2; )
    this.add(t3[e2]);
}
Lt.prototype.add = Lt.prototype.push = gf;
Lt.prototype.has = mf;
function pf(t3, e2) {
  for (var n2 = -1, r3 = t3 == null ? 0 : t3.length; ++n2 < r3; )
    if (e2(t3[n2], n2, t3))
      return true;
  return false;
}
function wi(t3, e2) {
  return t3.has(e2);
}
var yf = 1;
var wf = 2;
function bi(t3, e2, n2, r3, i10, a2) {
  var o2 = n2 & yf, s2 = t3.length, u3 = e2.length;
  if (s2 != u3 && !(o2 && u3 > s2))
    return false;
  var c2 = a2.get(t3), f2 = a2.get(e2);
  if (c2 && f2)
    return c2 == e2 && f2 == t3;
  var l2 = -1, h3 = true, d2 = n2 & wf ? new Lt() : void 0;
  for (a2.set(t3, e2), a2.set(e2, t3); ++l2 < s2; ) {
    var g3 = t3[l2], m3 = e2[l2];
    if (r3)
      var p3 = o2 ? r3(m3, g3, l2, e2, t3, a2) : r3(g3, m3, l2, t3, e2, a2);
    if (p3 !== void 0) {
      if (p3)
        continue;
      h3 = false;
      break;
    }
    if (d2) {
      if (!pf(e2, function(v4, w3) {
        if (!wi(d2, w3) && (g3 === v4 || i10(g3, v4, n2, r3, a2)))
          return d2.push(w3);
      })) {
        h3 = false;
        break;
      }
    } else if (!(g3 === m3 || i10(g3, m3, n2, r3, a2))) {
      h3 = false;
      break;
    }
  }
  return a2.delete(t3), a2.delete(e2), h3;
}
function bf(t3) {
  var e2 = -1, n2 = Array(t3.size);
  return t3.forEach(function(r3, i10) {
    n2[++e2] = [i10, r3];
  }), n2;
}
function _n(t3) {
  var e2 = -1, n2 = Array(t3.size);
  return t3.forEach(function(r3) {
    n2[++e2] = r3;
  }), n2;
}
var _f = 1;
var vf = 2;
var xf = "[object Boolean]";
var Mf = "[object Date]";
var Tf = "[object Error]";
var Sf = "[object Map]";
var Af = "[object Number]";
var Of = "[object RegExp]";
var Pf = "[object Set]";
var $f = "[object String]";
var Ef = "[object Symbol]";
var Cf = "[object ArrayBuffer]";
var Nf = "[object DataView]";
var cr = N2 ? N2.prototype : void 0;
var ke = cr ? cr.valueOf : void 0;
function Df(t3, e2, n2, r3, i10, a2, o2) {
  switch (n2) {
    case Nf:
      if (t3.byteLength != e2.byteLength || t3.byteOffset != e2.byteOffset)
        return false;
      t3 = t3.buffer, e2 = e2.buffer;
    case Cf:
      return !(t3.byteLength != e2.byteLength || !a2(new he(t3), new he(e2)));
    case xf:
    case Mf:
    case Af:
      return Ht(+t3, +e2);
    case Tf:
      return t3.name == e2.name && t3.message == e2.message;
    case Of:
    case $f:
      return t3 == e2 + "";
    case Sf:
      var s2 = bf;
    case Pf:
      var u3 = r3 & _f;
      if (s2 || (s2 = _n), t3.size != e2.size && !u3)
        return false;
      var c2 = o2.get(t3);
      if (c2)
        return c2 == e2;
      r3 |= vf, o2.set(t3, e2);
      var f2 = bi(s2(t3), s2(e2), r3, i10, a2, o2);
      return o2.delete(t3), f2;
    case Ef:
      if (ke)
        return ke.call(t3) == ke.call(e2);
  }
  return false;
}
var If = 1;
var Rf = Object.prototype;
var Ff = Rf.hasOwnProperty;
function Lf(t3, e2, n2, r3, i10, a2) {
  var o2 = n2 & If, s2 = qe(t3), u3 = s2.length, c2 = qe(e2), f2 = c2.length;
  if (u3 != f2 && !o2)
    return false;
  for (var l2 = u3; l2--; ) {
    var h3 = s2[l2];
    if (!(o2 ? h3 in e2 : Ff.call(e2, h3)))
      return false;
  }
  var d2 = a2.get(t3), g3 = a2.get(e2);
  if (d2 && g3)
    return d2 == e2 && g3 == t3;
  var m3 = true;
  a2.set(t3, e2), a2.set(e2, t3);
  for (var p3 = o2; ++l2 < u3; ) {
    h3 = s2[l2];
    var v4 = t3[h3], w3 = e2[h3];
    if (r3)
      var _4 = o2 ? r3(w3, v4, h3, e2, t3, a2) : r3(v4, w3, h3, t3, e2, a2);
    if (!(_4 === void 0 ? v4 === w3 || i10(v4, w3, n2, r3, a2) : _4)) {
      m3 = false;
      break;
    }
    p3 || (p3 = h3 == "constructor");
  }
  if (m3 && !p3) {
    var A2 = t3.constructor, S3 = e2.constructor;
    A2 != S3 && "constructor" in t3 && "constructor" in e2 && !(typeof A2 == "function" && A2 instanceof A2 && typeof S3 == "function" && S3 instanceof S3) && (m3 = false);
  }
  return a2.delete(t3), a2.delete(e2), m3;
}
var kf = 1;
var fr = "[object Arguments]";
var lr = "[object Array]";
var Jt = "[object Object]";
var Wf = Object.prototype;
var hr = Wf.hasOwnProperty;
function Yf(t3, e2, n2, r3, i10, a2) {
  var o2 = $2(t3), s2 = $2(e2), u3 = o2 ? lr : C2(t3), c2 = s2 ? lr : C2(e2);
  u3 = u3 == fr ? Jt : u3, c2 = c2 == fr ? Jt : c2;
  var f2 = u3 == Jt, l2 = c2 == Jt, h3 = u3 == c2;
  if (h3 && wt(t3)) {
    if (!wt(e2))
      return false;
    o2 = true, f2 = false;
  }
  if (h3 && !f2)
    return a2 || (a2 = new R2()), o2 || Oe(t3) ? bi(t3, e2, n2, r3, i10, a2) : Df(t3, e2, u3, n2, r3, i10, a2);
  if (!(n2 & kf)) {
    var d2 = f2 && hr.call(t3, "__wrapped__"), g3 = l2 && hr.call(e2, "__wrapped__");
    if (d2 || g3) {
      var m3 = d2 ? t3.value() : t3, p3 = g3 ? e2.value() : e2;
      return a2 || (a2 = new R2()), i10(m3, p3, n2, r3, a2);
    }
  }
  return h3 ? (a2 || (a2 = new R2()), Lf(t3, e2, n2, r3, i10, a2)) : false;
}
function vn(t3, e2, n2, r3, i10) {
  return t3 === e2 ? true : t3 == null || e2 == null || !H2(t3) && !H2(e2) ? t3 !== t3 && e2 !== e2 : Yf(t3, e2, n2, r3, vn, i10);
}
var Hf = 1;
var Gf = 2;
function Bf(t3, e2, n2, r3) {
  var i10 = n2.length, a2 = i10;
  if (t3 == null)
    return !a2;
  for (t3 = Object(t3); i10--; ) {
    var o2 = n2[i10];
    if (o2[2] ? o2[1] !== t3[o2[0]] : !(o2[0] in t3))
      return false;
  }
  for (; ++i10 < a2; ) {
    o2 = n2[i10];
    var s2 = o2[0], u3 = t3[s2], c2 = o2[1];
    if (o2[2]) {
      if (u3 === void 0 && !(s2 in t3))
        return false;
    } else {
      var f2 = new R2(), l2;
      if (!(l2 === void 0 ? vn(c2, u3, Hf | Gf, r3, f2) : l2))
        return false;
    }
  }
  return true;
}
function _i(t3) {
  return t3 === t3 && !X2(t3);
}
function qf(t3) {
  for (var e2 = Pe(t3), n2 = e2.length; n2--; ) {
    var r3 = e2[n2], i10 = t3[r3];
    e2[n2] = [r3, i10, _i(i10)];
  }
  return e2;
}
function vi(t3, e2) {
  return function(n2) {
    return n2 == null ? false : n2[t3] === e2 && (e2 !== void 0 || t3 in Object(n2));
  };
}
function jf(t3) {
  var e2 = qf(t3);
  return e2.length == 1 && e2[0][2] ? vi(e2[0][0], e2[0][1]) : function(n2) {
    return n2 === t3 || Bf(n2, t3, e2);
  };
}
function zf(t3, e2) {
  return t3 != null && e2 in Object(t3);
}
function Xf(t3, e2, n2) {
  e2 = ii(e2, t3);
  for (var r3 = -1, i10 = e2.length, a2 = false; ++r3 < i10; ) {
    var o2 = Ce(e2[r3]);
    if (!(a2 = t3 != null && n2(t3, o2)))
      break;
    t3 = t3[o2];
  }
  return a2 || ++r3 != i10 ? a2 : (i10 = t3 == null ? 0 : t3.length, !!i10 && hn(i10) && fn(o2, i10) && ($2(t3) || yt(t3)));
}
function Uf(t3, e2) {
  return t3 != null && Xf(t3, e2, zf);
}
var Vf = 1;
var Qf = 2;
function Kf(t3, e2) {
  return gn(t3) && _i(e2) ? vi(Ce(t3), e2) : function(n2) {
    var r3 = Pu(n2, t3);
    return r3 === void 0 && r3 === e2 ? Uf(n2, t3) : vn(e2, r3, Vf | Qf);
  };
}
function Zf(t3) {
  return function(e2) {
    return e2 == null ? void 0 : e2[t3];
  };
}
function Jf(t3) {
  return function(e2) {
    return ai(e2, t3);
  };
}
function tl(t3) {
  return gn(t3) ? Zf(Ce(t3)) : Jf(t3);
}
function el(t3) {
  return typeof t3 == "function" ? t3 : t3 == null ? un : typeof t3 == "object" ? $2(t3) ? Kf(t3[0], t3[1]) : jf(t3) : tl(t3);
}
function nl(t3) {
  return function(e2, n2, r3) {
    for (var i10 = -1, a2 = Object(e2), o2 = r3(e2), s2 = o2.length; s2--; ) {
      var u3 = o2[++i10];
      if (n2(a2[u3], u3, a2) === false)
        break;
    }
    return e2;
  };
}
var rl = nl();
function Xe(t3, e2, n2) {
  (n2 !== void 0 && !Ht(t3[e2], n2) || n2 === void 0 && !(e2 in t3)) && ln(t3, e2, n2);
}
function Ue(t3) {
  return H2(t3) && Bt(t3);
}
function Ve(t3, e2) {
  if (!(e2 === "constructor" && typeof t3[e2] == "function") && e2 != "__proto__")
    return t3[e2];
}
function il(t3) {
  return Gt(t3, qt(t3));
}
function al(t3, e2, n2, r3, i10, a2, o2) {
  var s2 = Ve(t3, n2), u3 = Ve(e2, n2), c2 = o2.get(u3);
  if (c2) {
    Xe(t3, n2, c2);
    return;
  }
  var f2 = a2 ? a2(s2, u3, n2 + "", t3, e2, o2) : void 0, l2 = f2 === void 0;
  if (l2) {
    var h3 = $2(u3), d2 = !h3 && wt(u3), g3 = !h3 && !d2 && Oe(u3);
    f2 = u3, h3 || d2 || g3 ? $2(s2) ? f2 = s2 : Ue(s2) ? f2 = Vr(s2) : d2 ? (l2 = false, f2 = ci(u3, true)) : g3 ? (l2 = false, f2 = di(u3, true)) : f2 = [] : Ru(u3) || yt(u3) ? (f2 = s2, yt(s2) ? f2 = il(s2) : (!X2(s2) || cn(s2)) && (f2 = gi(u3))) : l2 = false;
  }
  l2 && (o2.set(u3, f2), i10(f2, u3, r3, a2, o2), o2.delete(u3)), Xe(t3, n2, f2);
}
function xi(t3, e2, n2, r3, i10) {
  t3 !== e2 && rl(e2, function(a2, o2) {
    if (i10 || (i10 = new R2()), X2(a2))
      al(t3, e2, o2, n2, xi, r3, i10);
    else {
      var s2 = r3 ? r3(Ve(t3, o2), a2, o2 + "", t3, e2, i10) : void 0;
      s2 === void 0 && (s2 = a2), Xe(t3, o2, s2);
    }
  }, qt);
}
function ol(t3) {
  var e2 = t3 == null ? 0 : t3.length;
  return e2 ? t3[e2 - 1] : void 0;
}
var sl = "[object Map]";
var ul = "[object Set]";
var cl = Object.prototype;
var fl = cl.hasOwnProperty;
function ll(t3) {
  if (t3 == null)
    return true;
  if (Bt(t3) && ($2(t3) || typeof t3 == "string" || typeof t3.splice == "function" || wt(t3) || Oe(t3) || yt(t3)))
    return !t3.length;
  var e2 = C2(t3);
  if (e2 == sl || e2 == ul)
    return !t3.size;
  if (Ae(t3))
    return !ri(t3).length;
  for (var n2 in t3)
    if (fl.call(t3, n2))
      return false;
  return true;
}
var y2 = as(function(t3, e2, n2) {
  xi(t3, e2, n2);
});
var hl = 1 / 0;
var dl = mt && 1 / _n(new mt([, -0]))[1] == hl ? function(t3) {
  return new mt(t3);
} : ko;
var gl = 200;
function Mi(t3, e2, n2) {
  var r3 = -1, i10 = Ko, a2 = t3.length, o2 = true, s2 = [], u3 = s2;
  if (a2 >= gl) {
    var c2 = e2 ? null : dl(t3);
    if (c2)
      return _n(c2);
    o2 = false, i10 = wi, u3 = new Lt();
  } else
    u3 = e2 ? [] : s2;
  t:
    for (; ++r3 < a2; ) {
      var f2 = t3[r3], l2 = e2 ? e2(f2) : f2;
      if (f2 = f2 !== 0 ? f2 : 0, o2 && l2 === l2) {
        for (var h3 = u3.length; h3--; )
          if (u3[h3] === l2)
            continue t;
        e2 && u3.push(l2), s2.push(f2);
      } else i10(u3, l2, n2) || (u3 !== s2 && u3.push(l2), s2.push(f2));
    }
  return s2;
}
var ml = Kr(function(t3) {
  var e2 = ol(t3);
  return Ue(e2) && (e2 = void 0), Mi(oi(t3, 1, Ue, true), el(e2));
});
function H0(t3) {
  return t3 && t3.length ? Mi(t3) : [];
}
function se(t3, e2) {
  return t3 == null || e2 == null ? NaN : t3 < e2 ? -1 : t3 > e2 ? 1 : t3 >= e2 ? 0 : NaN;
}
function pl(t3, e2) {
  return t3 == null || e2 == null ? NaN : e2 < t3 ? -1 : e2 > t3 ? 1 : e2 >= t3 ? 0 : NaN;
}
function Ti(t3) {
  let e2, n2, r3;
  t3.length !== 2 ? (e2 = se, n2 = (s2, u3) => se(t3(s2), u3), r3 = (s2, u3) => t3(s2) - u3) : (e2 = t3 === se || t3 === pl ? t3 : yl, n2 = t3, r3 = t3);
  function i10(s2, u3, c2 = 0, f2 = s2.length) {
    if (c2 < f2) {
      if (e2(u3, u3) !== 0) return f2;
      do {
        const l2 = c2 + f2 >>> 1;
        n2(s2[l2], u3) < 0 ? c2 = l2 + 1 : f2 = l2;
      } while (c2 < f2);
    }
    return c2;
  }
  function a2(s2, u3, c2 = 0, f2 = s2.length) {
    if (c2 < f2) {
      if (e2(u3, u3) !== 0) return f2;
      do {
        const l2 = c2 + f2 >>> 1;
        n2(s2[l2], u3) <= 0 ? c2 = l2 + 1 : f2 = l2;
      } while (c2 < f2);
    }
    return c2;
  }
  function o2(s2, u3, c2 = 0, f2 = s2.length) {
    const l2 = i10(s2, u3, c2, f2 - 1);
    return l2 > c2 && r3(s2[l2 - 1], u3) > -r3(s2[l2], u3) ? l2 - 1 : l2;
  }
  return { left: i10, center: o2, right: a2 };
}
function yl() {
  return 0;
}
function wl(t3) {
  return t3 === null ? NaN : +t3;
}
function* G0(t3, e2) {
  for (let n2 of t3)
    n2 != null && (n2 = +n2) >= n2 && (yield n2);
}
var bl = Ti(se);
var Si = bl.right;
Ti(wl).center;
function _l(t3, e2) {
  let n2, r3;
  if (e2 === void 0)
    for (const i10 of t3)
      i10 != null && (n2 === void 0 ? i10 >= i10 && (n2 = r3 = i10) : (n2 > i10 && (n2 = i10), r3 < i10 && (r3 = i10)));
  else {
    let i10 = -1;
    for (let a2 of t3)
      (a2 = e2(a2, ++i10, t3)) != null && (n2 === void 0 ? a2 >= a2 && (n2 = r3 = a2) : (n2 > a2 && (n2 = a2), r3 < a2 && (r3 = a2)));
  }
  return [n2, r3];
}
var dr = class extends Map {
  constructor(e2, n2 = Ml) {
    if (super(), Object.defineProperties(this, { _intern: { value: /* @__PURE__ */ new Map() }, _key: { value: n2 } }), e2 != null) for (const [r3, i10] of e2) this.set(r3, i10);
  }
  get(e2) {
    return super.get(gr(this, e2));
  }
  has(e2) {
    return super.has(gr(this, e2));
  }
  set(e2, n2) {
    return super.set(vl(this, e2), n2);
  }
  delete(e2) {
    return super.delete(xl(this, e2));
  }
};
function gr({ _intern: t3, _key: e2 }, n2) {
  const r3 = e2(n2);
  return t3.has(r3) ? t3.get(r3) : n2;
}
function vl({ _intern: t3, _key: e2 }, n2) {
  const r3 = e2(n2);
  return t3.has(r3) ? t3.get(r3) : (t3.set(r3, n2), n2);
}
function xl({ _intern: t3, _key: e2 }, n2) {
  const r3 = e2(n2);
  return t3.has(r3) && (n2 = t3.get(r3), t3.delete(r3)), n2;
}
function Ml(t3) {
  return t3 !== null && typeof t3 == "object" ? t3.valueOf() : t3;
}
var Tl = Math.sqrt(50);
var Sl = Math.sqrt(10);
var Al = Math.sqrt(2);
function de(t3, e2, n2) {
  const r3 = (e2 - t3) / Math.max(0, n2), i10 = Math.floor(Math.log10(r3)), a2 = r3 / Math.pow(10, i10), o2 = a2 >= Tl ? 10 : a2 >= Sl ? 5 : a2 >= Al ? 2 : 1;
  let s2, u3, c2;
  return i10 < 0 ? (c2 = Math.pow(10, -i10) / o2, s2 = Math.round(t3 * c2), u3 = Math.round(e2 * c2), s2 / c2 < t3 && ++s2, u3 / c2 > e2 && --u3, c2 = -c2) : (c2 = Math.pow(10, i10) * o2, s2 = Math.round(t3 / c2), u3 = Math.round(e2 / c2), s2 * c2 < t3 && ++s2, u3 * c2 > e2 && --u3), u3 < s2 && 0.5 <= n2 && n2 < 2 ? de(t3, e2, n2 * 2) : [s2, u3, c2];
}
function Ol(t3, e2, n2) {
  if (e2 = +e2, t3 = +t3, n2 = +n2, !(n2 > 0)) return [];
  if (t3 === e2) return [t3];
  const r3 = e2 < t3, [i10, a2, o2] = r3 ? de(e2, t3, n2) : de(t3, e2, n2);
  if (!(a2 >= i10)) return [];
  const s2 = a2 - i10 + 1, u3 = new Array(s2);
  if (r3)
    if (o2 < 0) for (let c2 = 0; c2 < s2; ++c2) u3[c2] = (a2 - c2) / -o2;
    else for (let c2 = 0; c2 < s2; ++c2) u3[c2] = (a2 - c2) * o2;
  else if (o2 < 0) for (let c2 = 0; c2 < s2; ++c2) u3[c2] = (i10 + c2) / -o2;
  else for (let c2 = 0; c2 < s2; ++c2) u3[c2] = (i10 + c2) * o2;
  return u3;
}
function Qe(t3, e2, n2) {
  return e2 = +e2, t3 = +t3, n2 = +n2, de(t3, e2, n2)[2];
}
function Pl(t3, e2, n2) {
  e2 = +e2, t3 = +t3, n2 = +n2;
  const r3 = e2 < t3, i10 = r3 ? Qe(e2, t3, n2) : Qe(t3, e2, n2);
  return (r3 ? -1 : 1) * (i10 < 0 ? 1 / -i10 : i10);
}
function B0(t3, e2) {
  let n2;
  if (e2 === void 0)
    for (const r3 of t3)
      r3 != null && (n2 < r3 || n2 === void 0 && r3 >= r3) && (n2 = r3);
  else {
    let r3 = -1;
    for (let i10 of t3)
      (i10 = e2(i10, ++r3, t3)) != null && (n2 < i10 || n2 === void 0 && i10 >= i10) && (n2 = i10);
  }
  return n2;
}
function $l(t3, e2) {
  let n2;
  for (const r3 of t3)
    r3 != null && (n2 > r3 || n2 === void 0 && r3 >= r3) && (n2 = r3);
  return n2;
}
var El = { value: () => {
} };
function Ai() {
  for (var t3 = 0, e2 = arguments.length, n2 = {}, r3; t3 < e2; ++t3) {
    if (!(r3 = arguments[t3] + "") || r3 in n2 || /[\s.]/.test(r3)) throw new Error("illegal type: " + r3);
    n2[r3] = [];
  }
  return new ue(n2);
}
function ue(t3) {
  this._ = t3;
}
function Cl(t3, e2) {
  return t3.trim().split(/^|\s+/).map(function(n2) {
    var r3 = "", i10 = n2.indexOf(".");
    if (i10 >= 0 && (r3 = n2.slice(i10 + 1), n2 = n2.slice(0, i10)), n2 && !e2.hasOwnProperty(n2)) throw new Error("unknown type: " + n2);
    return { type: n2, name: r3 };
  });
}
ue.prototype = Ai.prototype = {
  constructor: ue,
  on: function(t3, e2) {
    var n2 = this._, r3 = Cl(t3 + "", n2), i10, a2 = -1, o2 = r3.length;
    if (arguments.length < 2) {
      for (; ++a2 < o2; ) if ((i10 = (t3 = r3[a2]).type) && (i10 = Nl(n2[i10], t3.name))) return i10;
      return;
    }
    if (e2 != null && typeof e2 != "function") throw new Error("invalid callback: " + e2);
    for (; ++a2 < o2; )
      if (i10 = (t3 = r3[a2]).type) n2[i10] = mr(n2[i10], t3.name, e2);
      else if (e2 == null) for (i10 in n2) n2[i10] = mr(n2[i10], t3.name, null);
    return this;
  },
  copy: function() {
    var t3 = {}, e2 = this._;
    for (var n2 in e2) t3[n2] = e2[n2].slice();
    return new ue(t3);
  },
  call: function(t3, e2) {
    if ((i10 = arguments.length - 2) > 0) for (var n2 = new Array(i10), r3 = 0, i10, a2; r3 < i10; ++r3) n2[r3] = arguments[r3 + 2];
    if (!this._.hasOwnProperty(t3)) throw new Error("unknown type: " + t3);
    for (a2 = this._[t3], r3 = 0, i10 = a2.length; r3 < i10; ++r3) a2[r3].value.apply(e2, n2);
  },
  apply: function(t3, e2, n2) {
    if (!this._.hasOwnProperty(t3)) throw new Error("unknown type: " + t3);
    for (var r3 = this._[t3], i10 = 0, a2 = r3.length; i10 < a2; ++i10) r3[i10].value.apply(e2, n2);
  }
};
function Nl(t3, e2) {
  for (var n2 = 0, r3 = t3.length, i10; n2 < r3; ++n2)
    if ((i10 = t3[n2]).name === e2)
      return i10.value;
}
function mr(t3, e2, n2) {
  for (var r3 = 0, i10 = t3.length; r3 < i10; ++r3)
    if (t3[r3].name === e2) {
      t3[r3] = El, t3 = t3.slice(0, r3).concat(t3.slice(r3 + 1));
      break;
    }
  return n2 != null && t3.push({ name: e2, value: n2 }), t3;
}
var Ke = "http://www.w3.org/1999/xhtml";
var pr = {
  svg: "http://www.w3.org/2000/svg",
  xhtml: Ke,
  xlink: "http://www.w3.org/1999/xlink",
  xml: "http://www.w3.org/XML/1998/namespace",
  xmlns: "http://www.w3.org/2000/xmlns/"
};
function Ne(t3) {
  var e2 = t3 += "", n2 = e2.indexOf(":");
  return n2 >= 0 && (e2 = t3.slice(0, n2)) !== "xmlns" && (t3 = t3.slice(n2 + 1)), pr.hasOwnProperty(e2) ? { space: pr[e2], local: t3 } : t3;
}
function Dl(t3) {
  return function() {
    var e2 = this.ownerDocument, n2 = this.namespaceURI;
    return n2 === Ke && e2.documentElement.namespaceURI === Ke ? e2.createElement(t3) : e2.createElementNS(n2, t3);
  };
}
function Il(t3) {
  return function() {
    return this.ownerDocument.createElementNS(t3.space, t3.local);
  };
}
function Oi(t3) {
  var e2 = Ne(t3);
  return (e2.local ? Il : Dl)(e2);
}
function Rl() {
}
function xn(t3) {
  return t3 == null ? Rl : function() {
    return this.querySelector(t3);
  };
}
function Fl(t3) {
  typeof t3 != "function" && (t3 = xn(t3));
  for (var e2 = this._groups, n2 = e2.length, r3 = new Array(n2), i10 = 0; i10 < n2; ++i10)
    for (var a2 = e2[i10], o2 = a2.length, s2 = r3[i10] = new Array(o2), u3, c2, f2 = 0; f2 < o2; ++f2)
      (u3 = a2[f2]) && (c2 = t3.call(u3, u3.__data__, f2, a2)) && ("__data__" in u3 && (c2.__data__ = u3.__data__), s2[f2] = c2);
  return new F2(r3, this._parents);
}
function Ll(t3) {
  return t3 == null ? [] : Array.isArray(t3) ? t3 : Array.from(t3);
}
function kl() {
  return [];
}
function Pi(t3) {
  return t3 == null ? kl : function() {
    return this.querySelectorAll(t3);
  };
}
function Wl(t3) {
  return function() {
    return Ll(t3.apply(this, arguments));
  };
}
function Yl(t3) {
  typeof t3 == "function" ? t3 = Wl(t3) : t3 = Pi(t3);
  for (var e2 = this._groups, n2 = e2.length, r3 = [], i10 = [], a2 = 0; a2 < n2; ++a2)
    for (var o2 = e2[a2], s2 = o2.length, u3, c2 = 0; c2 < s2; ++c2)
      (u3 = o2[c2]) && (r3.push(t3.call(u3, u3.__data__, c2, o2)), i10.push(u3));
  return new F2(r3, i10);
}
function $i(t3) {
  return function() {
    return this.matches(t3);
  };
}
function Ei(t3) {
  return function(e2) {
    return e2.matches(t3);
  };
}
var Hl = Array.prototype.find;
function Gl(t3) {
  return function() {
    return Hl.call(this.children, t3);
  };
}
function Bl() {
  return this.firstElementChild;
}
function ql(t3) {
  return this.select(t3 == null ? Bl : Gl(typeof t3 == "function" ? t3 : Ei(t3)));
}
var jl = Array.prototype.filter;
function zl() {
  return Array.from(this.children);
}
function Xl(t3) {
  return function() {
    return jl.call(this.children, t3);
  };
}
function Ul(t3) {
  return this.selectAll(t3 == null ? zl : Xl(typeof t3 == "function" ? t3 : Ei(t3)));
}
function Vl(t3) {
  typeof t3 != "function" && (t3 = $i(t3));
  for (var e2 = this._groups, n2 = e2.length, r3 = new Array(n2), i10 = 0; i10 < n2; ++i10)
    for (var a2 = e2[i10], o2 = a2.length, s2 = r3[i10] = [], u3, c2 = 0; c2 < o2; ++c2)
      (u3 = a2[c2]) && t3.call(u3, u3.__data__, c2, a2) && s2.push(u3);
  return new F2(r3, this._parents);
}
function Ci(t3) {
  return new Array(t3.length);
}
function Ql() {
  return new F2(this._enter || this._groups.map(Ci), this._parents);
}
function ge(t3, e2) {
  this.ownerDocument = t3.ownerDocument, this.namespaceURI = t3.namespaceURI, this._next = null, this._parent = t3, this.__data__ = e2;
}
ge.prototype = {
  constructor: ge,
  appendChild: function(t3) {
    return this._parent.insertBefore(t3, this._next);
  },
  insertBefore: function(t3, e2) {
    return this._parent.insertBefore(t3, e2);
  },
  querySelector: function(t3) {
    return this._parent.querySelector(t3);
  },
  querySelectorAll: function(t3) {
    return this._parent.querySelectorAll(t3);
  }
};
function Kl(t3) {
  return function() {
    return t3;
  };
}
function Zl(t3, e2, n2, r3, i10, a2) {
  for (var o2 = 0, s2, u3 = e2.length, c2 = a2.length; o2 < c2; ++o2)
    (s2 = e2[o2]) ? (s2.__data__ = a2[o2], r3[o2] = s2) : n2[o2] = new ge(t3, a2[o2]);
  for (; o2 < u3; ++o2)
    (s2 = e2[o2]) && (i10[o2] = s2);
}
function Jl(t3, e2, n2, r3, i10, a2, o2) {
  var s2, u3, c2 = /* @__PURE__ */ new Map(), f2 = e2.length, l2 = a2.length, h3 = new Array(f2), d2;
  for (s2 = 0; s2 < f2; ++s2)
    (u3 = e2[s2]) && (h3[s2] = d2 = o2.call(u3, u3.__data__, s2, e2) + "", c2.has(d2) ? i10[s2] = u3 : c2.set(d2, u3));
  for (s2 = 0; s2 < l2; ++s2)
    d2 = o2.call(t3, a2[s2], s2, a2) + "", (u3 = c2.get(d2)) ? (r3[s2] = u3, u3.__data__ = a2[s2], c2.delete(d2)) : n2[s2] = new ge(t3, a2[s2]);
  for (s2 = 0; s2 < f2; ++s2)
    (u3 = e2[s2]) && c2.get(h3[s2]) === u3 && (i10[s2] = u3);
}
function th(t3) {
  return t3.__data__;
}
function eh(t3, e2) {
  if (!arguments.length) return Array.from(this, th);
  var n2 = e2 ? Jl : Zl, r3 = this._parents, i10 = this._groups;
  typeof t3 != "function" && (t3 = Kl(t3));
  for (var a2 = i10.length, o2 = new Array(a2), s2 = new Array(a2), u3 = new Array(a2), c2 = 0; c2 < a2; ++c2) {
    var f2 = r3[c2], l2 = i10[c2], h3 = l2.length, d2 = nh(t3.call(f2, f2 && f2.__data__, c2, r3)), g3 = d2.length, m3 = s2[c2] = new Array(g3), p3 = o2[c2] = new Array(g3), v4 = u3[c2] = new Array(h3);
    n2(f2, l2, m3, p3, v4, d2, e2);
    for (var w3 = 0, _4 = 0, A2, S3; w3 < g3; ++w3)
      if (A2 = m3[w3]) {
        for (w3 >= _4 && (_4 = w3 + 1); !(S3 = p3[_4]) && ++_4 < g3; ) ;
        A2._next = S3 || null;
      }
  }
  return o2 = new F2(o2, r3), o2._enter = s2, o2._exit = u3, o2;
}
function nh(t3) {
  return typeof t3 == "object" && "length" in t3 ? t3 : Array.from(t3);
}
function rh() {
  return new F2(this._exit || this._groups.map(Ci), this._parents);
}
function ih(t3, e2, n2) {
  var r3 = this.enter(), i10 = this, a2 = this.exit();
  return typeof t3 == "function" ? (r3 = t3(r3), r3 && (r3 = r3.selection())) : r3 = r3.append(t3 + ""), e2 != null && (i10 = e2(i10), i10 && (i10 = i10.selection())), n2 == null ? a2.remove() : n2(a2), r3 && i10 ? r3.merge(i10).order() : i10;
}
function ah(t3) {
  for (var e2 = t3.selection ? t3.selection() : t3, n2 = this._groups, r3 = e2._groups, i10 = n2.length, a2 = r3.length, o2 = Math.min(i10, a2), s2 = new Array(i10), u3 = 0; u3 < o2; ++u3)
    for (var c2 = n2[u3], f2 = r3[u3], l2 = c2.length, h3 = s2[u3] = new Array(l2), d2, g3 = 0; g3 < l2; ++g3)
      (d2 = c2[g3] || f2[g3]) && (h3[g3] = d2);
  for (; u3 < i10; ++u3)
    s2[u3] = n2[u3];
  return new F2(s2, this._parents);
}
function oh() {
  for (var t3 = this._groups, e2 = -1, n2 = t3.length; ++e2 < n2; )
    for (var r3 = t3[e2], i10 = r3.length - 1, a2 = r3[i10], o2; --i10 >= 0; )
      (o2 = r3[i10]) && (a2 && o2.compareDocumentPosition(a2) ^ 4 && a2.parentNode.insertBefore(o2, a2), a2 = o2);
  return this;
}
function sh(t3) {
  t3 || (t3 = uh);
  function e2(l2, h3) {
    return l2 && h3 ? t3(l2.__data__, h3.__data__) : !l2 - !h3;
  }
  for (var n2 = this._groups, r3 = n2.length, i10 = new Array(r3), a2 = 0; a2 < r3; ++a2) {
    for (var o2 = n2[a2], s2 = o2.length, u3 = i10[a2] = new Array(s2), c2, f2 = 0; f2 < s2; ++f2)
      (c2 = o2[f2]) && (u3[f2] = c2);
    u3.sort(e2);
  }
  return new F2(i10, this._parents).order();
}
function uh(t3, e2) {
  return t3 < e2 ? -1 : t3 > e2 ? 1 : t3 >= e2 ? 0 : NaN;
}
function ch() {
  var t3 = arguments[0];
  return arguments[0] = this, t3.apply(null, arguments), this;
}
function fh() {
  return Array.from(this);
}
function lh() {
  for (var t3 = this._groups, e2 = 0, n2 = t3.length; e2 < n2; ++e2)
    for (var r3 = t3[e2], i10 = 0, a2 = r3.length; i10 < a2; ++i10) {
      var o2 = r3[i10];
      if (o2) return o2;
    }
  return null;
}
function hh() {
  let t3 = 0;
  for (const e2 of this) ++t3;
  return t3;
}
function dh() {
  return !this.node();
}
function gh(t3) {
  for (var e2 = this._groups, n2 = 0, r3 = e2.length; n2 < r3; ++n2)
    for (var i10 = e2[n2], a2 = 0, o2 = i10.length, s2; a2 < o2; ++a2)
      (s2 = i10[a2]) && t3.call(s2, s2.__data__, a2, i10);
  return this;
}
function mh(t3) {
  return function() {
    this.removeAttribute(t3);
  };
}
function ph(t3) {
  return function() {
    this.removeAttributeNS(t3.space, t3.local);
  };
}
function yh(t3, e2) {
  return function() {
    this.setAttribute(t3, e2);
  };
}
function wh(t3, e2) {
  return function() {
    this.setAttributeNS(t3.space, t3.local, e2);
  };
}
function bh(t3, e2) {
  return function() {
    var n2 = e2.apply(this, arguments);
    n2 == null ? this.removeAttribute(t3) : this.setAttribute(t3, n2);
  };
}
function _h(t3, e2) {
  return function() {
    var n2 = e2.apply(this, arguments);
    n2 == null ? this.removeAttributeNS(t3.space, t3.local) : this.setAttributeNS(t3.space, t3.local, n2);
  };
}
function vh(t3, e2) {
  var n2 = Ne(t3);
  if (arguments.length < 2) {
    var r3 = this.node();
    return n2.local ? r3.getAttributeNS(n2.space, n2.local) : r3.getAttribute(n2);
  }
  return this.each((e2 == null ? n2.local ? ph : mh : typeof e2 == "function" ? n2.local ? _h : bh : n2.local ? wh : yh)(n2, e2));
}
function Ni(t3) {
  return t3.ownerDocument && t3.ownerDocument.defaultView || t3.document && t3 || t3.defaultView;
}
function xh(t3) {
  return function() {
    this.style.removeProperty(t3);
  };
}
function Mh(t3, e2, n2) {
  return function() {
    this.style.setProperty(t3, e2, n2);
  };
}
function Th(t3, e2, n2) {
  return function() {
    var r3 = e2.apply(this, arguments);
    r3 == null ? this.style.removeProperty(t3) : this.style.setProperty(t3, r3, n2);
  };
}
function Sh(t3, e2, n2) {
  return arguments.length > 1 ? this.each((e2 == null ? xh : typeof e2 == "function" ? Th : Mh)(t3, e2, n2 ?? "")) : _t(this.node(), t3);
}
function _t(t3, e2) {
  return t3.style.getPropertyValue(e2) || Ni(t3).getComputedStyle(t3, null).getPropertyValue(e2);
}
function Ah(t3) {
  return function() {
    delete this[t3];
  };
}
function Oh(t3, e2) {
  return function() {
    this[t3] = e2;
  };
}
function Ph(t3, e2) {
  return function() {
    var n2 = e2.apply(this, arguments);
    n2 == null ? delete this[t3] : this[t3] = n2;
  };
}
function $h(t3, e2) {
  return arguments.length > 1 ? this.each((e2 == null ? Ah : typeof e2 == "function" ? Ph : Oh)(t3, e2)) : this.node()[t3];
}
function Di(t3) {
  return t3.trim().split(/^|\s+/);
}
function Mn(t3) {
  return t3.classList || new Ii(t3);
}
function Ii(t3) {
  this._node = t3, this._names = Di(t3.getAttribute("class") || "");
}
Ii.prototype = {
  add: function(t3) {
    var e2 = this._names.indexOf(t3);
    e2 < 0 && (this._names.push(t3), this._node.setAttribute("class", this._names.join(" ")));
  },
  remove: function(t3) {
    var e2 = this._names.indexOf(t3);
    e2 >= 0 && (this._names.splice(e2, 1), this._node.setAttribute("class", this._names.join(" ")));
  },
  contains: function(t3) {
    return this._names.indexOf(t3) >= 0;
  }
};
function Ri(t3, e2) {
  for (var n2 = Mn(t3), r3 = -1, i10 = e2.length; ++r3 < i10; ) n2.add(e2[r3]);
}
function Fi(t3, e2) {
  for (var n2 = Mn(t3), r3 = -1, i10 = e2.length; ++r3 < i10; ) n2.remove(e2[r3]);
}
function Eh(t3) {
  return function() {
    Ri(this, t3);
  };
}
function Ch(t3) {
  return function() {
    Fi(this, t3);
  };
}
function Nh(t3, e2) {
  return function() {
    (e2.apply(this, arguments) ? Ri : Fi)(this, t3);
  };
}
function Dh(t3, e2) {
  var n2 = Di(t3 + "");
  if (arguments.length < 2) {
    for (var r3 = Mn(this.node()), i10 = -1, a2 = n2.length; ++i10 < a2; ) if (!r3.contains(n2[i10])) return false;
    return true;
  }
  return this.each((typeof e2 == "function" ? Nh : e2 ? Eh : Ch)(n2, e2));
}
function Ih() {
  this.textContent = "";
}
function Rh(t3) {
  return function() {
    this.textContent = t3;
  };
}
function Fh(t3) {
  return function() {
    var e2 = t3.apply(this, arguments);
    this.textContent = e2 ?? "";
  };
}
function Lh(t3) {
  return arguments.length ? this.each(t3 == null ? Ih : (typeof t3 == "function" ? Fh : Rh)(t3)) : this.node().textContent;
}
function kh() {
  this.innerHTML = "";
}
function Wh(t3) {
  return function() {
    this.innerHTML = t3;
  };
}
function Yh(t3) {
  return function() {
    var e2 = t3.apply(this, arguments);
    this.innerHTML = e2 ?? "";
  };
}
function Hh(t3) {
  return arguments.length ? this.each(t3 == null ? kh : (typeof t3 == "function" ? Yh : Wh)(t3)) : this.node().innerHTML;
}
function Gh() {
  this.nextSibling && this.parentNode.appendChild(this);
}
function Bh() {
  return this.each(Gh);
}
function qh() {
  this.previousSibling && this.parentNode.insertBefore(this, this.parentNode.firstChild);
}
function jh() {
  return this.each(qh);
}
function zh(t3) {
  var e2 = typeof t3 == "function" ? t3 : Oi(t3);
  return this.select(function() {
    return this.appendChild(e2.apply(this, arguments));
  });
}
function Xh() {
  return null;
}
function Uh(t3, e2) {
  var n2 = typeof t3 == "function" ? t3 : Oi(t3), r3 = e2 == null ? Xh : typeof e2 == "function" ? e2 : xn(e2);
  return this.select(function() {
    return this.insertBefore(n2.apply(this, arguments), r3.apply(this, arguments) || null);
  });
}
function Vh() {
  var t3 = this.parentNode;
  t3 && t3.removeChild(this);
}
function Qh() {
  return this.each(Vh);
}
function Kh() {
  var t3 = this.cloneNode(false), e2 = this.parentNode;
  return e2 ? e2.insertBefore(t3, this.nextSibling) : t3;
}
function Zh() {
  var t3 = this.cloneNode(true), e2 = this.parentNode;
  return e2 ? e2.insertBefore(t3, this.nextSibling) : t3;
}
function Jh(t3) {
  return this.select(t3 ? Zh : Kh);
}
function td(t3) {
  return arguments.length ? this.property("__data__", t3) : this.node().__data__;
}
function ed(t3) {
  return function(e2) {
    t3.call(this, e2, this.__data__);
  };
}
function nd(t3) {
  return t3.trim().split(/^|\s+/).map(function(e2) {
    var n2 = "", r3 = e2.indexOf(".");
    return r3 >= 0 && (n2 = e2.slice(r3 + 1), e2 = e2.slice(0, r3)), { type: e2, name: n2 };
  });
}
function rd(t3) {
  return function() {
    var e2 = this.__on;
    if (e2) {
      for (var n2 = 0, r3 = -1, i10 = e2.length, a2; n2 < i10; ++n2)
        a2 = e2[n2], (!t3.type || a2.type === t3.type) && a2.name === t3.name ? this.removeEventListener(a2.type, a2.listener, a2.options) : e2[++r3] = a2;
      ++r3 ? e2.length = r3 : delete this.__on;
    }
  };
}
function id(t3, e2, n2) {
  return function() {
    var r3 = this.__on, i10, a2 = ed(e2);
    if (r3) {
      for (var o2 = 0, s2 = r3.length; o2 < s2; ++o2)
        if ((i10 = r3[o2]).type === t3.type && i10.name === t3.name) {
          this.removeEventListener(i10.type, i10.listener, i10.options), this.addEventListener(i10.type, i10.listener = a2, i10.options = n2), i10.value = e2;
          return;
        }
    }
    this.addEventListener(t3.type, a2, n2), i10 = { type: t3.type, name: t3.name, value: e2, listener: a2, options: n2 }, r3 ? r3.push(i10) : this.__on = [i10];
  };
}
function ad(t3, e2, n2) {
  var r3 = nd(t3 + ""), i10, a2 = r3.length, o2;
  if (arguments.length < 2) {
    var s2 = this.node().__on;
    if (s2) {
      for (var u3 = 0, c2 = s2.length, f2; u3 < c2; ++u3)
        for (i10 = 0, f2 = s2[u3]; i10 < a2; ++i10)
          if ((o2 = r3[i10]).type === f2.type && o2.name === f2.name)
            return f2.value;
    }
    return;
  }
  for (s2 = e2 ? id : rd, i10 = 0; i10 < a2; ++i10) this.each(s2(r3[i10], e2, n2));
  return this;
}
function Li(t3, e2, n2) {
  var r3 = Ni(t3), i10 = r3.CustomEvent;
  typeof i10 == "function" ? i10 = new i10(e2, n2) : (i10 = r3.document.createEvent("Event"), n2 ? (i10.initEvent(e2, n2.bubbles, n2.cancelable), i10.detail = n2.detail) : i10.initEvent(e2, false, false)), t3.dispatchEvent(i10);
}
function od(t3, e2) {
  return function() {
    return Li(this, t3, e2);
  };
}
function sd(t3, e2) {
  return function() {
    return Li(this, t3, e2.apply(this, arguments));
  };
}
function ud(t3, e2) {
  return this.each((typeof e2 == "function" ? sd : od)(t3, e2));
}
function* cd() {
  for (var t3 = this._groups, e2 = 0, n2 = t3.length; e2 < n2; ++e2)
    for (var r3 = t3[e2], i10 = 0, a2 = r3.length, o2; i10 < a2; ++i10)
      (o2 = r3[i10]) && (yield o2);
}
var fd = [null];
function F2(t3, e2) {
  this._groups = t3, this._parents = e2;
}
function jt() {
  return new F2([[document.documentElement]], fd);
}
function ld() {
  return this;
}
F2.prototype = jt.prototype = {
  constructor: F2,
  select: Fl,
  selectAll: Yl,
  selectChild: ql,
  selectChildren: Ul,
  filter: Vl,
  data: eh,
  enter: Ql,
  exit: rh,
  join: ih,
  merge: ah,
  selection: ld,
  order: oh,
  sort: sh,
  call: ch,
  nodes: fh,
  node: lh,
  size: hh,
  empty: dh,
  each: gh,
  attr: vh,
  style: Sh,
  property: $h,
  classed: Dh,
  text: Lh,
  html: Hh,
  raise: Bh,
  lower: jh,
  append: zh,
  insert: Uh,
  remove: Qh,
  clone: Jh,
  datum: td,
  on: ad,
  dispatch: ud,
  [Symbol.iterator]: cd
};
function hd(t3) {
  let e2;
  for (; e2 = t3.sourceEvent; ) t3 = e2;
  return t3;
}
function dd(t3, e2) {
  if (t3 = hd(t3), e2 === void 0 && (e2 = t3.currentTarget), e2) {
    var n2 = e2.ownerSVGElement || e2;
    if (n2.createSVGPoint) {
      var r3 = n2.createSVGPoint();
      return r3.x = t3.clientX, r3.y = t3.clientY, r3 = r3.matrixTransform(e2.getScreenCTM().inverse()), [r3.x, r3.y];
    }
    if (e2.getBoundingClientRect) {
      var i10 = e2.getBoundingClientRect();
      return [t3.clientX - i10.left - e2.clientLeft, t3.clientY - i10.top - e2.clientTop];
    }
  }
  return [t3.pageX, t3.pageY];
}
function Tn(t3, e2, n2) {
  t3.prototype = e2.prototype = n2, n2.constructor = t3;
}
function ki(t3, e2) {
  var n2 = Object.create(t3.prototype);
  for (var r3 in e2) n2[r3] = e2[r3];
  return n2;
}
function zt() {
}
var kt = 0.7;
var me = 1 / kt;
var pt = "\\s*([+-]?\\d+)\\s*";
var Wt = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*";
var Y2 = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*";
var gd = /^#([0-9a-f]{3,8})$/;
var md = new RegExp(`^rgb\\(${pt},${pt},${pt}\\)$`);
var pd = new RegExp(`^rgb\\(${Y2},${Y2},${Y2}\\)$`);
var yd = new RegExp(`^rgba\\(${pt},${pt},${pt},${Wt}\\)$`);
var wd = new RegExp(`^rgba\\(${Y2},${Y2},${Y2},${Wt}\\)$`);
var bd = new RegExp(`^hsl\\(${Wt},${Y2},${Y2}\\)$`);
var _d = new RegExp(`^hsla\\(${Wt},${Y2},${Y2},${Wt}\\)$`);
var yr = {
  aliceblue: 15792383,
  antiquewhite: 16444375,
  aqua: 65535,
  aquamarine: 8388564,
  azure: 15794175,
  beige: 16119260,
  bisque: 16770244,
  black: 0,
  blanchedalmond: 16772045,
  blue: 255,
  blueviolet: 9055202,
  brown: 10824234,
  burlywood: 14596231,
  cadetblue: 6266528,
  chartreuse: 8388352,
  chocolate: 13789470,
  coral: 16744272,
  cornflowerblue: 6591981,
  cornsilk: 16775388,
  crimson: 14423100,
  cyan: 65535,
  darkblue: 139,
  darkcyan: 35723,
  darkgoldenrod: 12092939,
  darkgray: 11119017,
  darkgreen: 25600,
  darkgrey: 11119017,
  darkkhaki: 12433259,
  darkmagenta: 9109643,
  darkolivegreen: 5597999,
  darkorange: 16747520,
  darkorchid: 10040012,
  darkred: 9109504,
  darksalmon: 15308410,
  darkseagreen: 9419919,
  darkslateblue: 4734347,
  darkslategray: 3100495,
  darkslategrey: 3100495,
  darkturquoise: 52945,
  darkviolet: 9699539,
  deeppink: 16716947,
  deepskyblue: 49151,
  dimgray: 6908265,
  dimgrey: 6908265,
  dodgerblue: 2003199,
  firebrick: 11674146,
  floralwhite: 16775920,
  forestgreen: 2263842,
  fuchsia: 16711935,
  gainsboro: 14474460,
  ghostwhite: 16316671,
  gold: 16766720,
  goldenrod: 14329120,
  gray: 8421504,
  green: 32768,
  greenyellow: 11403055,
  grey: 8421504,
  honeydew: 15794160,
  hotpink: 16738740,
  indianred: 13458524,
  indigo: 4915330,
  ivory: 16777200,
  khaki: 15787660,
  lavender: 15132410,
  lavenderblush: 16773365,
  lawngreen: 8190976,
  lemonchiffon: 16775885,
  lightblue: 11393254,
  lightcoral: 15761536,
  lightcyan: 14745599,
  lightgoldenrodyellow: 16448210,
  lightgray: 13882323,
  lightgreen: 9498256,
  lightgrey: 13882323,
  lightpink: 16758465,
  lightsalmon: 16752762,
  lightseagreen: 2142890,
  lightskyblue: 8900346,
  lightslategray: 7833753,
  lightslategrey: 7833753,
  lightsteelblue: 11584734,
  lightyellow: 16777184,
  lime: 65280,
  limegreen: 3329330,
  linen: 16445670,
  magenta: 16711935,
  maroon: 8388608,
  mediumaquamarine: 6737322,
  mediumblue: 205,
  mediumorchid: 12211667,
  mediumpurple: 9662683,
  mediumseagreen: 3978097,
  mediumslateblue: 8087790,
  mediumspringgreen: 64154,
  mediumturquoise: 4772300,
  mediumvioletred: 13047173,
  midnightblue: 1644912,
  mintcream: 16121850,
  mistyrose: 16770273,
  moccasin: 16770229,
  navajowhite: 16768685,
  navy: 128,
  oldlace: 16643558,
  olive: 8421376,
  olivedrab: 7048739,
  orange: 16753920,
  orangered: 16729344,
  orchid: 14315734,
  palegoldenrod: 15657130,
  palegreen: 10025880,
  paleturquoise: 11529966,
  palevioletred: 14381203,
  papayawhip: 16773077,
  peachpuff: 16767673,
  peru: 13468991,
  pink: 16761035,
  plum: 14524637,
  powderblue: 11591910,
  purple: 8388736,
  rebeccapurple: 6697881,
  red: 16711680,
  rosybrown: 12357519,
  royalblue: 4286945,
  saddlebrown: 9127187,
  salmon: 16416882,
  sandybrown: 16032864,
  seagreen: 3050327,
  seashell: 16774638,
  sienna: 10506797,
  silver: 12632256,
  skyblue: 8900331,
  slateblue: 6970061,
  slategray: 7372944,
  slategrey: 7372944,
  snow: 16775930,
  springgreen: 65407,
  steelblue: 4620980,
  tan: 13808780,
  teal: 32896,
  thistle: 14204888,
  tomato: 16737095,
  turquoise: 4251856,
  violet: 15631086,
  wheat: 16113331,
  white: 16777215,
  whitesmoke: 16119285,
  yellow: 16776960,
  yellowgreen: 10145074
};
Tn(zt, at, {
  copy(t3) {
    return Object.assign(new this.constructor(), this, t3);
  },
  displayable() {
    return this.rgb().displayable();
  },
  hex: wr,
  // Deprecated! Use color.formatHex.
  formatHex: wr,
  formatHex8: vd,
  formatHsl: xd,
  formatRgb: br,
  toString: br
});
function wr() {
  return this.rgb().formatHex();
}
function vd() {
  return this.rgb().formatHex8();
}
function xd() {
  return Wi(this).formatHsl();
}
function br() {
  return this.rgb().formatRgb();
}
function at(t3) {
  var e2, n2;
  return t3 = (t3 + "").trim().toLowerCase(), (e2 = gd.exec(t3)) ? (n2 = e2[1].length, e2 = parseInt(e2[1], 16), n2 === 6 ? _r(e2) : n2 === 3 ? new P2(e2 >> 8 & 15 | e2 >> 4 & 240, e2 >> 4 & 15 | e2 & 240, (e2 & 15) << 4 | e2 & 15, 1) : n2 === 8 ? te(e2 >> 24 & 255, e2 >> 16 & 255, e2 >> 8 & 255, (e2 & 255) / 255) : n2 === 4 ? te(e2 >> 12 & 15 | e2 >> 8 & 240, e2 >> 8 & 15 | e2 >> 4 & 240, e2 >> 4 & 15 | e2 & 240, ((e2 & 15) << 4 | e2 & 15) / 255) : null) : (e2 = md.exec(t3)) ? new P2(e2[1], e2[2], e2[3], 1) : (e2 = pd.exec(t3)) ? new P2(e2[1] * 255 / 100, e2[2] * 255 / 100, e2[3] * 255 / 100, 1) : (e2 = yd.exec(t3)) ? te(e2[1], e2[2], e2[3], e2[4]) : (e2 = wd.exec(t3)) ? te(e2[1] * 255 / 100, e2[2] * 255 / 100, e2[3] * 255 / 100, e2[4]) : (e2 = bd.exec(t3)) ? Mr(e2[1], e2[2] / 100, e2[3] / 100, 1) : (e2 = _d.exec(t3)) ? Mr(e2[1], e2[2] / 100, e2[3] / 100, e2[4]) : yr.hasOwnProperty(t3) ? _r(yr[t3]) : t3 === "transparent" ? new P2(NaN, NaN, NaN, 0) : null;
}
function _r(t3) {
  return new P2(t3 >> 16 & 255, t3 >> 8 & 255, t3 & 255, 1);
}
function te(t3, e2, n2, r3) {
  return r3 <= 0 && (t3 = e2 = n2 = NaN), new P2(t3, e2, n2, r3);
}
function Md(t3) {
  return t3 instanceof zt || (t3 = at(t3)), t3 ? (t3 = t3.rgb(), new P2(t3.r, t3.g, t3.b, t3.opacity)) : new P2();
}
function Ze(t3, e2, n2, r3) {
  return arguments.length === 1 ? Md(t3) : new P2(t3, e2, n2, r3 ?? 1);
}
function P2(t3, e2, n2, r3) {
  this.r = +t3, this.g = +e2, this.b = +n2, this.opacity = +r3;
}
Tn(P2, Ze, ki(zt, {
  brighter(t3) {
    return t3 = t3 == null ? me : Math.pow(me, t3), new P2(this.r * t3, this.g * t3, this.b * t3, this.opacity);
  },
  darker(t3) {
    return t3 = t3 == null ? kt : Math.pow(kt, t3), new P2(this.r * t3, this.g * t3, this.b * t3, this.opacity);
  },
  rgb() {
    return this;
  },
  clamp() {
    return new P2(nt(this.r), nt(this.g), nt(this.b), pe(this.opacity));
  },
  displayable() {
    return -0.5 <= this.r && this.r < 255.5 && -0.5 <= this.g && this.g < 255.5 && -0.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;
  },
  hex: vr,
  // Deprecated! Use color.formatHex.
  formatHex: vr,
  formatHex8: Td,
  formatRgb: xr,
  toString: xr
}));
function vr() {
  return `#${et(this.r)}${et(this.g)}${et(this.b)}`;
}
function Td() {
  return `#${et(this.r)}${et(this.g)}${et(this.b)}${et((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;
}
function xr() {
  const t3 = pe(this.opacity);
  return `${t3 === 1 ? "rgb(" : "rgba("}${nt(this.r)}, ${nt(this.g)}, ${nt(this.b)}${t3 === 1 ? ")" : `, ${t3})`}`;
}
function pe(t3) {
  return isNaN(t3) ? 1 : Math.max(0, Math.min(1, t3));
}
function nt(t3) {
  return Math.max(0, Math.min(255, Math.round(t3) || 0));
}
function et(t3) {
  return t3 = nt(t3), (t3 < 16 ? "0" : "") + t3.toString(16);
}
function Mr(t3, e2, n2, r3) {
  return r3 <= 0 ? t3 = e2 = n2 = NaN : n2 <= 0 || n2 >= 1 ? t3 = e2 = NaN : e2 <= 0 && (t3 = NaN), new I2(t3, e2, n2, r3);
}
function Wi(t3) {
  if (t3 instanceof I2) return new I2(t3.h, t3.s, t3.l, t3.opacity);
  if (t3 instanceof zt || (t3 = at(t3)), !t3) return new I2();
  if (t3 instanceof I2) return t3;
  t3 = t3.rgb();
  var e2 = t3.r / 255, n2 = t3.g / 255, r3 = t3.b / 255, i10 = Math.min(e2, n2, r3), a2 = Math.max(e2, n2, r3), o2 = NaN, s2 = a2 - i10, u3 = (a2 + i10) / 2;
  return s2 ? (e2 === a2 ? o2 = (n2 - r3) / s2 + (n2 < r3) * 6 : n2 === a2 ? o2 = (r3 - e2) / s2 + 2 : o2 = (e2 - n2) / s2 + 4, s2 /= u3 < 0.5 ? a2 + i10 : 2 - a2 - i10, o2 *= 60) : s2 = u3 > 0 && u3 < 1 ? 0 : o2, new I2(o2, s2, u3, t3.opacity);
}
function Sd(t3, e2, n2, r3) {
  return arguments.length === 1 ? Wi(t3) : new I2(t3, e2, n2, r3 ?? 1);
}
function I2(t3, e2, n2, r3) {
  this.h = +t3, this.s = +e2, this.l = +n2, this.opacity = +r3;
}
Tn(I2, Sd, ki(zt, {
  brighter(t3) {
    return t3 = t3 == null ? me : Math.pow(me, t3), new I2(this.h, this.s, this.l * t3, this.opacity);
  },
  darker(t3) {
    return t3 = t3 == null ? kt : Math.pow(kt, t3), new I2(this.h, this.s, this.l * t3, this.opacity);
  },
  rgb() {
    var t3 = this.h % 360 + (this.h < 0) * 360, e2 = isNaN(t3) || isNaN(this.s) ? 0 : this.s, n2 = this.l, r3 = n2 + (n2 < 0.5 ? n2 : 1 - n2) * e2, i10 = 2 * n2 - r3;
    return new P2(
      We(t3 >= 240 ? t3 - 240 : t3 + 120, i10, r3),
      We(t3, i10, r3),
      We(t3 < 120 ? t3 + 240 : t3 - 120, i10, r3),
      this.opacity
    );
  },
  clamp() {
    return new I2(Tr(this.h), ee(this.s), ee(this.l), pe(this.opacity));
  },
  displayable() {
    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;
  },
  formatHsl() {
    const t3 = pe(this.opacity);
    return `${t3 === 1 ? "hsl(" : "hsla("}${Tr(this.h)}, ${ee(this.s) * 100}%, ${ee(this.l) * 100}%${t3 === 1 ? ")" : `, ${t3})`}`;
  }
}));
function Tr(t3) {
  return t3 = (t3 || 0) % 360, t3 < 0 ? t3 + 360 : t3;
}
function ee(t3) {
  return Math.max(0, Math.min(1, t3 || 0));
}
function We(t3, e2, n2) {
  return (t3 < 60 ? e2 + (n2 - e2) * t3 / 60 : t3 < 180 ? n2 : t3 < 240 ? e2 + (n2 - e2) * (240 - t3) / 60 : e2) * 255;
}
var Sn = (t3) => () => t3;
function Ad(t3, e2) {
  return function(n2) {
    return t3 + n2 * e2;
  };
}
function Od(t3, e2, n2) {
  return t3 = Math.pow(t3, n2), e2 = Math.pow(e2, n2) - t3, n2 = 1 / n2, function(r3) {
    return Math.pow(t3 + r3 * e2, n2);
  };
}
function Pd(t3) {
  return (t3 = +t3) == 1 ? Yi : function(e2, n2) {
    return n2 - e2 ? Od(e2, n2, t3) : Sn(isNaN(e2) ? n2 : e2);
  };
}
function Yi(t3, e2) {
  var n2 = e2 - t3;
  return n2 ? Ad(t3, n2) : Sn(isNaN(t3) ? e2 : t3);
}
var ye = function t2(e2) {
  var n2 = Pd(e2);
  function r3(i10, a2) {
    var o2 = n2((i10 = Ze(i10)).r, (a2 = Ze(a2)).r), s2 = n2(i10.g, a2.g), u3 = n2(i10.b, a2.b), c2 = Yi(i10.opacity, a2.opacity);
    return function(f2) {
      return i10.r = o2(f2), i10.g = s2(f2), i10.b = u3(f2), i10.opacity = c2(f2), i10 + "";
    };
  }
  return r3.gamma = t2, r3;
}(1);
function $d(t3, e2) {
  e2 || (e2 = []);
  var n2 = t3 ? Math.min(e2.length, t3.length) : 0, r3 = e2.slice(), i10;
  return function(a2) {
    for (i10 = 0; i10 < n2; ++i10) r3[i10] = t3[i10] * (1 - a2) + e2[i10] * a2;
    return r3;
  };
}
function Ed(t3) {
  return ArrayBuffer.isView(t3) && !(t3 instanceof DataView);
}
function Cd(t3, e2) {
  var n2 = e2 ? e2.length : 0, r3 = t3 ? Math.min(n2, t3.length) : 0, i10 = new Array(r3), a2 = new Array(n2), o2;
  for (o2 = 0; o2 < r3; ++o2) i10[o2] = An(t3[o2], e2[o2]);
  for (; o2 < n2; ++o2) a2[o2] = e2[o2];
  return function(s2) {
    for (o2 = 0; o2 < r3; ++o2) a2[o2] = i10[o2](s2);
    return a2;
  };
}
function Nd(t3, e2) {
  var n2 = /* @__PURE__ */ new Date();
  return t3 = +t3, e2 = +e2, function(r3) {
    return n2.setTime(t3 * (1 - r3) + e2 * r3), n2;
  };
}
function D2(t3, e2) {
  return t3 = +t3, e2 = +e2, function(n2) {
    return t3 * (1 - n2) + e2 * n2;
  };
}
function Dd(t3, e2) {
  var n2 = {}, r3 = {}, i10;
  (t3 === null || typeof t3 != "object") && (t3 = {}), (e2 === null || typeof e2 != "object") && (e2 = {});
  for (i10 in e2)
    i10 in t3 ? n2[i10] = An(t3[i10], e2[i10]) : r3[i10] = e2[i10];
  return function(a2) {
    for (i10 in n2) r3[i10] = n2[i10](a2);
    return r3;
  };
}
var Je = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;
var Ye = new RegExp(Je.source, "g");
function Id(t3) {
  return function() {
    return t3;
  };
}
function Rd(t3) {
  return function(e2) {
    return t3(e2) + "";
  };
}
function Hi(t3, e2) {
  var n2 = Je.lastIndex = Ye.lastIndex = 0, r3, i10, a2, o2 = -1, s2 = [], u3 = [];
  for (t3 = t3 + "", e2 = e2 + ""; (r3 = Je.exec(t3)) && (i10 = Ye.exec(e2)); )
    (a2 = i10.index) > n2 && (a2 = e2.slice(n2, a2), s2[o2] ? s2[o2] += a2 : s2[++o2] = a2), (r3 = r3[0]) === (i10 = i10[0]) ? s2[o2] ? s2[o2] += i10 : s2[++o2] = i10 : (s2[++o2] = null, u3.push({ i: o2, x: D2(r3, i10) })), n2 = Ye.lastIndex;
  return n2 < e2.length && (a2 = e2.slice(n2), s2[o2] ? s2[o2] += a2 : s2[++o2] = a2), s2.length < 2 ? u3[0] ? Rd(u3[0].x) : Id(e2) : (e2 = u3.length, function(c2) {
    for (var f2 = 0, l2; f2 < e2; ++f2) s2[(l2 = u3[f2]).i] = l2.x(c2);
    return s2.join("");
  });
}
function An(t3, e2) {
  var n2 = typeof e2, r3;
  return e2 == null || n2 === "boolean" ? Sn(e2) : (n2 === "number" ? D2 : n2 === "string" ? (r3 = at(e2)) ? (e2 = r3, ye) : Hi : e2 instanceof at ? ye : e2 instanceof Date ? Nd : Ed(e2) ? $d : Array.isArray(e2) ? Cd : typeof e2.valueOf != "function" && typeof e2.toString != "function" || isNaN(e2) ? Dd : D2)(t3, e2);
}
function Fd(t3, e2) {
  return t3 = +t3, e2 = +e2, function(n2) {
    return Math.round(t3 * (1 - n2) + e2 * n2);
  };
}
var Sr = 180 / Math.PI;
var tn = {
  translateX: 0,
  translateY: 0,
  rotate: 0,
  skewX: 0,
  scaleX: 1,
  scaleY: 1
};
function Gi(t3, e2, n2, r3, i10, a2) {
  var o2, s2, u3;
  return (o2 = Math.sqrt(t3 * t3 + e2 * e2)) && (t3 /= o2, e2 /= o2), (u3 = t3 * n2 + e2 * r3) && (n2 -= t3 * u3, r3 -= e2 * u3), (s2 = Math.sqrt(n2 * n2 + r3 * r3)) && (n2 /= s2, r3 /= s2, u3 /= s2), t3 * r3 < e2 * n2 && (t3 = -t3, e2 = -e2, u3 = -u3, o2 = -o2), {
    translateX: i10,
    translateY: a2,
    rotate: Math.atan2(e2, t3) * Sr,
    skewX: Math.atan(u3) * Sr,
    scaleX: o2,
    scaleY: s2
  };
}
var ne;
function Ld(t3) {
  const e2 = new (typeof DOMMatrix == "function" ? DOMMatrix : WebKitCSSMatrix)(t3 + "");
  return e2.isIdentity ? tn : Gi(e2.a, e2.b, e2.c, e2.d, e2.e, e2.f);
}
function kd(t3) {
  return t3 == null || (ne || (ne = document.createElementNS("http://www.w3.org/2000/svg", "g")), ne.setAttribute("transform", t3), !(t3 = ne.transform.baseVal.consolidate())) ? tn : (t3 = t3.matrix, Gi(t3.a, t3.b, t3.c, t3.d, t3.e, t3.f));
}
function Bi(t3, e2, n2, r3) {
  function i10(c2) {
    return c2.length ? c2.pop() + " " : "";
  }
  function a2(c2, f2, l2, h3, d2, g3) {
    if (c2 !== l2 || f2 !== h3) {
      var m3 = d2.push("translate(", null, e2, null, n2);
      g3.push({ i: m3 - 4, x: D2(c2, l2) }, { i: m3 - 2, x: D2(f2, h3) });
    } else (l2 || h3) && d2.push("translate(" + l2 + e2 + h3 + n2);
  }
  function o2(c2, f2, l2, h3) {
    c2 !== f2 ? (c2 - f2 > 180 ? f2 += 360 : f2 - c2 > 180 && (c2 += 360), h3.push({ i: l2.push(i10(l2) + "rotate(", null, r3) - 2, x: D2(c2, f2) })) : f2 && l2.push(i10(l2) + "rotate(" + f2 + r3);
  }
  function s2(c2, f2, l2, h3) {
    c2 !== f2 ? h3.push({ i: l2.push(i10(l2) + "skewX(", null, r3) - 2, x: D2(c2, f2) }) : f2 && l2.push(i10(l2) + "skewX(" + f2 + r3);
  }
  function u3(c2, f2, l2, h3, d2, g3) {
    if (c2 !== l2 || f2 !== h3) {
      var m3 = d2.push(i10(d2) + "scale(", null, ",", null, ")");
      g3.push({ i: m3 - 4, x: D2(c2, l2) }, { i: m3 - 2, x: D2(f2, h3) });
    } else (l2 !== 1 || h3 !== 1) && d2.push(i10(d2) + "scale(" + l2 + "," + h3 + ")");
  }
  return function(c2, f2) {
    var l2 = [], h3 = [];
    return c2 = t3(c2), f2 = t3(f2), a2(c2.translateX, c2.translateY, f2.translateX, f2.translateY, l2, h3), o2(c2.rotate, f2.rotate, l2, h3), s2(c2.skewX, f2.skewX, l2, h3), u3(c2.scaleX, c2.scaleY, f2.scaleX, f2.scaleY, l2, h3), c2 = f2 = null, function(d2) {
      for (var g3 = -1, m3 = h3.length, p3; ++g3 < m3; ) l2[(p3 = h3[g3]).i] = p3.x(d2);
      return l2.join("");
    };
  };
}
var Wd = Bi(Ld, "px, ", "px)", "deg)");
var Yd = Bi(kd, ", ", ")", ")");
var vt = 0;
var Et = 0;
var Pt = 0;
var qi = 1e3;
var we;
var Ct;
var be = 0;
var ot = 0;
var De = 0;
var Yt = typeof performance == "object" && performance.now ? performance : Date;
var ji = typeof window == "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(t3) {
  setTimeout(t3, 17);
};
function On() {
  return ot || (ji(Hd), ot = Yt.now() + De);
}
function Hd() {
  ot = 0;
}
function _e() {
  this._call = this._time = this._next = null;
}
_e.prototype = zi.prototype = {
  constructor: _e,
  restart: function(t3, e2, n2) {
    if (typeof t3 != "function") throw new TypeError("callback is not a function");
    n2 = (n2 == null ? On() : +n2) + (e2 == null ? 0 : +e2), !this._next && Ct !== this && (Ct ? Ct._next = this : we = this, Ct = this), this._call = t3, this._time = n2, en();
  },
  stop: function() {
    this._call && (this._call = null, this._time = 1 / 0, en());
  }
};
function zi(t3, e2, n2) {
  var r3 = new _e();
  return r3.restart(t3, e2, n2), r3;
}
function Gd() {
  On(), ++vt;
  for (var t3 = we, e2; t3; )
    (e2 = ot - t3._time) >= 0 && t3._call.call(void 0, e2), t3 = t3._next;
  --vt;
}
function Ar() {
  ot = (be = Yt.now()) + De, vt = Et = 0;
  try {
    Gd();
  } finally {
    vt = 0, qd(), ot = 0;
  }
}
function Bd() {
  var t3 = Yt.now(), e2 = t3 - be;
  e2 > qi && (De -= e2, be = t3);
}
function qd() {
  for (var t3, e2 = we, n2, r3 = 1 / 0; e2; )
    e2._call ? (r3 > e2._time && (r3 = e2._time), t3 = e2, e2 = e2._next) : (n2 = e2._next, e2._next = null, e2 = t3 ? t3._next = n2 : we = n2);
  Ct = t3, en(r3);
}
function en(t3) {
  if (!vt) {
    Et && (Et = clearTimeout(Et));
    var e2 = t3 - ot;
    e2 > 24 ? (t3 < 1 / 0 && (Et = setTimeout(Ar, t3 - Yt.now() - De)), Pt && (Pt = clearInterval(Pt))) : (Pt || (be = Yt.now(), Pt = setInterval(Bd, qi)), vt = 1, ji(Ar));
  }
}
function Or(t3, e2, n2) {
  var r3 = new _e();
  return e2 = e2 == null ? 0 : +e2, r3.restart((i10) => {
    r3.stop(), t3(i10 + e2);
  }, e2, n2), r3;
}
var jd = Ai("start", "end", "cancel", "interrupt");
var zd = [];
var Xi = 0;
var Pr = 1;
var nn = 2;
var ce = 3;
var $r = 4;
var rn = 5;
var fe = 6;
function Ie(t3, e2, n2, r3, i10, a2) {
  var o2 = t3.__transition;
  if (!o2) t3.__transition = {};
  else if (n2 in o2) return;
  Xd(t3, n2, {
    name: e2,
    index: r3,
    // For context during callback.
    group: i10,
    // For context during callback.
    on: jd,
    tween: zd,
    time: a2.time,
    delay: a2.delay,
    duration: a2.duration,
    ease: a2.ease,
    timer: null,
    state: Xi
  });
}
function Pn(t3, e2) {
  var n2 = k2(t3, e2);
  if (n2.state > Xi) throw new Error("too late; already scheduled");
  return n2;
}
function B2(t3, e2) {
  var n2 = k2(t3, e2);
  if (n2.state > ce) throw new Error("too late; already running");
  return n2;
}
function k2(t3, e2) {
  var n2 = t3.__transition;
  if (!n2 || !(n2 = n2[e2])) throw new Error("transition not found");
  return n2;
}
function Xd(t3, e2, n2) {
  var r3 = t3.__transition, i10;
  r3[e2] = n2, n2.timer = zi(a2, 0, n2.time);
  function a2(c2) {
    n2.state = Pr, n2.timer.restart(o2, n2.delay, n2.time), n2.delay <= c2 && o2(c2 - n2.delay);
  }
  function o2(c2) {
    var f2, l2, h3, d2;
    if (n2.state !== Pr) return u3();
    for (f2 in r3)
      if (d2 = r3[f2], d2.name === n2.name) {
        if (d2.state === ce) return Or(o2);
        d2.state === $r ? (d2.state = fe, d2.timer.stop(), d2.on.call("interrupt", t3, t3.__data__, d2.index, d2.group), delete r3[f2]) : +f2 < e2 && (d2.state = fe, d2.timer.stop(), d2.on.call("cancel", t3, t3.__data__, d2.index, d2.group), delete r3[f2]);
      }
    if (Or(function() {
      n2.state === ce && (n2.state = $r, n2.timer.restart(s2, n2.delay, n2.time), s2(c2));
    }), n2.state = nn, n2.on.call("start", t3, t3.__data__, n2.index, n2.group), n2.state === nn) {
      for (n2.state = ce, i10 = new Array(h3 = n2.tween.length), f2 = 0, l2 = -1; f2 < h3; ++f2)
        (d2 = n2.tween[f2].value.call(t3, t3.__data__, n2.index, n2.group)) && (i10[++l2] = d2);
      i10.length = l2 + 1;
    }
  }
  function s2(c2) {
    for (var f2 = c2 < n2.duration ? n2.ease.call(null, c2 / n2.duration) : (n2.timer.restart(u3), n2.state = rn, 1), l2 = -1, h3 = i10.length; ++l2 < h3; )
      i10[l2].call(t3, f2);
    n2.state === rn && (n2.on.call("end", t3, t3.__data__, n2.index, n2.group), u3());
  }
  function u3() {
    n2.state = fe, n2.timer.stop(), delete r3[e2];
    for (var c2 in r3) return;
    delete t3.__transition;
  }
}
function Ud(t3, e2) {
  var n2 = t3.__transition, r3, i10, a2 = true, o2;
  if (n2) {
    e2 = e2 == null ? null : e2 + "";
    for (o2 in n2) {
      if ((r3 = n2[o2]).name !== e2) {
        a2 = false;
        continue;
      }
      i10 = r3.state > nn && r3.state < rn, r3.state = fe, r3.timer.stop(), r3.on.call(i10 ? "interrupt" : "cancel", t3, t3.__data__, r3.index, r3.group), delete n2[o2];
    }
    a2 && delete t3.__transition;
  }
}
function Vd(t3) {
  return this.each(function() {
    Ud(this, t3);
  });
}
function Qd(t3, e2) {
  var n2, r3;
  return function() {
    var i10 = B2(this, t3), a2 = i10.tween;
    if (a2 !== n2) {
      r3 = n2 = a2;
      for (var o2 = 0, s2 = r3.length; o2 < s2; ++o2)
        if (r3[o2].name === e2) {
          r3 = r3.slice(), r3.splice(o2, 1);
          break;
        }
    }
    i10.tween = r3;
  };
}
function Kd(t3, e2, n2) {
  var r3, i10;
  if (typeof n2 != "function") throw new Error();
  return function() {
    var a2 = B2(this, t3), o2 = a2.tween;
    if (o2 !== r3) {
      i10 = (r3 = o2).slice();
      for (var s2 = { name: e2, value: n2 }, u3 = 0, c2 = i10.length; u3 < c2; ++u3)
        if (i10[u3].name === e2) {
          i10[u3] = s2;
          break;
        }
      u3 === c2 && i10.push(s2);
    }
    a2.tween = i10;
  };
}
function Zd(t3, e2) {
  var n2 = this._id;
  if (t3 += "", arguments.length < 2) {
    for (var r3 = k2(this.node(), n2).tween, i10 = 0, a2 = r3.length, o2; i10 < a2; ++i10)
      if ((o2 = r3[i10]).name === t3)
        return o2.value;
    return null;
  }
  return this.each((e2 == null ? Qd : Kd)(n2, t3, e2));
}
function $n(t3, e2, n2) {
  var r3 = t3._id;
  return t3.each(function() {
    var i10 = B2(this, r3);
    (i10.value || (i10.value = {}))[e2] = n2.apply(this, arguments);
  }), function(i10) {
    return k2(i10, r3).value[e2];
  };
}
function Ui(t3, e2) {
  var n2;
  return (typeof e2 == "number" ? D2 : e2 instanceof at ? ye : (n2 = at(e2)) ? (e2 = n2, ye) : Hi)(t3, e2);
}
function Jd(t3) {
  return function() {
    this.removeAttribute(t3);
  };
}
function tg(t3) {
  return function() {
    this.removeAttributeNS(t3.space, t3.local);
  };
}
function eg(t3, e2, n2) {
  var r3, i10 = n2 + "", a2;
  return function() {
    var o2 = this.getAttribute(t3);
    return o2 === i10 ? null : o2 === r3 ? a2 : a2 = e2(r3 = o2, n2);
  };
}
function ng(t3, e2, n2) {
  var r3, i10 = n2 + "", a2;
  return function() {
    var o2 = this.getAttributeNS(t3.space, t3.local);
    return o2 === i10 ? null : o2 === r3 ? a2 : a2 = e2(r3 = o2, n2);
  };
}
function rg(t3, e2, n2) {
  var r3, i10, a2;
  return function() {
    var o2, s2 = n2(this), u3;
    return s2 == null ? void this.removeAttribute(t3) : (o2 = this.getAttribute(t3), u3 = s2 + "", o2 === u3 ? null : o2 === r3 && u3 === i10 ? a2 : (i10 = u3, a2 = e2(r3 = o2, s2)));
  };
}
function ig(t3, e2, n2) {
  var r3, i10, a2;
  return function() {
    var o2, s2 = n2(this), u3;
    return s2 == null ? void this.removeAttributeNS(t3.space, t3.local) : (o2 = this.getAttributeNS(t3.space, t3.local), u3 = s2 + "", o2 === u3 ? null : o2 === r3 && u3 === i10 ? a2 : (i10 = u3, a2 = e2(r3 = o2, s2)));
  };
}
function ag(t3, e2) {
  var n2 = Ne(t3), r3 = n2 === "transform" ? Yd : Ui;
  return this.attrTween(t3, typeof e2 == "function" ? (n2.local ? ig : rg)(n2, r3, $n(this, "attr." + t3, e2)) : e2 == null ? (n2.local ? tg : Jd)(n2) : (n2.local ? ng : eg)(n2, r3, e2));
}
function og(t3, e2) {
  return function(n2) {
    this.setAttribute(t3, e2.call(this, n2));
  };
}
function sg(t3, e2) {
  return function(n2) {
    this.setAttributeNS(t3.space, t3.local, e2.call(this, n2));
  };
}
function ug(t3, e2) {
  var n2, r3;
  function i10() {
    var a2 = e2.apply(this, arguments);
    return a2 !== r3 && (n2 = (r3 = a2) && sg(t3, a2)), n2;
  }
  return i10._value = e2, i10;
}
function cg(t3, e2) {
  var n2, r3;
  function i10() {
    var a2 = e2.apply(this, arguments);
    return a2 !== r3 && (n2 = (r3 = a2) && og(t3, a2)), n2;
  }
  return i10._value = e2, i10;
}
function fg(t3, e2) {
  var n2 = "attr." + t3;
  if (arguments.length < 2) return (n2 = this.tween(n2)) && n2._value;
  if (e2 == null) return this.tween(n2, null);
  if (typeof e2 != "function") throw new Error();
  var r3 = Ne(t3);
  return this.tween(n2, (r3.local ? ug : cg)(r3, e2));
}
function lg(t3, e2) {
  return function() {
    Pn(this, t3).delay = +e2.apply(this, arguments);
  };
}
function hg(t3, e2) {
  return e2 = +e2, function() {
    Pn(this, t3).delay = e2;
  };
}
function dg(t3) {
  var e2 = this._id;
  return arguments.length ? this.each((typeof t3 == "function" ? lg : hg)(e2, t3)) : k2(this.node(), e2).delay;
}
function gg(t3, e2) {
  return function() {
    B2(this, t3).duration = +e2.apply(this, arguments);
  };
}
function mg(t3, e2) {
  return e2 = +e2, function() {
    B2(this, t3).duration = e2;
  };
}
function pg(t3) {
  var e2 = this._id;
  return arguments.length ? this.each((typeof t3 == "function" ? gg : mg)(e2, t3)) : k2(this.node(), e2).duration;
}
function yg(t3, e2) {
  if (typeof e2 != "function") throw new Error();
  return function() {
    B2(this, t3).ease = e2;
  };
}
function wg(t3) {
  var e2 = this._id;
  return arguments.length ? this.each(yg(e2, t3)) : k2(this.node(), e2).ease;
}
function bg(t3, e2) {
  return function() {
    var n2 = e2.apply(this, arguments);
    if (typeof n2 != "function") throw new Error();
    B2(this, t3).ease = n2;
  };
}
function _g(t3) {
  if (typeof t3 != "function") throw new Error();
  return this.each(bg(this._id, t3));
}
function vg(t3) {
  typeof t3 != "function" && (t3 = $i(t3));
  for (var e2 = this._groups, n2 = e2.length, r3 = new Array(n2), i10 = 0; i10 < n2; ++i10)
    for (var a2 = e2[i10], o2 = a2.length, s2 = r3[i10] = [], u3, c2 = 0; c2 < o2; ++c2)
      (u3 = a2[c2]) && t3.call(u3, u3.__data__, c2, a2) && s2.push(u3);
  return new z2(r3, this._parents, this._name, this._id);
}
function xg(t3) {
  if (t3._id !== this._id) throw new Error();
  for (var e2 = this._groups, n2 = t3._groups, r3 = e2.length, i10 = n2.length, a2 = Math.min(r3, i10), o2 = new Array(r3), s2 = 0; s2 < a2; ++s2)
    for (var u3 = e2[s2], c2 = n2[s2], f2 = u3.length, l2 = o2[s2] = new Array(f2), h3, d2 = 0; d2 < f2; ++d2)
      (h3 = u3[d2] || c2[d2]) && (l2[d2] = h3);
  for (; s2 < r3; ++s2)
    o2[s2] = e2[s2];
  return new z2(o2, this._parents, this._name, this._id);
}
function Mg(t3) {
  return (t3 + "").trim().split(/^|\s+/).every(function(e2) {
    var n2 = e2.indexOf(".");
    return n2 >= 0 && (e2 = e2.slice(0, n2)), !e2 || e2 === "start";
  });
}
function Tg(t3, e2, n2) {
  var r3, i10, a2 = Mg(e2) ? Pn : B2;
  return function() {
    var o2 = a2(this, t3), s2 = o2.on;
    s2 !== r3 && (i10 = (r3 = s2).copy()).on(e2, n2), o2.on = i10;
  };
}
function Sg(t3, e2) {
  var n2 = this._id;
  return arguments.length < 2 ? k2(this.node(), n2).on.on(t3) : this.each(Tg(n2, t3, e2));
}
function Ag(t3) {
  return function() {
    var e2 = this.parentNode;
    for (var n2 in this.__transition) if (+n2 !== t3) return;
    e2 && e2.removeChild(this);
  };
}
function Og() {
  return this.on("end.remove", Ag(this._id));
}
function Pg(t3) {
  var e2 = this._name, n2 = this._id;
  typeof t3 != "function" && (t3 = xn(t3));
  for (var r3 = this._groups, i10 = r3.length, a2 = new Array(i10), o2 = 0; o2 < i10; ++o2)
    for (var s2 = r3[o2], u3 = s2.length, c2 = a2[o2] = new Array(u3), f2, l2, h3 = 0; h3 < u3; ++h3)
      (f2 = s2[h3]) && (l2 = t3.call(f2, f2.__data__, h3, s2)) && ("__data__" in f2 && (l2.__data__ = f2.__data__), c2[h3] = l2, Ie(c2[h3], e2, n2, h3, c2, k2(f2, n2)));
  return new z2(a2, this._parents, e2, n2);
}
function $g(t3) {
  var e2 = this._name, n2 = this._id;
  typeof t3 != "function" && (t3 = Pi(t3));
  for (var r3 = this._groups, i10 = r3.length, a2 = [], o2 = [], s2 = 0; s2 < i10; ++s2)
    for (var u3 = r3[s2], c2 = u3.length, f2, l2 = 0; l2 < c2; ++l2)
      if (f2 = u3[l2]) {
        for (var h3 = t3.call(f2, f2.__data__, l2, u3), d2, g3 = k2(f2, n2), m3 = 0, p3 = h3.length; m3 < p3; ++m3)
          (d2 = h3[m3]) && Ie(d2, e2, n2, m3, h3, g3);
        a2.push(h3), o2.push(f2);
      }
  return new z2(a2, o2, e2, n2);
}
var Eg = jt.prototype.constructor;
function Cg() {
  return new Eg(this._groups, this._parents);
}
function Ng(t3, e2) {
  var n2, r3, i10;
  return function() {
    var a2 = _t(this, t3), o2 = (this.style.removeProperty(t3), _t(this, t3));
    return a2 === o2 ? null : a2 === n2 && o2 === r3 ? i10 : i10 = e2(n2 = a2, r3 = o2);
  };
}
function Vi(t3) {
  return function() {
    this.style.removeProperty(t3);
  };
}
function Dg(t3, e2, n2) {
  var r3, i10 = n2 + "", a2;
  return function() {
    var o2 = _t(this, t3);
    return o2 === i10 ? null : o2 === r3 ? a2 : a2 = e2(r3 = o2, n2);
  };
}
function Ig(t3, e2, n2) {
  var r3, i10, a2;
  return function() {
    var o2 = _t(this, t3), s2 = n2(this), u3 = s2 + "";
    return s2 == null && (u3 = s2 = (this.style.removeProperty(t3), _t(this, t3))), o2 === u3 ? null : o2 === r3 && u3 === i10 ? a2 : (i10 = u3, a2 = e2(r3 = o2, s2));
  };
}
function Rg(t3, e2) {
  var n2, r3, i10, a2 = "style." + e2, o2 = "end." + a2, s2;
  return function() {
    var u3 = B2(this, t3), c2 = u3.on, f2 = u3.value[a2] == null ? s2 || (s2 = Vi(e2)) : void 0;
    (c2 !== n2 || i10 !== f2) && (r3 = (n2 = c2).copy()).on(o2, i10 = f2), u3.on = r3;
  };
}
function Fg(t3, e2, n2) {
  var r3 = (t3 += "") == "transform" ? Wd : Ui;
  return e2 == null ? this.styleTween(t3, Ng(t3, r3)).on("end.style." + t3, Vi(t3)) : typeof e2 == "function" ? this.styleTween(t3, Ig(t3, r3, $n(this, "style." + t3, e2))).each(Rg(this._id, t3)) : this.styleTween(t3, Dg(t3, r3, e2), n2).on("end.style." + t3, null);
}
function Lg(t3, e2, n2) {
  return function(r3) {
    this.style.setProperty(t3, e2.call(this, r3), n2);
  };
}
function kg(t3, e2, n2) {
  var r3, i10;
  function a2() {
    var o2 = e2.apply(this, arguments);
    return o2 !== i10 && (r3 = (i10 = o2) && Lg(t3, o2, n2)), r3;
  }
  return a2._value = e2, a2;
}
function Wg(t3, e2, n2) {
  var r3 = "style." + (t3 += "");
  if (arguments.length < 2) return (r3 = this.tween(r3)) && r3._value;
  if (e2 == null) return this.tween(r3, null);
  if (typeof e2 != "function") throw new Error();
  return this.tween(r3, kg(t3, e2, n2 ?? ""));
}
function Yg(t3) {
  return function() {
    this.textContent = t3;
  };
}
function Hg(t3) {
  return function() {
    var e2 = t3(this);
    this.textContent = e2 ?? "";
  };
}
function Gg(t3) {
  return this.tween("text", typeof t3 == "function" ? Hg($n(this, "text", t3)) : Yg(t3 == null ? "" : t3 + ""));
}
function Bg(t3) {
  return function(e2) {
    this.textContent = t3.call(this, e2);
  };
}
function qg(t3) {
  var e2, n2;
  function r3() {
    var i10 = t3.apply(this, arguments);
    return i10 !== n2 && (e2 = (n2 = i10) && Bg(i10)), e2;
  }
  return r3._value = t3, r3;
}
function jg(t3) {
  var e2 = "text";
  if (arguments.length < 1) return (e2 = this.tween(e2)) && e2._value;
  if (t3 == null) return this.tween(e2, null);
  if (typeof t3 != "function") throw new Error();
  return this.tween(e2, qg(t3));
}
function zg() {
  for (var t3 = this._name, e2 = this._id, n2 = Qi(), r3 = this._groups, i10 = r3.length, a2 = 0; a2 < i10; ++a2)
    for (var o2 = r3[a2], s2 = o2.length, u3, c2 = 0; c2 < s2; ++c2)
      if (u3 = o2[c2]) {
        var f2 = k2(u3, e2);
        Ie(u3, t3, n2, c2, o2, {
          time: f2.time + f2.delay + f2.duration,
          delay: 0,
          duration: f2.duration,
          ease: f2.ease
        });
      }
  return new z2(r3, this._parents, t3, n2);
}
function Xg() {
  var t3, e2, n2 = this, r3 = n2._id, i10 = n2.size();
  return new Promise(function(a2, o2) {
    var s2 = { value: o2 }, u3 = { value: function() {
      --i10 === 0 && a2();
    } };
    n2.each(function() {
      var c2 = B2(this, r3), f2 = c2.on;
      f2 !== t3 && (e2 = (t3 = f2).copy(), e2._.cancel.push(s2), e2._.interrupt.push(s2), e2._.end.push(u3)), c2.on = e2;
    }), i10 === 0 && a2();
  });
}
var Ug = 0;
function z2(t3, e2, n2, r3) {
  this._groups = t3, this._parents = e2, this._name = n2, this._id = r3;
}
function Qi() {
  return ++Ug;
}
var j2 = jt.prototype;
z2.prototype = {
  constructor: z2,
  select: Pg,
  selectAll: $g,
  selectChild: j2.selectChild,
  selectChildren: j2.selectChildren,
  filter: vg,
  merge: xg,
  selection: Cg,
  transition: zg,
  call: j2.call,
  nodes: j2.nodes,
  node: j2.node,
  size: j2.size,
  empty: j2.empty,
  each: j2.each,
  on: Sg,
  attr: ag,
  attrTween: fg,
  style: Fg,
  styleTween: Wg,
  text: Gg,
  textTween: jg,
  remove: Og,
  tween: Zd,
  delay: dg,
  duration: pg,
  ease: wg,
  easeVarying: _g,
  end: Xg,
  [Symbol.iterator]: j2[Symbol.iterator]
};
function Ki(t3) {
  return ((t3 *= 2) <= 1 ? t3 * t3 * t3 : (t3 -= 2) * t3 * t3 + 2) / 2;
}
var Vg = {
  time: null,
  // Set on use.
  delay: 0,
  duration: 250,
  ease: Ki
};
function Qg(t3, e2) {
  for (var n2; !(n2 = t3.__transition) || !(n2 = n2[e2]); )
    if (!(t3 = t3.parentNode))
      throw new Error(`transition ${e2} not found`);
  return n2;
}
function Kg(t3) {
  var e2, n2;
  t3 instanceof z2 ? (e2 = t3._id, t3 = t3._name) : (e2 = Qi(), (n2 = Vg).time = On(), t3 = t3 == null ? null : t3 + "");
  for (var r3 = this._groups, i10 = r3.length, a2 = 0; a2 < i10; ++a2)
    for (var o2 = r3[a2], s2 = o2.length, u3, c2 = 0; c2 < s2; ++c2)
      (u3 = o2[c2]) && Ie(u3, t3, e2, c2, o2, n2 || Qg(u3, e2));
  return new z2(r3, this._parents, t3, e2);
}
jt.prototype.interrupt = Vd;
jt.prototype.transition = Kg;
function Zg(t3) {
  return Math.abs(t3 = Math.round(t3)) >= 1e21 ? t3.toLocaleString("en").replace(/,/g, "") : t3.toString(10);
}
function ve(t3, e2) {
  if ((n2 = (t3 = e2 ? t3.toExponential(e2 - 1) : t3.toExponential()).indexOf("e")) < 0) return null;
  var n2, r3 = t3.slice(0, n2);
  return [
    r3.length > 1 ? r3[0] + r3.slice(2) : r3,
    +t3.slice(n2 + 1)
  ];
}
function xt(t3) {
  return t3 = ve(Math.abs(t3)), t3 ? t3[1] : NaN;
}
function Jg(t3, e2) {
  return function(n2, r3) {
    for (var i10 = n2.length, a2 = [], o2 = 0, s2 = t3[0], u3 = 0; i10 > 0 && s2 > 0 && (u3 + s2 + 1 > r3 && (s2 = Math.max(1, r3 - u3)), a2.push(n2.substring(i10 -= s2, i10 + s2)), !((u3 += s2 + 1) > r3)); )
      s2 = t3[o2 = (o2 + 1) % t3.length];
    return a2.reverse().join(e2);
  };
}
function tm(t3) {
  return function(e2) {
    return e2.replace(/[0-9]/g, function(n2) {
      return t3[+n2];
    });
  };
}
var em = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
function xe(t3) {
  if (!(e2 = em.exec(t3))) throw new Error("invalid format: " + t3);
  var e2;
  return new En({
    fill: e2[1],
    align: e2[2],
    sign: e2[3],
    symbol: e2[4],
    zero: e2[5],
    width: e2[6],
    comma: e2[7],
    precision: e2[8] && e2[8].slice(1),
    trim: e2[9],
    type: e2[10]
  });
}
xe.prototype = En.prototype;
function En(t3) {
  this.fill = t3.fill === void 0 ? " " : t3.fill + "", this.align = t3.align === void 0 ? ">" : t3.align + "", this.sign = t3.sign === void 0 ? "-" : t3.sign + "", this.symbol = t3.symbol === void 0 ? "" : t3.symbol + "", this.zero = !!t3.zero, this.width = t3.width === void 0 ? void 0 : +t3.width, this.comma = !!t3.comma, this.precision = t3.precision === void 0 ? void 0 : +t3.precision, this.trim = !!t3.trim, this.type = t3.type === void 0 ? "" : t3.type + "";
}
En.prototype.toString = function() {
  return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (this.width === void 0 ? "" : Math.max(1, this.width | 0)) + (this.comma ? "," : "") + (this.precision === void 0 ? "" : "." + Math.max(0, this.precision | 0)) + (this.trim ? "~" : "") + this.type;
};
function nm(t3) {
  t: for (var e2 = t3.length, n2 = 1, r3 = -1, i10; n2 < e2; ++n2)
    switch (t3[n2]) {
      case ".":
        r3 = i10 = n2;
        break;
      case "0":
        r3 === 0 && (r3 = n2), i10 = n2;
        break;
      default:
        if (!+t3[n2]) break t;
        r3 > 0 && (r3 = 0);
        break;
    }
  return r3 > 0 ? t3.slice(0, r3) + t3.slice(i10 + 1) : t3;
}
var Zi;
function rm(t3, e2) {
  var n2 = ve(t3, e2);
  if (!n2) return t3 + "";
  var r3 = n2[0], i10 = n2[1], a2 = i10 - (Zi = Math.max(-8, Math.min(8, Math.floor(i10 / 3))) * 3) + 1, o2 = r3.length;
  return a2 === o2 ? r3 : a2 > o2 ? r3 + new Array(a2 - o2 + 1).join("0") : a2 > 0 ? r3.slice(0, a2) + "." + r3.slice(a2) : "0." + new Array(1 - a2).join("0") + ve(t3, Math.max(0, e2 + a2 - 1))[0];
}
function Er(t3, e2) {
  var n2 = ve(t3, e2);
  if (!n2) return t3 + "";
  var r3 = n2[0], i10 = n2[1];
  return i10 < 0 ? "0." + new Array(-i10).join("0") + r3 : r3.length > i10 + 1 ? r3.slice(0, i10 + 1) + "." + r3.slice(i10 + 1) : r3 + new Array(i10 - r3.length + 2).join("0");
}
var Cr = {
  "%": (t3, e2) => (t3 * 100).toFixed(e2),
  b: (t3) => Math.round(t3).toString(2),
  c: (t3) => t3 + "",
  d: Zg,
  e: (t3, e2) => t3.toExponential(e2),
  f: (t3, e2) => t3.toFixed(e2),
  g: (t3, e2) => t3.toPrecision(e2),
  o: (t3) => Math.round(t3).toString(8),
  p: (t3, e2) => Er(t3 * 100, e2),
  r: Er,
  s: rm,
  X: (t3) => Math.round(t3).toString(16).toUpperCase(),
  x: (t3) => Math.round(t3).toString(16)
};
function Nr(t3) {
  return t3;
}
var Dr = Array.prototype.map;
var Ir = ["y", "z", "a", "f", "p", "n", "µ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
function im(t3) {
  var e2 = t3.grouping === void 0 || t3.thousands === void 0 ? Nr : Jg(Dr.call(t3.grouping, Number), t3.thousands + ""), n2 = t3.currency === void 0 ? "" : t3.currency[0] + "", r3 = t3.currency === void 0 ? "" : t3.currency[1] + "", i10 = t3.decimal === void 0 ? "." : t3.decimal + "", a2 = t3.numerals === void 0 ? Nr : tm(Dr.call(t3.numerals, String)), o2 = t3.percent === void 0 ? "%" : t3.percent + "", s2 = t3.minus === void 0 ? "−" : t3.minus + "", u3 = t3.nan === void 0 ? "NaN" : t3.nan + "";
  function c2(l2) {
    l2 = xe(l2);
    var h3 = l2.fill, d2 = l2.align, g3 = l2.sign, m3 = l2.symbol, p3 = l2.zero, v4 = l2.width, w3 = l2.comma, _4 = l2.precision, A2 = l2.trim, S3 = l2.type;
    S3 === "n" ? (w3 = true, S3 = "g") : Cr[S3] || (_4 === void 0 && (_4 = 12), A2 = true, S3 = "g"), (p3 || h3 === "0" && d2 === "=") && (p3 = true, h3 = "0", d2 = "=");
    var Vt3 = m3 === "$" ? n2 : m3 === "#" && /[boxX]/.test(S3) ? "0" + S3.toLowerCase() : "", wa = m3 === "$" ? r3 : /[%p]/.test(S3) ? o2 : "", In3 = Cr[S3], ba = /[defgprs%]/.test(S3);
    _4 = _4 === void 0 ? 6 : /[gprs]/.test(S3) ? Math.max(1, Math.min(21, _4)) : Math.max(0, Math.min(20, _4));
    function Rn3(b3) {
      var J4 = Vt3, E = wa, lt4, Fn3, Qt2;
      if (S3 === "c")
        E = In3(b3) + E, b3 = "";
      else {
        b3 = +b3;
        var Kt2 = b3 < 0 || 1 / b3 < 0;
        if (b3 = isNaN(b3) ? u3 : In3(Math.abs(b3), _4), A2 && (b3 = nm(b3)), Kt2 && +b3 == 0 && g3 !== "+" && (Kt2 = false), J4 = (Kt2 ? g3 === "(" ? g3 : s2 : g3 === "-" || g3 === "(" ? "" : g3) + J4, E = (S3 === "s" ? Ir[8 + Zi / 3] : "") + E + (Kt2 && g3 === "(" ? ")" : ""), ba) {
          for (lt4 = -1, Fn3 = b3.length; ++lt4 < Fn3; )
            if (Qt2 = b3.charCodeAt(lt4), 48 > Qt2 || Qt2 > 57) {
              E = (Qt2 === 46 ? i10 + b3.slice(lt4 + 1) : b3.slice(lt4)) + E, b3 = b3.slice(0, lt4);
              break;
            }
        }
      }
      w3 && !p3 && (b3 = e2(b3, 1 / 0));
      var Zt = J4.length + b3.length + E.length, q4 = Zt < v4 ? new Array(v4 - Zt + 1).join(h3) : "";
      switch (w3 && p3 && (b3 = e2(q4 + b3, q4.length ? v4 - E.length : 1 / 0), q4 = ""), d2) {
        case "<":
          b3 = J4 + b3 + E + q4;
          break;
        case "=":
          b3 = J4 + q4 + b3 + E;
          break;
        case "^":
          b3 = q4.slice(0, Zt = q4.length >> 1) + J4 + b3 + E + q4.slice(Zt);
          break;
        default:
          b3 = q4 + J4 + b3 + E;
          break;
      }
      return a2(b3);
    }
    return Rn3.toString = function() {
      return l2 + "";
    }, Rn3;
  }
  function f2(l2, h3) {
    var d2 = c2((l2 = xe(l2), l2.type = "f", l2)), g3 = Math.max(-8, Math.min(8, Math.floor(xt(h3) / 3))) * 3, m3 = Math.pow(10, -g3), p3 = Ir[8 + g3 / 3];
    return function(v4) {
      return d2(m3 * v4) + p3;
    };
  }
  return {
    format: c2,
    formatPrefix: f2
  };
}
var re;
var Ji;
var ta;
am({
  thousands: ",",
  grouping: [3],
  currency: ["$", ""]
});
function am(t3) {
  return re = im(t3), Ji = re.format, ta = re.formatPrefix, re;
}
function om(t3) {
  return Math.max(0, -xt(Math.abs(t3)));
}
function sm(t3, e2) {
  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(xt(e2) / 3))) * 3 - xt(Math.abs(t3)));
}
function um(t3, e2) {
  return t3 = Math.abs(t3), e2 = Math.abs(e2) - t3, Math.max(0, xt(e2) - xt(t3)) + 1;
}
function Cn(t3, e2) {
  switch (arguments.length) {
    case 0:
      break;
    case 1:
      this.range(t3);
      break;
    default:
      this.range(e2).domain(t3);
      break;
  }
  return this;
}
var Rr = Symbol("implicit");
function cm() {
  var t3 = new dr(), e2 = [], n2 = [], r3 = Rr;
  function i10(a2) {
    let o2 = t3.get(a2);
    if (o2 === void 0) {
      if (r3 !== Rr) return r3;
      t3.set(a2, o2 = e2.push(a2) - 1);
    }
    return n2[o2 % n2.length];
  }
  return i10.domain = function(a2) {
    if (!arguments.length) return e2.slice();
    e2 = [], t3 = new dr();
    for (const o2 of a2)
      t3.has(o2) || t3.set(o2, e2.push(o2) - 1);
    return i10;
  }, i10.range = function(a2) {
    return arguments.length ? (n2 = Array.from(a2), i10) : n2.slice();
  }, i10.unknown = function(a2) {
    return arguments.length ? (r3 = a2, i10) : r3;
  }, i10.copy = function() {
    return cm(e2, n2).unknown(r3);
  }, Cn.apply(i10, arguments), i10;
}
function fm(t3) {
  return function() {
    return t3;
  };
}
function lm(t3) {
  return +t3;
}
var Fr = [0, 1];
function dt(t3) {
  return t3;
}
function an(t3, e2) {
  return (e2 -= t3 = +t3) ? function(n2) {
    return (n2 - t3) / e2;
  } : fm(isNaN(e2) ? NaN : 0.5);
}
function hm(t3, e2) {
  var n2;
  return t3 > e2 && (n2 = t3, t3 = e2, e2 = n2), function(r3) {
    return Math.max(t3, Math.min(e2, r3));
  };
}
function dm(t3, e2, n2) {
  var r3 = t3[0], i10 = t3[1], a2 = e2[0], o2 = e2[1];
  return i10 < r3 ? (r3 = an(i10, r3), a2 = n2(o2, a2)) : (r3 = an(r3, i10), a2 = n2(a2, o2)), function(s2) {
    return a2(r3(s2));
  };
}
function gm(t3, e2, n2) {
  var r3 = Math.min(t3.length, e2.length) - 1, i10 = new Array(r3), a2 = new Array(r3), o2 = -1;
  for (t3[r3] < t3[0] && (t3 = t3.slice().reverse(), e2 = e2.slice().reverse()); ++o2 < r3; )
    i10[o2] = an(t3[o2], t3[o2 + 1]), a2[o2] = n2(e2[o2], e2[o2 + 1]);
  return function(s2) {
    var u3 = Si(t3, s2, 1, r3) - 1;
    return a2[u3](i10[u3](s2));
  };
}
function mm(t3, e2) {
  return e2.domain(t3.domain()).range(t3.range()).interpolate(t3.interpolate()).clamp(t3.clamp()).unknown(t3.unknown());
}
function pm() {
  var t3 = Fr, e2 = Fr, n2 = An, r3, i10, a2, o2 = dt, s2, u3, c2;
  function f2() {
    var h3 = Math.min(t3.length, e2.length);
    return o2 !== dt && (o2 = hm(t3[0], t3[h3 - 1])), s2 = h3 > 2 ? gm : dm, u3 = c2 = null, l2;
  }
  function l2(h3) {
    return h3 == null || isNaN(h3 = +h3) ? a2 : (u3 || (u3 = s2(t3.map(r3), e2, n2)))(r3(o2(h3)));
  }
  return l2.invert = function(h3) {
    return o2(i10((c2 || (c2 = s2(e2, t3.map(r3), D2)))(h3)));
  }, l2.domain = function(h3) {
    return arguments.length ? (t3 = Array.from(h3, lm), f2()) : t3.slice();
  }, l2.range = function(h3) {
    return arguments.length ? (e2 = Array.from(h3), f2()) : e2.slice();
  }, l2.rangeRound = function(h3) {
    return e2 = Array.from(h3), n2 = Fd, f2();
  }, l2.clamp = function(h3) {
    return arguments.length ? (o2 = h3 ? true : dt, f2()) : o2 !== dt;
  }, l2.interpolate = function(h3) {
    return arguments.length ? (n2 = h3, f2()) : n2;
  }, l2.unknown = function(h3) {
    return arguments.length ? (a2 = h3, l2) : a2;
  }, function(h3, d2) {
    return r3 = h3, i10 = d2, f2();
  };
}
function ym() {
  return pm()(dt, dt);
}
function wm(t3, e2, n2, r3) {
  var i10 = Pl(t3, e2, n2), a2;
  switch (r3 = xe(r3 ?? ",f"), r3.type) {
    case "s": {
      var o2 = Math.max(Math.abs(t3), Math.abs(e2));
      return r3.precision == null && !isNaN(a2 = sm(i10, o2)) && (r3.precision = a2), ta(r3, o2);
    }
    case "":
    case "e":
    case "g":
    case "p":
    case "r": {
      r3.precision == null && !isNaN(a2 = um(i10, Math.max(Math.abs(t3), Math.abs(e2)))) && (r3.precision = a2 - (r3.type === "e"));
      break;
    }
    case "f":
    case "%": {
      r3.precision == null && !isNaN(a2 = om(i10)) && (r3.precision = a2 - (r3.type === "%") * 2);
      break;
    }
  }
  return Ji(r3);
}
function ea(t3) {
  var e2 = t3.domain;
  return t3.ticks = function(n2) {
    var r3 = e2();
    return Ol(r3[0], r3[r3.length - 1], n2 ?? 10);
  }, t3.tickFormat = function(n2, r3) {
    var i10 = e2();
    return wm(i10[0], i10[i10.length - 1], n2 ?? 10, r3);
  }, t3.nice = function(n2) {
    n2 == null && (n2 = 10);
    var r3 = e2(), i10 = 0, a2 = r3.length - 1, o2 = r3[i10], s2 = r3[a2], u3, c2, f2 = 10;
    for (s2 < o2 && (c2 = o2, o2 = s2, s2 = c2, c2 = i10, i10 = a2, a2 = c2); f2-- > 0; ) {
      if (c2 = Qe(o2, s2, n2), c2 === u3)
        return r3[i10] = o2, r3[a2] = s2, e2(r3);
      if (c2 > 0)
        o2 = Math.floor(o2 / c2) * c2, s2 = Math.ceil(s2 / c2) * c2;
      else if (c2 < 0)
        o2 = Math.ceil(o2 * c2) / c2, s2 = Math.floor(s2 * c2) / c2;
      else
        break;
      u3 = c2;
    }
    return t3;
  }, t3;
}
function na() {
  var t3 = ym();
  return t3.copy = function() {
    return mm(t3, na());
  }, Cn.apply(t3, arguments), ea(t3);
}
function ra() {
  var t3 = 0, e2 = 1, n2 = 1, r3 = [0.5], i10 = [0, 1], a2;
  function o2(u3) {
    return u3 != null && u3 <= u3 ? i10[Si(r3, u3, 0, n2)] : a2;
  }
  function s2() {
    var u3 = -1;
    for (r3 = new Array(n2); ++u3 < n2; ) r3[u3] = ((u3 + 1) * e2 - (u3 - n2) * t3) / (n2 + 1);
    return o2;
  }
  return o2.domain = function(u3) {
    return arguments.length ? ([t3, e2] = u3, t3 = +t3, e2 = +e2, s2()) : [t3, e2];
  }, o2.range = function(u3) {
    return arguments.length ? (n2 = (i10 = Array.from(u3)).length - 1, s2()) : i10.slice();
  }, o2.invertExtent = function(u3) {
    var c2 = i10.indexOf(u3);
    return c2 < 0 ? [NaN, NaN] : c2 < 1 ? [t3, r3[0]] : c2 >= n2 ? [r3[n2 - 1], e2] : [r3[c2 - 1], r3[c2]];
  }, o2.unknown = function(u3) {
    return arguments.length && (a2 = u3), o2;
  }, o2.thresholds = function() {
    return r3.slice();
  }, o2.copy = function() {
    return ra().domain([t3, e2]).range(i10).unknown(a2);
  }, Cn.apply(ea(o2), arguments);
}
function Nt(t3, e2, n2) {
  this.k = t3, this.x = e2, this.y = n2;
}
Nt.prototype = {
  constructor: Nt,
  scale: function(t3) {
    return t3 === 1 ? this : new Nt(this.k * t3, this.x, this.y);
  },
  translate: function(t3, e2) {
    return t3 === 0 & e2 === 0 ? this : new Nt(this.k, this.x + this.k * t3, this.y + this.k * e2);
  },
  apply: function(t3) {
    return [t3[0] * this.k + this.x, t3[1] * this.k + this.y];
  },
  applyX: function(t3) {
    return t3 * this.k + this.x;
  },
  applyY: function(t3) {
    return t3 * this.k + this.y;
  },
  invert: function(t3) {
    return [(t3[0] - this.x) / this.k, (t3[1] - this.y) / this.k];
  },
  invertX: function(t3) {
    return (t3 - this.x) / this.k;
  },
  invertY: function(t3) {
    return (t3 - this.y) / this.k;
  },
  rescaleX: function(t3) {
    return t3.copy().domain(t3.range().map(this.invertX, this).map(t3.invert, t3));
  },
  rescaleY: function(t3) {
    return t3.copy().domain(t3.range().map(this.invertY, this).map(t3.invert, t3));
  },
  toString: function() {
    return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")";
  }
};
Nt.prototype;
var bm = "cds";
var _m = {
  opacity: {
    unselected: 0.05,
    selected: 0.4
  }
};
var vm = {
  ticks: {
    number: 7,
    rotateIfSmallerThan: 30,
    verticalSpaceRatio: 2.5,
    horizontalSpaceRatio: 3.5
  },
  ratio: {
    reference: "value",
    compareTo: "marker"
  },
  paddingRatio: 0.1,
  hover: {
    rectanglePadding: 4
  }
};
var xm = {
  duration: 1e3,
  ease: Ki,
  zoomLevel: 3
};
var ia = {
  circles: {
    fillOpacity: 0.3,
    hover: {
      stroke: "#FFF"
    }
  },
  padding: {
    mainGroup: 4,
    children: 2
  },
  depth: 2
};
var Mm = {
  pairingOptions: {
    "1-color": 4,
    "2-color": 5,
    "3-color": 5,
    "4-color": 3,
    "5-color": 2,
    "14-color": 1
  }
};
var Tm = {
  circle: {
    radius: 4,
    opacity: {
      hovered: 1,
      default: 0.3
    }
  },
  box: {
    opacity: {
      hovered: 0.5,
      default: 0.3
    }
  },
  strokeWidth: {
    default: 1,
    thicker: 2
  }
};
var Sm = {
  defaultBins: 10
};
var Am = {
  items: {
    status: {
      ACTIVE: 1,
      DISABLED: 0
    },
    horizontalSpace: 12,
    verticalSpace: 24,
    textYOffset: 8,
    spaceAfter: 4
  },
  checkbox: {
    radius: 6.5
  },
  radius: {
    iconData: [
      { cx: 7, cy: 7, r: 6.5 },
      { cx: 7, cy: 10, r: 3.5 }
    ],
    fill: null,
    stroke: "#8c8c8c"
  },
  line: {
    yPosition: 6,
    width: 24,
    strokeWidth: 1.4,
    fill: null,
    stroke: "#999999"
  },
  area: {
    width: 24,
    height: 14,
    fill: "#6f6f6f",
    stroke: null
  },
  size: {
    iconData: [
      { width: 23, height: 12 },
      { width: 13, height: 6 }
    ],
    fill: null,
    stroke: "#8D8D8D"
  },
  quartile: {
    iconData: [
      { x: 0, y: 0, width: 24, height: 13 },
      { x: 11, y: 4, width: 1, height: 4 }
    ]
  },
  zoom: {
    iconData: [{ x: 0, y: 0, width: 12, height: 12 }],
    color: "#8D8D8D"
  },
  color: {
    barWidth: 300,
    barHeight: 8,
    axisYTranslation: 10
  }
};
var Om = {
  opacity: {
    unselected: 0.3,
    selected: 1
  },
  weight: {
    selected: 2,
    unselected: 1
  }
};
var Pm = {
  statusBar: {
    paddingRight: 5
  },
  status: {
    indicatorSize: 16,
    paddingLeft: 15
  },
  total: {
    paddingLeft: 36,
    paddingRight: 24
  },
  height: {
    default: 8,
    proportional: 16
  },
  dividerWidth: 2
};
var $m = {
  radiusOffset: -15,
  innerRadius: 2,
  padAngle: 7e-3,
  hoverArc: {
    outerRadiusOffset: 3
  },
  xOffset: 30,
  yOffset: 20,
  yOffsetCallout: 10,
  callout: {
    minSliceDegree: 5,
    offsetX: 15,
    offsetY: 12,
    horizontalLineLength: 8,
    textMargin: 2
  }
};
var Em = {
  opacity: {
    unselected: 0.1,
    selected: 0.3
  },
  xLabelPadding: 10,
  yLabelPadding: 8,
  yTicksNumber: 4,
  minRange: 10,
  xAxisRectHeight: 50,
  dotsRadius: 5
};
var Cm = {
  nodeWidth: 4,
  nodeHoveredWidth: 8,
  minNodePadding: 24,
  opacity: {
    unfocus: 0.3,
    default: 0.8,
    selected: 1
  }
};
var Nm = {
  minCellDividerDimension: 16,
  // Ensures axes lines are displayed with or without stroke disabled
  chartPadding: 0.5
};
var Dm = {
  default: {
    size: 24
  }
};
var Im = {
  defaultOffset: 4,
  horizontalOffset: 10
};
var Rm = {
  default: {
    duration: 300
  },
  pie_slice_mouseover: {
    duration: 100
  },
  pie_slice_mouseout: {
    duration: 100
  },
  pie_chart_titles: {
    duration: 375
  },
  graph_element_mouseover_fill_update: {
    duration: 100
  },
  graph_element_mouseout_fill_update: {
    duration: 100
  }
};
var Fm = {
  buttonSize: 32,
  iconSize: 20,
  height: 32,
  spacerHeight: 10,
  iconPadding: 6
};
var Lm = {
  height: {
    [f.GRAPH_VIEW]: 32,
    [f.SLIDER_VIEW]: 10
  },
  spacerHeight: 8,
  handleWidth: 5,
  handleBarWidth: 1,
  handleBarHeight: 12
};
var aa = [
  {
    type: rE.RADIUS,
    name: "Radius"
  },
  {
    type: rE.AREA,
    name: "Poor area"
  },
  {
    type: rE.AREA,
    name: "Satisfactory area"
  },
  {
    type: rE.AREA,
    name: "Great area"
  },
  {
    type: rE.QUARTILE,
    name: "Quartiles"
  }
];
var gt = {
  type: K.END_LINE,
  threshold: 16,
  numCharacter: 14
};
var km = {
  code: typeof navigator < "u" && (navigator == null ? void 0 : navigator.language) || "en-US",
  // read from browser's navigator.language
  number: (t3, e2 = (navigator == null ? void 0 : navigator.language) || "en-US") => t3.toLocaleString(e2),
  // based on code property if specified
  date: (t3, e2 = (navigator == null ? void 0 : navigator.language) || "en-US", n2 = {}, r3 = null) => r3 || t3.toLocaleDateString(e2, n2),
  // based on code property if specified
  time: (t3, e2 = (navigator == null ? void 0 : navigator.language) || "en-US", n2 = {}, r3 = null) => r3 || t3.toLocaleTimeString(e2, n2),
  // based on code property if specified
  optionsObject: {
    "15seconds": {
      primary: {
        "MMM d, pp": {
          month: "short",
          day: "numeric",
          hour: "numeric",
          minute: "2-digit",
          second: "2-digit",
          hourCycle: "h12"
        },
        "MMM d, h:mm:ss.SSS a": {
          month: "short",
          day: "numeric",
          hour: "numeric",
          minute: "2-digit",
          fractionalSecondDigits: 3,
          hourCycle: "h12"
        }
      },
      secondary: {
        pp: {
          hour: "numeric",
          minute: "2-digit",
          second: "2-digit",
          hourCycle: "h12"
        },
        "h:mm:ss.SSS a": {
          hour: "numeric",
          minute: "2-digit",
          fractionalSecondDigits: 3,
          hourCycle: "h12"
        }
      },
      type: "time"
    },
    minute: {
      primary: {
        "MMM d, p": {
          month: "short",
          day: "numeric",
          hour: "numeric",
          minute: "2-digit",
          hourCycle: "h12"
        }
      },
      secondary: {
        p: {
          hour: "numeric",
          minute: "2-digit",
          hourCycle: "h12"
        }
      },
      type: "time"
    },
    "30minutes": {
      primary: {
        "MMM d, p": {
          month: "short",
          day: "numeric",
          hour: "numeric",
          minute: "2-digit",
          hourCycle: "h12"
        }
      },
      secondary: {
        p: {
          hour: "numeric",
          minute: "2-digit",
          hourCycle: "h12"
        }
      },
      type: "time"
    },
    hourly: {
      primary: {
        "MMM d, hh a": {
          month: "short",
          day: "numeric",
          hour: "2-digit",
          hourCycle: "h12"
        }
      },
      secondary: {
        "hh a": {
          hour: "2-digit",
          hourCycle: "h12"
        }
      },
      type: "time"
    },
    daily: {
      primary: {
        "MMM d": {
          month: "short",
          day: "numeric"
        }
      },
      secondary: {
        d: {
          day: "numeric"
        }
      },
      type: "date"
    },
    weekly: {
      primary: {
        "eee, MMM d": {
          weekday: "short",
          month: "short",
          day: "numeric"
        }
      },
      secondary: {
        eee: {
          weekday: "short"
        }
      },
      type: "date"
    },
    monthly: {
      primary: {
        "MMM yyyy": {
          month: "short",
          year: "numeric"
        }
      },
      secondary: {
        MMM: {
          month: "short"
        }
      },
      type: "date"
    },
    quarterly: {
      primary: {},
      secondary: {},
      type: "date"
    },
    yearly: {
      primary: {
        yyyy: {
          year: "numeric"
        }
      },
      secondary: {
        yyyy: {
          year: "numeric"
        }
      },
      type: "date"
    }
  },
  translations: {
    group: "Group",
    total: "Total",
    meter: {
      title: ""
      //default is emply string as meter title is dataset label
    },
    tabularRep: {
      title: "Tabular representation",
      downloadAsCSV: "Download as CSV"
    },
    toolbar: {
      exportAsCSV: "Export to CSV",
      exportAsJPG: "Export to JPG",
      exportAsPNG: "Export to PNG",
      zoomIn: "Zoom in",
      zoomOut: "Zoom out",
      resetZoom: "Reset zoom",
      moreOptions: "More options",
      makeFullScreen: "Make fullscreen",
      exitFullScreen: "Exit fullscreen",
      showAsTable: "Show as table"
    }
  }
};
var Wm = {
  enabled: true,
  position: P.BOTTOM,
  clickable: true,
  truncation: gt,
  alignment: k.LEFT,
  order: null,
  additionalItems: []
};
var oa = {
  x: {
    // set enable to false will not draw grid and stroke of grid backdrop
    enabled: true,
    numberOfTicks: 15,
    alignWithAxisTicks: false
  },
  y: {
    // set enable to false will not draw grid and stroke of grid backdrop
    enabled: true,
    numberOfTicks: 5,
    alignWithAxisTicks: false
  }
};
var sa = {
  // enable or disable ruler
  enabled: true
};
var Nn = {
  enabled: true,
  showTotal: true,
  truncation: gt,
  groupLabel: "Group"
};
var ua = {
  top: {
    visible: true,
    includeZero: true,
    truncation: gt
  },
  bottom: {
    visible: true,
    includeZero: true,
    truncation: gt
  },
  left: {
    visible: true,
    includeZero: true,
    truncation: gt
  },
  right: {
    visible: true,
    includeZero: true,
    truncation: gt
  }
};
var Xt = {
  addSpaceOnEdges: 1,
  showDayName: false,
  localeObject: jr,
  timeIntervalFormats: {
    "15seconds": { primary: "MMM d, pp", secondary: "pp" },
    minute: { primary: "MMM d, p", secondary: "p" },
    "30minutes": { primary: "MMM d, p", secondary: "p" },
    hourly: { primary: "MMM d, hh a", secondary: "hh a" },
    daily: { primary: "MMM d", secondary: "d" },
    weekly: { primary: "eee, MMM d", secondary: "eee" },
    monthly: { primary: "MMM yyyy", secondary: "MMM" },
    quarterly: { primary: "QQQ ''yy", secondary: "QQQ" },
    yearly: { primary: "yyyy", secondary: "yyyy" }
  }
};
var ca = false;
try {
  ca = typeof document < "u" && (document.fullscreenEnabled || document.webkitFullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled);
} catch (t3) {
  console.warn("Fullscreen capabilities check failed: ", t3.message);
}
var O2 = {
  width: null,
  height: null,
  resizable: true,
  theme: g.WHITE,
  tooltip: Nn,
  legend: Wm,
  locale: km,
  style: {
    prefix: "cc"
  },
  data: {
    groupMapsTo: "group",
    loading: false,
    selectedGroups: []
  },
  color: {
    scale: null,
    pairing: {
      numberOfVariants: null,
      option: 1
    },
    gradient: {
      enabled: false
    }
  },
  toolbar: {
    enabled: true,
    numberOfIcons: 3,
    controls: [
      {
        type: y.SHOW_AS_DATATABLE
      },
      ...ca ? [
        {
          type: y.MAKE_FULLSCREEN
        }
      ] : [],
      {
        type: y.EXPORT_CSV
      },
      {
        type: y.EXPORT_PNG
      },
      {
        type: y.EXPORT_JPG
      }
    ]
  }
};
var fa = y2({}, O2, {
  thematic: {
    projection: aE.geoNaturalEarth1
  }
});
var Ut = y2({}, O2, {
  axes: ua,
  timeScale: Xt,
  grid: oa,
  ruler: sa,
  zoomBar: {
    zoomRatio: 0.4,
    minZoomRatio: 0.01,
    top: {
      enabled: false,
      type: f.GRAPH_VIEW
    }
  }
});
var st = y2({}, Ut, {
  bars: {
    maxWidth: 16,
    spacingFactor: 0.25
  },
  timeScale: y2(Xt, {
    addSpaceOnEdges: 1
  })
});
var Ym = y2({}, st, {});
var Hm = y2({}, st, {});
var Gm = y2({}, st, {
  bars: y2({}, st.bars, {
    dividerSize: 1.5
  })
});
var Bm = y2({}, st, {});
var Dn = y2({}, Ut, {
  points: {
    // default point radius to 4
    radius: 4,
    fillOpacity: 0.3,
    filled: true,
    enabled: true
  }
});
var qm = Dn;
var la = y2({}, Dn, {
  points: {
    // default point radius to 3
    radius: 3,
    filled: false,
    enabled: true
  }
});
var ha = y2({}, la, {
  timeScale: y2(Xt, {
    addSpaceOnEdges: 0
  })
});
var jm = ha;
var zm = y2({}, Ut, {
  bubble: {
    radiusMapsTo: "radius",
    radiusLabel: "Radius",
    radiusRange: (t3) => {
      const e2 = Math.min(t3.width, t3.height);
      return [e2 * 3 / 400, e2 * 25 / 400];
    },
    fillOpacity: 0.2,
    enabled: true
  },
  points: {
    filled: true
  },
  legend: {
    additionalItems: [
      {
        type: rE.RADIUS,
        name: "Radius"
      }
    ]
  }
});
var Xm = y2({}, Ut, {
  bullet: {
    performanceAreaTitles: ["Poor", "Satisfactory", "Great"]
  },
  grid: {
    x: {
      enabled: false
    },
    y: {
      enabled: false
    }
  },
  legend: {
    additionalItems: [
      {
        type: rE.AREA,
        name: "Poor area"
      },
      {
        type: rE.AREA,
        name: "Satisfactory area"
      },
      {
        type: rE.AREA,
        name: "Great area"
      },
      {
        type: rE.QUARTILE,
        name: "Quartiles"
      }
    ]
  }
});
var Um = y2({}, st, {
  bars: {
    dividerSize: 1.5
  },
  timeScale: y2(Xt, {
    addSpaceOnEdges: 0
  })
});
var Vm = y2({}, O2, {
  tooltip: y2({}, Nn, {
    wordLabel: "Word",
    valueLabel: "Value"
  }),
  wordCloud: {
    fontSizeMapsTo: "value",
    fontSizeRange: (t3) => {
      const e2 = Math.min(t3.width, t3.height);
      return [e2 * 20 / 400, e2 * 75 / 400];
    },
    wordMapsTo: "word"
  }
});
var da = y2({}, O2, {
  pie: {
    labels: {
      formatter: null,
      enabled: true
    },
    alignment: k.LEFT,
    sortFunction: null,
    valueMapsTo: "value"
  }
});
var Qm = y2({}, O2, {
  legend: {
    enabled: false
  },
  gauge: {
    type: Q.SEMI,
    arcWidth: 16,
    deltaArrow: {
      size: (t3) => t3 / 8,
      enabled: true
    },
    showPercentageSymbol: true,
    status: null,
    numberSpacing: 10,
    deltaFontSize: (t3) => t3 / 8,
    valueFontSize: (t3) => t3 / 2.5,
    alignment: k.LEFT
  }
});
var Km = y2({}, da, {
  donut: {
    center: {
      numberFontSize: (t3) => `${Math.min(t3 / 100 * 24, 24)}px`,
      titleFontSize: (t3) => `${Math.min(t3 / 100 * 15, 15)}px`,
      titleYPosition: (t3) => Math.min(t3 / 80 * 20, 20)
    },
    alignment: k.LEFT
  }
});
var ga = y2({}, O2, {
  legend: {
    enabled: false,
    clickable: false
  },
  meter: {
    showLabels: true,
    proportional: null,
    statusBar: {
      percentageIndicator: {
        enabled: true
      }
    }
  }
});
var Zm = y2({}, ga, {
  legend: {
    enabled: true
  }
});
var Jm = y2({}, O2, {
  radar: {
    axes: {
      angle: "key",
      value: "value"
    },
    alignment: k.LEFT
  },
  tooltip: {
    gridline: {
      enabled: true
    }
  }
});
var t0 = y2({}, st, {
  comboChartTypes: []
});
var e0 = y2(
  {
    tree: {
      type: X.TREE
    }
  },
  O2,
  {}
);
var n0 = y2({}, O2, {
  data: y2(O2.data, {
    groupMapsTo: "name"
  })
});
var r0 = y2({}, O2, ia, {
  data: y2(O2.data, {
    groupMapsTo: "name"
  })
});
var i0 = y2({}, O2, {
  alluvial: {
    data: y2(O2.data, {
      groupMapsTo: "source"
    }),
    nodeAlignment: k.CENTER,
    nodePadding: 24,
    monochrome: false,
    nodes: []
  }
});
var a0 = y2({}, O2, {
  axes: ua,
  heatmap: {
    divider: {
      state: eE.AUTO
    },
    colorLegend: {
      type: "linear"
    }
  }
});
var o0 = y2({}, fa, {
  choropleth: {
    colorLegend: {
      type: "linear"
    }
  }
});
var s0 = {
  alluvialChart: i0,
  areaChart: ha,
  axisChart: Ut,
  boxplotChart: Bm,
  bubbleChart: zm,
  bulletChart: Xm,
  chart: O2,
  circlePackChart: r0,
  choroplethChart: o0,
  comboChart: t0,
  donutChart: Km,
  gaugeChart: Qm,
  groupedBarChart: Hm,
  heatmapChart: a0,
  histogramChart: Um,
  lineChart: la,
  lollipopChart: qm,
  meterChart: ga,
  pieChart: da,
  proportionalMeterChart: Zm,
  radarChart: Jm,
  scatterChart: Dn,
  simpleBarChart: Ym,
  stackedAreaChart: jm,
  stackedBarChart: Gm,
  thematicChart: fa,
  treeChart: e0,
  treemapChart: n0,
  wordCloudChart: Vm
};
var q0 = Object.freeze(Object.defineProperty({
  __proto__: null,
  alluvial: Cm,
  area: _m,
  axis: vm,
  baseTooltip: Nn,
  boxplot: Tm,
  canvasZoomSettings: xm,
  carbonPrefix: bm,
  circlePack: ia,
  color: Mm,
  defaultLegendAdditionalItems: aa,
  grid: oa,
  heatmap: Nm,
  histogram: Sm,
  legend: Am,
  lines: Om,
  meter: Pm,
  options: s0,
  pie: $m,
  radar: Em,
  ruler: sa,
  spacers: Dm,
  timeScale: Xt,
  toolbar: Fm,
  tooltips: Im,
  transitions: Rm,
  zoomBar: Lm
}, Symbol.toStringTag, { value: "Module" }));
function j0(t3, e2, n2) {
  let r3 = null;
  return function(...i10) {
    const a2 = this;
    a2.mousePosition = dd(i10[0], n2), clearTimeout(r3), r3 = setTimeout(function() {
      t3.apply(a2, i10);
    }, e2);
  };
}
function z0(t3, e2) {
  var i10;
  const n2 = hf(t3), r3 = Object.keys(e2.axes || {});
  (i10 = e2 == null ? void 0 : e2.toolbar) != null && i10.controls && delete n2.toolbar.controls, r3.length === 0 && delete n2.axes;
  for (const a2 in n2.axes)
    if (r3.includes(a2)) {
      const o2 = e2.axes[a2];
      (o2.primary || o2.secondary) && console.warn(
        "`primary` & `secondary` are no longer needed for axis configurations. Read more here https://charts.carbondesignsystem.com/"
      );
      const s2 = o2.mapsTo;
      if (s2 == null) {
        const u3 = o2.scaleType;
        u3 == null ? o2.mapsTo = "value" : u3 === F.TIME ? o2.mapsTo = "date" : u3 === F.LABELS && (o2.mapsTo = "key");
      }
    } else
      delete n2.axes[a2];
  return u0(n2, e2), y2(n2, e2);
}
function X0(t3) {
  if (!t3)
    return;
  const e2 = /translate\([0-9]+\.?[0-9]*,[0-9]+\.?[0-9]*\)/, n2 = t3.getAttribute("transform").match(e2);
  if (!n2)
    return null;
  if (n2[0]) {
    const r3 = n2[0].replace(/translate\(/, "").replace(/\)/, "").split(",");
    return {
      tx: r3[0],
      ty: r3[1]
    };
  }
  return null;
}
function U0(t3) {
  const n2 = /\(([^)]+)\)/.exec(t3);
  if (n2 && n2.length > 1) {
    const r3 = n2[1].split(",");
    if (r3.length > 1)
      return {
        x: parseFloat(r3[0]),
        y: parseFloat(r3[1])
      };
  }
  return { x: 0, y: 0 };
}
function V0(t3, e2, n2 = "value", r3 = false) {
  const i10 = t3 / e2.reduce((a2, o2) => a2 + o2[n2], 0) * 100;
  return r3 ? i10 : i10 % 1 !== 0 ? parseFloat(i10.toFixed(1)) : i10;
}
function Q0(t3, e2, n2) {
  if (n2 > t3.length)
    return t3;
  if (e2 === K.MID_LINE)
    return t3.substr(0, n2 / 2) + "..." + t3.substr(-n2 / 2);
  if (e2 === K.FRONT_LINE)
    return "..." + t3.substr(-n2);
  if (e2 === K.END_LINE)
    return t3.substr(0, n2) + "...";
}
function u0(t3, e2) {
  const n2 = rt(t3, "legend", "additionalItems"), r3 = rt(e2, "legend", "additionalItems");
  if (n2 && r3) {
    const i10 = r3.map((s2) => s2.type), a2 = n2.map((s2) => s2.type), o2 = aa.filter(
      (s2) => a2.includes(s2.type) && !i10.includes(s2.type)
    );
    t3.legend.additionalItems = o2, e2.legend.additionalItems = ml(
      o2,
      r3,
      "name"
    );
  }
}
var rt = (t3, ...e2) => {
  let n2 = t3;
  if (n2) {
    for (const r3 of e2)
      if (n2[r3] !== null && n2[r3] !== void 0)
        n2 = n2[r3];
      else
        return null;
    return n2;
  }
  return null;
};
var c0 = (t3, e2) => e2 === w.HORIZONTAL ? {
  y0: t3.x0,
  y1: t3.x1,
  x0: t3.y0,
  x1: t3.y1
} : t3;
var K0 = (t3, e2) => {
  const { x0: n2, x1: r3, y0: i10, y1: a2 } = c0(t3, e2);
  return `M${n2},${i10}L${n2},${a2}L${r3},${a2}L${r3},${i10}L${n2},${i10}`;
};
function Z0(t3, e2, n2) {
  return n2 === w.VERTICAL ? [t3, e2] : [e2, t3];
}
function Lr(t3) {
  const e2 = L2(t3), n2 = new Date(
    Date.UTC(
      e2.getFullYear(),
      e2.getMonth(),
      e2.getDate(),
      e2.getHours(),
      e2.getMinutes(),
      e2.getSeconds(),
      e2.getMilliseconds()
    )
  );
  return n2.setUTCFullYear(e2.getFullYear()), +t3 - +n2;
}
function kr(t3, e2) {
  const n2 = L2(t3, e2 == null ? void 0 : e2.in);
  return n2.setHours(0, 0, 0, 0), n2;
}
function f0(t3, e2, n2) {
  const [r3, i10] = Ca(
    n2 == null ? void 0 : n2.in,
    t3,
    e2
  ), a2 = kr(r3), o2 = kr(i10), s2 = +a2 - Lr(a2), u3 = +o2 - Lr(o2);
  return Math.round((s2 - u3) / Ea);
}
function l0(t3, e2) {
  const n2 = L2(t3, e2 == null ? void 0 : e2.in);
  return n2.setFullYear(n2.getFullYear(), 0, 1), n2.setHours(0, 0, 0, 0), n2;
}
function h0(t3, e2) {
  const n2 = L2(t3, e2 == null ? void 0 : e2.in);
  return f0(n2, l0(n2)) + 1;
}
function Me(t3, e2) {
  return It(t3, { ...e2, weekStartsOn: 1 });
}
function ma(t3, e2) {
  const n2 = L2(t3, e2 == null ? void 0 : e2.in), r3 = n2.getFullYear(), i10 = Z2(n2, 0);
  i10.setFullYear(r3 + 1, 0, 4), i10.setHours(0, 0, 0, 0);
  const a2 = Me(i10), o2 = Z2(n2, 0);
  o2.setFullYear(r3, 0, 4), o2.setHours(0, 0, 0, 0);
  const s2 = Me(o2);
  return n2.getTime() >= a2.getTime() ? r3 + 1 : n2.getTime() >= s2.getTime() ? r3 : r3 - 1;
}
function d0(t3, e2) {
  const n2 = ma(t3, e2), r3 = Z2(t3, 0);
  return r3.setFullYear(n2, 0, 4), r3.setHours(0, 0, 0, 0), Me(r3);
}
function g0(t3, e2) {
  const n2 = L2(t3, e2 == null ? void 0 : e2.in), r3 = +Me(n2) - +d0(n2);
  return Math.round(r3 / qr) + 1;
}
function pa(t3, e2) {
  var f2, l2, h3, d2;
  const n2 = L2(t3, e2 == null ? void 0 : e2.in), r3 = n2.getFullYear(), i10 = Se(), a2 = (e2 == null ? void 0 : e2.firstWeekContainsDate) ?? ((l2 = (f2 = e2 == null ? void 0 : e2.locale) == null ? void 0 : f2.options) == null ? void 0 : l2.firstWeekContainsDate) ?? i10.firstWeekContainsDate ?? ((d2 = (h3 = i10.locale) == null ? void 0 : h3.options) == null ? void 0 : d2.firstWeekContainsDate) ?? 1, o2 = Z2((e2 == null ? void 0 : e2.in) || t3, 0);
  o2.setFullYear(r3 + 1, 0, a2), o2.setHours(0, 0, 0, 0);
  const s2 = It(o2, e2), u3 = Z2((e2 == null ? void 0 : e2.in) || t3, 0);
  u3.setFullYear(r3, 0, a2), u3.setHours(0, 0, 0, 0);
  const c2 = It(u3, e2);
  return +n2 >= +s2 ? r3 + 1 : +n2 >= +c2 ? r3 : r3 - 1;
}
function m0(t3, e2) {
  var s2, u3, c2, f2;
  const n2 = Se(), r3 = (e2 == null ? void 0 : e2.firstWeekContainsDate) ?? ((u3 = (s2 = e2 == null ? void 0 : e2.locale) == null ? void 0 : s2.options) == null ? void 0 : u3.firstWeekContainsDate) ?? n2.firstWeekContainsDate ?? ((f2 = (c2 = n2.locale) == null ? void 0 : c2.options) == null ? void 0 : f2.firstWeekContainsDate) ?? 1, i10 = pa(t3, e2), a2 = Z2((e2 == null ? void 0 : e2.in) || t3, 0);
  return a2.setFullYear(i10, 0, r3), a2.setHours(0, 0, 0, 0), It(a2, e2);
}
function p0(t3, e2) {
  const n2 = L2(t3, e2 == null ? void 0 : e2.in), r3 = +It(n2, e2) - +m0(n2, e2);
  return Math.round(r3 / qr) + 1;
}
function x2(t3, e2) {
  const n2 = t3 < 0 ? "-" : "", r3 = Math.abs(t3).toString().padStart(e2, "0");
  return n2 + r3;
}
var Q2 = {
  // Year
  y(t3, e2) {
    const n2 = t3.getFullYear(), r3 = n2 > 0 ? n2 : 1 - n2;
    return x2(e2 === "yy" ? r3 % 100 : r3, e2.length);
  },
  // Month
  M(t3, e2) {
    const n2 = t3.getMonth();
    return e2 === "M" ? String(n2 + 1) : x2(n2 + 1, 2);
  },
  // Day of the month
  d(t3, e2) {
    return x2(t3.getDate(), e2.length);
  },
  // AM or PM
  a(t3, e2) {
    const n2 = t3.getHours() / 12 >= 1 ? "pm" : "am";
    switch (e2) {
      case "a":
      case "aa":
        return n2.toUpperCase();
      case "aaa":
        return n2;
      case "aaaaa":
        return n2[0];
      case "aaaa":
      default:
        return n2 === "am" ? "a.m." : "p.m.";
    }
  },
  // Hour [1-12]
  h(t3, e2) {
    return x2(t3.getHours() % 12 || 12, e2.length);
  },
  // Hour [0-23]
  H(t3, e2) {
    return x2(t3.getHours(), e2.length);
  },
  // Minute
  m(t3, e2) {
    return x2(t3.getMinutes(), e2.length);
  },
  // Second
  s(t3, e2) {
    return x2(t3.getSeconds(), e2.length);
  },
  // Fraction of second
  S(t3, e2) {
    const n2 = e2.length, r3 = t3.getMilliseconds(), i10 = Math.trunc(
      r3 * Math.pow(10, n2 - 3)
    );
    return x2(i10, e2.length);
  }
};
var ht = {
  midnight: "midnight",
  noon: "noon",
  morning: "morning",
  afternoon: "afternoon",
  evening: "evening",
  night: "night"
};
var Wr = {
  // Era
  G: function(t3, e2, n2) {
    const r3 = t3.getFullYear() > 0 ? 1 : 0;
    switch (e2) {
      case "G":
      case "GG":
      case "GGG":
        return n2.era(r3, { width: "abbreviated" });
      case "GGGGG":
        return n2.era(r3, { width: "narrow" });
      case "GGGG":
      default:
        return n2.era(r3, { width: "wide" });
    }
  },
  // Year
  y: function(t3, e2, n2) {
    if (e2 === "yo") {
      const r3 = t3.getFullYear(), i10 = r3 > 0 ? r3 : 1 - r3;
      return n2.ordinalNumber(i10, { unit: "year" });
    }
    return Q2.y(t3, e2);
  },
  // Local week-numbering year
  Y: function(t3, e2, n2, r3) {
    const i10 = pa(t3, r3), a2 = i10 > 0 ? i10 : 1 - i10;
    if (e2 === "YY") {
      const o2 = a2 % 100;
      return x2(o2, 2);
    }
    return e2 === "Yo" ? n2.ordinalNumber(a2, { unit: "year" }) : x2(a2, e2.length);
  },
  // ISO week-numbering year
  R: function(t3, e2) {
    const n2 = ma(t3);
    return x2(n2, e2.length);
  },
  // Extended year. This is a single number designating the year of this calendar system.
  // The main difference between `y` and `u` localizers are B.C. years:
  // | Year | `y` | `u` |
  // |------|-----|-----|
  // | AC 1 |   1 |   1 |
  // | BC 1 |   1 |   0 |
  // | BC 2 |   2 |  -1 |
  // Also `yy` always returns the last two digits of a year,
  // while `uu` pads single digit years to 2 characters and returns other years unchanged.
  u: function(t3, e2) {
    const n2 = t3.getFullYear();
    return x2(n2, e2.length);
  },
  // Quarter
  Q: function(t3, e2, n2) {
    const r3 = Math.ceil((t3.getMonth() + 1) / 3);
    switch (e2) {
      case "Q":
        return String(r3);
      case "QQ":
        return x2(r3, 2);
      case "Qo":
        return n2.ordinalNumber(r3, { unit: "quarter" });
      case "QQQ":
        return n2.quarter(r3, {
          width: "abbreviated",
          context: "formatting"
        });
      case "QQQQQ":
        return n2.quarter(r3, {
          width: "narrow",
          context: "formatting"
        });
      case "QQQQ":
      default:
        return n2.quarter(r3, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // Stand-alone quarter
  q: function(t3, e2, n2) {
    const r3 = Math.ceil((t3.getMonth() + 1) / 3);
    switch (e2) {
      case "q":
        return String(r3);
      case "qq":
        return x2(r3, 2);
      case "qo":
        return n2.ordinalNumber(r3, { unit: "quarter" });
      case "qqq":
        return n2.quarter(r3, {
          width: "abbreviated",
          context: "standalone"
        });
      case "qqqqq":
        return n2.quarter(r3, {
          width: "narrow",
          context: "standalone"
        });
      case "qqqq":
      default:
        return n2.quarter(r3, {
          width: "wide",
          context: "standalone"
        });
    }
  },
  // Month
  M: function(t3, e2, n2) {
    const r3 = t3.getMonth();
    switch (e2) {
      case "M":
      case "MM":
        return Q2.M(t3, e2);
      case "Mo":
        return n2.ordinalNumber(r3 + 1, { unit: "month" });
      case "MMM":
        return n2.month(r3, {
          width: "abbreviated",
          context: "formatting"
        });
      case "MMMMM":
        return n2.month(r3, {
          width: "narrow",
          context: "formatting"
        });
      case "MMMM":
      default:
        return n2.month(r3, { width: "wide", context: "formatting" });
    }
  },
  // Stand-alone month
  L: function(t3, e2, n2) {
    const r3 = t3.getMonth();
    switch (e2) {
      case "L":
        return String(r3 + 1);
      case "LL":
        return x2(r3 + 1, 2);
      case "Lo":
        return n2.ordinalNumber(r3 + 1, { unit: "month" });
      case "LLL":
        return n2.month(r3, {
          width: "abbreviated",
          context: "standalone"
        });
      case "LLLLL":
        return n2.month(r3, {
          width: "narrow",
          context: "standalone"
        });
      case "LLLL":
      default:
        return n2.month(r3, { width: "wide", context: "standalone" });
    }
  },
  // Local week of year
  w: function(t3, e2, n2, r3) {
    const i10 = p0(t3, r3);
    return e2 === "wo" ? n2.ordinalNumber(i10, { unit: "week" }) : x2(i10, e2.length);
  },
  // ISO week of year
  I: function(t3, e2, n2) {
    const r3 = g0(t3);
    return e2 === "Io" ? n2.ordinalNumber(r3, { unit: "week" }) : x2(r3, e2.length);
  },
  // Day of the month
  d: function(t3, e2, n2) {
    return e2 === "do" ? n2.ordinalNumber(t3.getDate(), { unit: "date" }) : Q2.d(t3, e2);
  },
  // Day of year
  D: function(t3, e2, n2) {
    const r3 = h0(t3);
    return e2 === "Do" ? n2.ordinalNumber(r3, { unit: "dayOfYear" }) : x2(r3, e2.length);
  },
  // Day of week
  E: function(t3, e2, n2) {
    const r3 = t3.getDay();
    switch (e2) {
      case "E":
      case "EE":
      case "EEE":
        return n2.day(r3, {
          width: "abbreviated",
          context: "formatting"
        });
      case "EEEEE":
        return n2.day(r3, {
          width: "narrow",
          context: "formatting"
        });
      case "EEEEEE":
        return n2.day(r3, {
          width: "short",
          context: "formatting"
        });
      case "EEEE":
      default:
        return n2.day(r3, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // Local day of week
  e: function(t3, e2, n2, r3) {
    const i10 = t3.getDay(), a2 = (i10 - r3.weekStartsOn + 8) % 7 || 7;
    switch (e2) {
      case "e":
        return String(a2);
      case "ee":
        return x2(a2, 2);
      case "eo":
        return n2.ordinalNumber(a2, { unit: "day" });
      case "eee":
        return n2.day(i10, {
          width: "abbreviated",
          context: "formatting"
        });
      case "eeeee":
        return n2.day(i10, {
          width: "narrow",
          context: "formatting"
        });
      case "eeeeee":
        return n2.day(i10, {
          width: "short",
          context: "formatting"
        });
      case "eeee":
      default:
        return n2.day(i10, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // Stand-alone local day of week
  c: function(t3, e2, n2, r3) {
    const i10 = t3.getDay(), a2 = (i10 - r3.weekStartsOn + 8) % 7 || 7;
    switch (e2) {
      case "c":
        return String(a2);
      case "cc":
        return x2(a2, e2.length);
      case "co":
        return n2.ordinalNumber(a2, { unit: "day" });
      case "ccc":
        return n2.day(i10, {
          width: "abbreviated",
          context: "standalone"
        });
      case "ccccc":
        return n2.day(i10, {
          width: "narrow",
          context: "standalone"
        });
      case "cccccc":
        return n2.day(i10, {
          width: "short",
          context: "standalone"
        });
      case "cccc":
      default:
        return n2.day(i10, {
          width: "wide",
          context: "standalone"
        });
    }
  },
  // ISO day of week
  i: function(t3, e2, n2) {
    const r3 = t3.getDay(), i10 = r3 === 0 ? 7 : r3;
    switch (e2) {
      case "i":
        return String(i10);
      case "ii":
        return x2(i10, e2.length);
      case "io":
        return n2.ordinalNumber(i10, { unit: "day" });
      case "iii":
        return n2.day(r3, {
          width: "abbreviated",
          context: "formatting"
        });
      case "iiiii":
        return n2.day(r3, {
          width: "narrow",
          context: "formatting"
        });
      case "iiiiii":
        return n2.day(r3, {
          width: "short",
          context: "formatting"
        });
      case "iiii":
      default:
        return n2.day(r3, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // AM or PM
  a: function(t3, e2, n2) {
    const i10 = t3.getHours() / 12 >= 1 ? "pm" : "am";
    switch (e2) {
      case "a":
      case "aa":
        return n2.dayPeriod(i10, {
          width: "abbreviated",
          context: "formatting"
        });
      case "aaa":
        return n2.dayPeriod(i10, {
          width: "abbreviated",
          context: "formatting"
        }).toLowerCase();
      case "aaaaa":
        return n2.dayPeriod(i10, {
          width: "narrow",
          context: "formatting"
        });
      case "aaaa":
      default:
        return n2.dayPeriod(i10, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // AM, PM, midnight, noon
  b: function(t3, e2, n2) {
    const r3 = t3.getHours();
    let i10;
    switch (r3 === 12 ? i10 = ht.noon : r3 === 0 ? i10 = ht.midnight : i10 = r3 / 12 >= 1 ? "pm" : "am", e2) {
      case "b":
      case "bb":
        return n2.dayPeriod(i10, {
          width: "abbreviated",
          context: "formatting"
        });
      case "bbb":
        return n2.dayPeriod(i10, {
          width: "abbreviated",
          context: "formatting"
        }).toLowerCase();
      case "bbbbb":
        return n2.dayPeriod(i10, {
          width: "narrow",
          context: "formatting"
        });
      case "bbbb":
      default:
        return n2.dayPeriod(i10, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // in the morning, in the afternoon, in the evening, at night
  B: function(t3, e2, n2) {
    const r3 = t3.getHours();
    let i10;
    switch (r3 >= 17 ? i10 = ht.evening : r3 >= 12 ? i10 = ht.afternoon : r3 >= 4 ? i10 = ht.morning : i10 = ht.night, e2) {
      case "B":
      case "BB":
      case "BBB":
        return n2.dayPeriod(i10, {
          width: "abbreviated",
          context: "formatting"
        });
      case "BBBBB":
        return n2.dayPeriod(i10, {
          width: "narrow",
          context: "formatting"
        });
      case "BBBB":
      default:
        return n2.dayPeriod(i10, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // Hour [1-12]
  h: function(t3, e2, n2) {
    if (e2 === "ho") {
      let r3 = t3.getHours() % 12;
      return r3 === 0 && (r3 = 12), n2.ordinalNumber(r3, { unit: "hour" });
    }
    return Q2.h(t3, e2);
  },
  // Hour [0-23]
  H: function(t3, e2, n2) {
    return e2 === "Ho" ? n2.ordinalNumber(t3.getHours(), { unit: "hour" }) : Q2.H(t3, e2);
  },
  // Hour [0-11]
  K: function(t3, e2, n2) {
    const r3 = t3.getHours() % 12;
    return e2 === "Ko" ? n2.ordinalNumber(r3, { unit: "hour" }) : x2(r3, e2.length);
  },
  // Hour [1-24]
  k: function(t3, e2, n2) {
    let r3 = t3.getHours();
    return r3 === 0 && (r3 = 24), e2 === "ko" ? n2.ordinalNumber(r3, { unit: "hour" }) : x2(r3, e2.length);
  },
  // Minute
  m: function(t3, e2, n2) {
    return e2 === "mo" ? n2.ordinalNumber(t3.getMinutes(), { unit: "minute" }) : Q2.m(t3, e2);
  },
  // Second
  s: function(t3, e2, n2) {
    return e2 === "so" ? n2.ordinalNumber(t3.getSeconds(), { unit: "second" }) : Q2.s(t3, e2);
  },
  // Fraction of second
  S: function(t3, e2) {
    return Q2.S(t3, e2);
  },
  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)
  X: function(t3, e2, n2) {
    const r3 = t3.getTimezoneOffset();
    if (r3 === 0)
      return "Z";
    switch (e2) {
      case "X":
        return Hr(r3);
      case "XXXX":
      case "XX":
        return tt(r3);
      case "XXXXX":
      case "XXX":
      default:
        return tt(r3, ":");
    }
  },
  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)
  x: function(t3, e2, n2) {
    const r3 = t3.getTimezoneOffset();
    switch (e2) {
      case "x":
        return Hr(r3);
      case "xxxx":
      case "xx":
        return tt(r3);
      case "xxxxx":
      case "xxx":
      default:
        return tt(r3, ":");
    }
  },
  // Timezone (GMT)
  O: function(t3, e2, n2) {
    const r3 = t3.getTimezoneOffset();
    switch (e2) {
      case "O":
      case "OO":
      case "OOO":
        return "GMT" + Yr(r3, ":");
      case "OOOO":
      default:
        return "GMT" + tt(r3, ":");
    }
  },
  // Timezone (specific non-location)
  z: function(t3, e2, n2) {
    const r3 = t3.getTimezoneOffset();
    switch (e2) {
      case "z":
      case "zz":
      case "zzz":
        return "GMT" + Yr(r3, ":");
      case "zzzz":
      default:
        return "GMT" + tt(r3, ":");
    }
  },
  // Seconds timestamp
  t: function(t3, e2, n2) {
    const r3 = Math.trunc(+t3 / 1e3);
    return x2(r3, e2.length);
  },
  // Milliseconds timestamp
  T: function(t3, e2, n2) {
    return x2(+t3, e2.length);
  }
};
function Yr(t3, e2 = "") {
  const n2 = t3 > 0 ? "-" : "+", r3 = Math.abs(t3), i10 = Math.trunc(r3 / 60), a2 = r3 % 60;
  return a2 === 0 ? n2 + String(i10) : n2 + String(i10) + e2 + x2(a2, 2);
}
function Hr(t3, e2) {
  return t3 % 60 === 0 ? (t3 > 0 ? "-" : "+") + x2(Math.abs(t3) / 60, 2) : tt(t3, e2);
}
function tt(t3, e2 = "") {
  const n2 = t3 > 0 ? "-" : "+", r3 = Math.abs(t3), i10 = x2(Math.trunc(r3 / 60), 2), a2 = x2(r3 % 60, 2);
  return n2 + i10 + e2 + a2;
}
var Gr = (t3, e2) => {
  switch (t3) {
    case "P":
      return e2.date({ width: "short" });
    case "PP":
      return e2.date({ width: "medium" });
    case "PPP":
      return e2.date({ width: "long" });
    case "PPPP":
    default:
      return e2.date({ width: "full" });
  }
};
var ya = (t3, e2) => {
  switch (t3) {
    case "p":
      return e2.time({ width: "short" });
    case "pp":
      return e2.time({ width: "medium" });
    case "ppp":
      return e2.time({ width: "long" });
    case "pppp":
    default:
      return e2.time({ width: "full" });
  }
};
var y0 = (t3, e2) => {
  const n2 = t3.match(/(P+)(p+)?/) || [], r3 = n2[1], i10 = n2[2];
  if (!i10)
    return Gr(t3, e2);
  let a2;
  switch (r3) {
    case "P":
      a2 = e2.dateTime({ width: "short" });
      break;
    case "PP":
      a2 = e2.dateTime({ width: "medium" });
      break;
    case "PPP":
      a2 = e2.dateTime({ width: "long" });
      break;
    case "PPPP":
    default:
      a2 = e2.dateTime({ width: "full" });
      break;
  }
  return a2.replace("{{date}}", Gr(r3, e2)).replace("{{time}}", ya(i10, e2));
};
var w0 = {
  p: ya,
  P: y0
};
var b0 = /^D+$/;
var _0 = /^Y+$/;
var v0 = ["D", "DD", "YY", "YYYY"];
function x0(t3) {
  return b0.test(t3);
}
function M0(t3) {
  return _0.test(t3);
}
function T0(t3, e2, n2) {
  const r3 = S0(t3, e2, n2);
  if (console.warn(r3), v0.includes(t3)) throw new RangeError(r3);
}
function S0(t3, e2, n2) {
  const r3 = t3[0] === "Y" ? "years" : "days of the month";
  return `Use \`${t3.toLowerCase()}\` instead of \`${t3}\` (in \`${e2}\`) for formatting ${r3} to the input \`${n2}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;
}
function A0(t3) {
  return t3 instanceof Date || typeof t3 == "object" && Object.prototype.toString.call(t3) === "[object Date]";
}
function O0(t3) {
  return !(!A0(t3) && typeof t3 != "number" || isNaN(+L2(t3)));
}
var P0 = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g;
var $0 = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;
var E0 = /^'([^]*?)'?$/;
var C0 = /''/g;
var N0 = /[a-zA-Z]/;
function on(t3, e2, n2) {
  var f2, l2, h3, d2, g3, m3, p3, v4;
  const r3 = Se(), i10 = (n2 == null ? void 0 : n2.locale) ?? r3.locale ?? jr, a2 = (n2 == null ? void 0 : n2.firstWeekContainsDate) ?? ((l2 = (f2 = n2 == null ? void 0 : n2.locale) == null ? void 0 : f2.options) == null ? void 0 : l2.firstWeekContainsDate) ?? r3.firstWeekContainsDate ?? ((d2 = (h3 = r3.locale) == null ? void 0 : h3.options) == null ? void 0 : d2.firstWeekContainsDate) ?? 1, o2 = (n2 == null ? void 0 : n2.weekStartsOn) ?? ((m3 = (g3 = n2 == null ? void 0 : n2.locale) == null ? void 0 : g3.options) == null ? void 0 : m3.weekStartsOn) ?? r3.weekStartsOn ?? ((v4 = (p3 = r3.locale) == null ? void 0 : p3.options) == null ? void 0 : v4.weekStartsOn) ?? 0, s2 = L2(t3, n2 == null ? void 0 : n2.in);
  if (!O0(s2))
    throw new RangeError("Invalid time value");
  let u3 = e2.match($0).map((w3) => {
    const _4 = w3[0];
    if (_4 === "p" || _4 === "P") {
      const A2 = w0[_4];
      return A2(w3, i10.formatLong);
    }
    return w3;
  }).join("").match(P0).map((w3) => {
    if (w3 === "''")
      return { isToken: false, value: "'" };
    const _4 = w3[0];
    if (_4 === "'")
      return { isToken: false, value: D0(w3) };
    if (Wr[_4])
      return { isToken: true, value: w3 };
    if (_4.match(N0))
      throw new RangeError(
        "Format string contains an unescaped latin alphabet character `" + _4 + "`"
      );
    return { isToken: false, value: w3 };
  });
  i10.localize.preprocessor && (u3 = i10.localize.preprocessor(s2, u3));
  const c2 = {
    firstWeekContainsDate: a2,
    weekStartsOn: o2,
    locale: i10
  };
  return u3.map((w3) => {
    if (!w3.isToken) return w3.value;
    const _4 = w3.value;
    (!(n2 != null && n2.useAdditionalWeekYearTokens) && M0(_4) || !(n2 != null && n2.useAdditionalDayOfYearTokens) && x0(_4)) && T0(_4, e2, String(t3));
    const A2 = Wr[_4[0]];
    return A2(s2, _4, i10.localize, c2);
  }).join("");
}
function D0(t3) {
  const e2 = t3.match(E0);
  return e2 ? e2[1].replace(C0, "'") : t3;
}
var He = [
  ["15seconds", 15 * 1e3],
  ["minute", 60 * 1e3],
  ["30minutes", 30 * 60 * 1e3],
  ["hourly", 60 * 60 * 1e3],
  ["daily", 24 * 60 * 60 * 1e3],
  ["monthly", 30 * 24 * 60 * 60 * 1e3],
  ["quarterly", 3 * 30 * 24 * 60 * 60 * 1e3],
  ["yearly", 12 * 30 * 24 * 60 * 60 * 1e3]
];
function I0(t3, e2, n2, r3, i10) {
  const a2 = e2 === 0, o2 = Number(on(new Date(t3), "c")) === 2, s2 = Number(on(new Date(t3), "q")) === 1, u3 = e2 !== 0 ? n2[e2 - 1] : null;
  switch (r3) {
    case "15seconds":
      return a2 || ie(t3) || $t(t3, u3) || K2(t3);
    case "minute":
      return a2 || ie(t3) || $t(t3, u3) || K2(t3);
    case "30minutes":
      return a2 || ie(t3) || $t(t3, u3) || K2(t3);
    case "hourly":
      return a2 || ie(t3) || $t(t3, u3) || K2(t3);
    case "daily":
      return i10 ? a2 || o2 || K2(t3) : a2 || $t(t3, u3) || K2(t3);
    case "weekly":
      return a2 || o2 || K2(t3);
    case "monthly":
      return a2 || K2(t3);
    case "quarterly":
      return a2 || s2;
    case "yearly":
      return false;
    default:
      throw new Error(`${r3} is not a valid time interval.`);
  }
}
function J0(t3, e2, n2, r3, i10, a2) {
  const o2 = i10.showDayName, s2 = r3 === "daily" && o2 ? "weekly" : r3, u3 = new Date(t3), c2 = rt(i10, "timeIntervalFormats")[s2], f2 = rt(c2, "primary"), l2 = rt(c2, "secondary"), h3 = I0(t3, e2, n2, r3, o2);
  let d2 = h3 ? f2 : l2;
  r3 === "15seconds" && u3.getMilliseconds() !== 0 && (d2 = d2.replace("pp", "h:mm:ss.SSS a"));
  const g3 = i10.localeObject, { code: m3, optionsObject: p3 } = a2, v4 = p3[r3].type, w3 = p3[r3][h3 ? "primary" : "secondary"][d2];
  if (r3 === "quarterly" || !w3) {
    const A2 = on(u3, d2, { locale: g3 }).split("").map((S3) => {
      const Vt3 = Number(S3);
      return S3 !== " " && !Number.isNaN(Vt3) ? Vt3.toLocaleString(m3) : S3;
    });
    return a2[v4](u3, m3, {}, A2.join(""));
  } else
    return a2[v4](u3, m3, w3);
}
function Te(t3) {
  const e2 = new Date(t3);
  return {
    M: e2.getMonth() + 1,
    // month: 1-12
    d: e2.getDate(),
    // day of the month: 1-31
    H: e2.getHours(),
    // 24-hour clock: 0-23
    m: e2.getMinutes(),
    // minute: 0-59
    s: e2.getSeconds()
    // seconds: 0-59
  };
}
function R0(t3) {
  if (t3)
    return t3.slice(1).map((e2, n2) => e2 - t3[n2]);
}
function F0(t3) {
  const e2 = He.reduce((n2, [, r3], i10) => {
    const a2 = He[n2][1], o2 = Math.abs(a2 - t3), s2 = Math.abs(r3 - t3);
    return o2 < s2 ? n2 : i10;
  }, 0);
  return He[e2][0];
}
function tp(t3, e2) {
  if (oE[e2])
    return e2;
  if (t3.length === 1)
    return "15seconds";
  const n2 = R0(t3), r3 = $l(n2);
  return F0(r3);
}
function ie(t3) {
  const { s: e2, m: n2, H: r3 } = Te(t3);
  return r3 === 0 && n2 === 0 && e2 === 0;
}
function $t(t3, e2) {
  const n2 = Te(t3).M, r3 = Te(e2).M;
  return n2 !== r3;
}
function K2(t3) {
  const { M: e2, d: n2, s: r3, m: i10, H: a2 } = Te(t3);
  return e2 === 1 && n2 === 1 && a2 === 0 && i10 === 0 && r3 === 0;
}
function ep(t3) {
  return t3 === void 0 ? "" : t3.toISOString();
}
function L0(t3) {
  const e2 = _l(t3, (r3) => r3.value), n2 = na().domain(e2).nice().domain();
  if (n2[0] > 0)
    n2[0] = 0;
  else if (n2[0] === 0 && n2[1] === 0)
    return [0, 1];
  return n2[0] < 0 && n2[1] > 0 && (Math.abs(n2[0]) > n2[1] ? n2[1] = Math.abs(n2[0]) : n2[0] = -n2[1]), n2;
}
function np(t3, e2) {
  const n2 = rt(e2, "gradient", "colors"), r3 = !ll(n2);
  let i10 = rt(e2, "pairing", "option");
  const a2 = L0(t3), o2 = a2[0] < 0 && a2[1] > 0 ? "diverge" : "mono";
  (i10 < 1 && i10 > 4 && o2 === "mono" || i10 < 1 && i10 > 2 && o2 === "diverge") && (i10 = 1);
  const s2 = r3 ? n2 : [];
  if (!r3) {
    const u3 = o2 === "diverge" ? 17 : 11;
    for (let c2 = 1; c2 < u3 + 1; c2++)
      s2.push(`fill-${o2}-${i10}-${c2}`);
  }
  return ra().domain(a2).range(s2);
}

// node_modules/@carbon/charts/dist/a11y-ePqvrObQ.mjs
var r2 = ((c2) => (c2.GRAPHICS_DOCUMENT = "graphics-document", c2.GRAPHICS_OBJECT = "graphics-object", c2.GRAPHICS_SYMBOL = "graphics-symbol", c2.GROUP = "group", c2.DOCUMENT = "document", c2.CHECKBOX = "checkbox", c2.BUTTON = "button", c2.MENU = "menu", c2.MENU_ITEM = "menuitem", c2.IMG = "img", c2))(r2 || {});

// node_modules/@carbon/charts/dist/index-DwV8lNnO.mjs
var sa2 = Object.freeze(Object.defineProperty({
  __proto__: null,
  Alignments: k,
  AreaEvent: R,
  ArrowDirections: Y,
  AxisEvent: t,
  AxisFlavor: uE,
  AxisPositions: b,
  AxisTitleOrientations: EE,
  BarEvent: S,
  BoxplotEvent: v,
  CalloutDirections: B,
  CanvasZoomEvent: _,
  CartesianOrientations: w,
  ChartEvent: r,
  ChartTheme: g,
  ChartTypes: p,
  ColorClassNameTypes: h,
  ColorLegendType: OE,
  DividerStatus: eE,
  DominantBaseline: J,
  Events: H,
  GaugeEvent: U,
  GaugeTypes: Q,
  LayoutAlignItems: q,
  LayoutDirection: W,
  LayoutGrowth: z,
  LegendItemType: rE,
  LegendOrientations: G,
  LegendPositions: P,
  LineEvent: l,
  ModalEvent: O,
  ModelEvent: e,
  PieEvent: M,
  Projection: aE,
  RadarEvent: c,
  RenderTypes: D,
  Roles: r2,
  ScaleTypes: F,
  ScatterEvent: I,
  Skeletons: Z,
  Statuses: $,
  TextAnchor: x,
  ThresholdEvent: A,
  TickRotations: j,
  TimeIntervalNames: oE,
  ToolbarControlTypes: y,
  TooltipEvent: n,
  TreeEvent: L,
  TreeTypes: X,
  TreemapEvent: m,
  TruncationTypes: K,
  WordCloudEvent: s,
  ZoomBarTypes: f,
  ZoomDomainEvent: o,
  ZoombarEvent: a
}, Symbol.toStringTag, { value: "Module" }));

// node_modules/@carbon/charts/dist/array-j65rN_vo.mjs
function h2(r3, n2) {
  return r3 && rl(r3, n2, Pe);
}
function y3(r3, n2) {
  return function(a2, t3) {
    if (a2 == null)
      return a2;
    if (!Bt(a2))
      return r3(a2, t3);
    for (var u3 = a2.length, e2 = -1, s2 = Object(a2); ++e2 < u3 && t3(s2[e2], e2, s2) !== false; )
      ;
    return a2;
  };
}
var p2 = y3(h2);
function g2(r3) {
  return function() {
    return r3;
  };
}
var k3 = Array.prototype.slice;
function m2(r3) {
  return typeof r3 == "object" && "length" in r3 ? r3 : Array.from(r3);
}

// node_modules/@carbon/charts/dist/model/index.mjs
function ht2(u3, t3, e2, s2) {
  for (var a2 = -1, n2 = u3 == null ? 0 : u3.length; ++a2 < n2; ) {
    var o2 = u3[a2];
    t3(s2, o2, e2(o2), u3);
  }
  return s2;
}
function gt2(u3, t3, e2, s2) {
  return p2(u3, function(a2, n2, o2) {
    t3(s2, a2, e2(a2), o2);
  }), s2;
}
function ft2(u3, t3) {
  return function(e2, s2) {
    var a2 = $2(e2) ? ht2 : gt2, n2 = {};
    return a2(e2, u3, el(s2), n2);
  };
}
function dt2(u3) {
  for (var t3 = -1, e2 = u3 == null ? 0 : u3.length, s2 = {}; ++t3 < e2; ) {
    var a2 = u3[t3];
    s2[a2[0]] = a2[1];
  }
  return s2;
}
var mt2 = Object.prototype;
var Dt2 = mt2.hasOwnProperty;
var yt2 = ft2(function(u3, t3, e2) {
  Dt2.call(u3, e2) ? u3[e2].push(t3) : ln(u3, e2, [t3]);
});
function bt2(u3, t3) {
  let e2 = 0;
  for (let s2 of u3)
    s2 != null && (s2 = +s2) >= s2 && ++e2;
  return e2;
}
function vt2(u3) {
  return u3;
}
function xt2(u3 = se) {
  if (u3 === se) return Y3;
  if (typeof u3 != "function") throw new TypeError("compare is not a function");
  return (t3, e2) => {
    const s2 = u3(t3, e2);
    return s2 || s2 === 0 ? s2 : (u3(e2, e2) === 0) - (u3(t3, t3) === 0);
  };
}
function Y3(u3, t3) {
  return (u3 == null || !(u3 >= u3)) - (t3 == null || !(t3 >= t3)) || (u3 < t3 ? -1 : u3 > t3 ? 1 : 0);
}
var Ct2 = Array.prototype;
var Tt = Ct2.slice;
function B3(u3) {
  return () => u3;
}
function At2(u3, t3, e2) {
  let s2;
  for (; ; ) {
    const a2 = Qe(u3, t3, e2);
    if (a2 === s2 || a2 === 0 || !isFinite(a2))
      return [u3, t3];
    a2 > 0 ? (u3 = Math.floor(u3 / a2) * a2, t3 = Math.ceil(t3 / a2) * a2) : a2 < 0 && (u3 = Math.ceil(u3 * a2) / a2, t3 = Math.floor(t3 * a2) / a2), s2 = a2;
  }
}
function Ot2(u3) {
  return Math.max(1, Math.ceil(Math.log(bt2(u3)) / Math.LN2) + 1);
}
function Mt() {
  var u3 = vt2, t3 = _l, e2 = Ot2;
  function s2(a2) {
    Array.isArray(a2) || (a2 = Array.from(a2));
    var n2, o2 = a2.length, r3, i10, l2 = new Array(o2);
    for (n2 = 0; n2 < o2; ++n2)
      l2[n2] = u3(a2[n2], n2, a2);
    var c2 = t3(l2), h3 = c2[0], g3 = c2[1], f2 = e2(l2, h3, g3);
    if (!Array.isArray(f2)) {
      const y4 = g3, S3 = +f2;
      if (t3 === _l && ([h3, g3] = At2(h3, g3, S3)), f2 = Ol(h3, g3, S3), f2[0] <= h3 && (i10 = Qe(h3, g3, S3)), f2[f2.length - 1] >= g3)
        if (y4 >= g3 && t3 === _l) {
          const T4 = Qe(h3, g3, S3);
          isFinite(T4) && (T4 > 0 ? g3 = (Math.floor(g3 / T4) + 1) * T4 : T4 < 0 && (g3 = (Math.ceil(g3 * -T4) + 1) / -T4));
        } else
          f2.pop();
    }
    for (var d2 = f2.length, m3 = 0, D4 = d2; f2[m3] <= h3; ) ++m3;
    for (; f2[D4 - 1] > g3; ) --D4;
    (m3 || D4 < d2) && (f2 = f2.slice(m3, D4), d2 = D4 - m3);
    var x4 = new Array(d2 + 1), O3;
    for (n2 = 0; n2 <= d2; ++n2)
      O3 = x4[n2] = [], O3.x0 = n2 > 0 ? f2[n2 - 1] : h3, O3.x1 = n2 < d2 ? f2[n2] : g3;
    if (isFinite(i10)) {
      if (i10 > 0)
        for (n2 = 0; n2 < o2; ++n2)
          (r3 = l2[n2]) != null && h3 <= r3 && r3 <= g3 && x4[Math.min(d2, Math.floor((r3 - h3) / i10))].push(a2[n2]);
      else if (i10 < 0) {
        for (n2 = 0; n2 < o2; ++n2)
          if ((r3 = l2[n2]) != null && h3 <= r3 && r3 <= g3) {
            const y4 = Math.floor((h3 - r3) * i10);
            x4[Math.min(d2, y4 + (f2[y4] <= r3))].push(a2[n2]);
          }
      }
    } else
      for (n2 = 0; n2 < o2; ++n2)
        (r3 = l2[n2]) != null && h3 <= r3 && r3 <= g3 && x4[Si(f2, r3, 0, d2)].push(a2[n2]);
    return x4;
  }
  return s2.value = function(a2) {
    return arguments.length ? (u3 = typeof a2 == "function" ? a2 : B3(a2), s2) : u3;
  }, s2.domain = function(a2) {
    return arguments.length ? (t3 = typeof a2 == "function" ? a2 : B3([a2[0], a2[1]]), s2) : t3;
  }, s2.thresholds = function(a2) {
    return arguments.length ? (e2 = typeof a2 == "function" ? a2 : B3(Array.isArray(a2) ? Tt.call(a2) : a2), s2) : e2;
  }, s2;
}
function J2(u3, t3, e2 = 0, s2 = 1 / 0, a2) {
  if (t3 = Math.floor(t3), e2 = Math.floor(Math.max(0, e2)), s2 = Math.floor(Math.min(u3.length - 1, s2)), !(e2 <= t3 && t3 <= s2)) return u3;
  for (a2 = a2 === void 0 ? Y3 : xt2(a2); s2 > e2; ) {
    if (s2 - e2 > 600) {
      const i10 = s2 - e2 + 1, l2 = t3 - e2 + 1, c2 = Math.log(i10), h3 = 0.5 * Math.exp(2 * c2 / 3), g3 = 0.5 * Math.sqrt(c2 * h3 * (i10 - h3) / i10) * (l2 - i10 / 2 < 0 ? -1 : 1), f2 = Math.max(e2, Math.floor(t3 - l2 * h3 / i10 + g3)), d2 = Math.min(s2, Math.floor(t3 + (i10 - l2) * h3 / i10 + g3));
      J2(u3, t3, f2, d2, a2);
    }
    const n2 = u3[t3];
    let o2 = e2, r3 = s2;
    for (G3(u3, e2, t3), a2(u3[s2], n2) > 0 && G3(u3, e2, s2); o2 < r3; ) {
      for (G3(u3, o2, r3), ++o2, --r3; a2(u3[o2], n2) < 0; ) ++o2;
      for (; a2(u3[r3], n2) > 0; ) --r3;
    }
    a2(u3[e2], n2) === 0 ? G3(u3, e2, r3) : (++r3, G3(u3, r3, s2)), r3 <= t3 && (e2 = r3 + 1), t3 <= r3 && (s2 = r3 - 1);
  }
  return u3;
}
function G3(u3, t3, e2) {
  const s2 = u3[t3];
  u3[t3] = u3[e2], u3[e2] = s2;
}
function V3(u3, t3, e2) {
  if (u3 = Float64Array.from(G0(u3)), !(!(s2 = u3.length) || isNaN(t3 = +t3))) {
    if (t3 <= 0 || s2 < 2) return $l(u3);
    if (t3 >= 1) return B0(u3);
    var s2, a2 = (s2 - 1) * t3, n2 = Math.floor(a2), o2 = B0(J2(u3, n2).subarray(0, n2 + 1)), r3 = $l(u3.subarray(n2 + 1));
    return o2 + (r3 - o2) * (a2 - n2);
  }
}
function K3(u3, t3) {
  if ((o2 = u3.length) > 1)
    for (var e2 = 1, s2, a2, n2 = u3[t3[0]], o2, r3 = n2.length; e2 < o2; ++e2)
      for (a2 = n2, n2 = u3[t3[e2]], s2 = 0; s2 < r3; ++s2)
        n2[s2][1] += n2[s2][0] = isNaN(a2[s2][1]) ? a2[s2][0] : a2[s2][1];
}
function j3(u3) {
  for (var t3 = u3.length, e2 = new Array(t3); --t3 >= 0; ) e2[t3] = t3;
  return e2;
}
function Gt2(u3, t3) {
  return u3[t3];
}
function St2(u3) {
  const t3 = [];
  return t3.key = u3, t3;
}
function _2() {
  var u3 = g2([]), t3 = j3, e2 = K3, s2 = Gt2;
  function a2(n2) {
    var o2 = Array.from(u3.apply(this, arguments), St2), r3, i10 = o2.length, l2 = -1, c2;
    for (const h3 of n2)
      for (r3 = 0, ++l2; r3 < i10; ++r3)
        (o2[r3][l2] = [0, +s2(h3, o2[r3].key, l2, n2)]).data = h3;
    for (r3 = 0, c2 = m2(t3(o2)); r3 < i10; ++r3)
      o2[c2[r3]].index = r3;
    return e2(o2, c2), o2;
  }
  return a2.keys = function(n2) {
    return arguments.length ? (u3 = typeof n2 == "function" ? n2 : g2(Array.from(n2)), a2) : u3;
  }, a2.value = function(n2) {
    return arguments.length ? (s2 = typeof n2 == "function" ? n2 : g2(+n2), a2) : s2;
  }, a2.order = function(n2) {
    return arguments.length ? (t3 = n2 == null ? j3 : typeof n2 == "function" ? n2 : g2(Array.from(n2)), a2) : t3;
  }, a2.offset = function(n2) {
    return arguments.length ? (e2 = n2 ?? K3, a2) : e2;
  }, a2;
}
function Et2(u3, t3) {
  if ((i10 = u3.length) > 0)
    for (var e2, s2 = 0, a2, n2, o2, r3, i10, l2 = u3[t3[0]].length; s2 < l2; ++s2)
      for (o2 = r3 = 0, e2 = 0; e2 < i10; ++e2)
        (n2 = (a2 = u3[t3[e2]][s2])[1] - a2[0]) > 0 ? (a2[0] = o2, a2[1] = o2 += n2) : n2 < 0 ? (a2[1] = r3, a2[0] = r3 += n2) : (a2[0] = 0, a2[1] = n2);
}
function qt2(u3) {
  const t3 = u3.trim();
  return ["=", "+", "-", "@", "	", "\r"].includes(t3.charAt(0)) ? ` ${t3}` : /[,\"\n]/.test(t3) ? `"${t3}"` : t3;
}
var v2 = class {
  constructor(t3) {
    this.state = {
      options: {}
    }, this.colorScale = {}, this.colorClassNames = {}, this.services = t3;
  }
  formatTable({ headers: t3, cells: e2 }) {
    const s2 = this.getOptions(), {
      code: a2,
      date: n2,
      number: o2
    } = rt(s2, "locale"), r3 = rt(s2, "tabularRepModal", "tableHeadingFormatter"), i10 = rt(s2, "tabularRepModal", "tableCellFormatter"), { cartesianScales: l2 } = this.services, c2 = l2 == null ? void 0 : l2.getDomainAxisScaleType();
    let h3;
    return c2 === F.TIME && (h3 = (f2) => n2(f2, a2, { month: "short", day: "numeric", year: "numeric" })), [
      typeof r3 == "function" ? r3(t3) : t3,
      ...typeof i10 == "function" ? i10(e2) : e2.map((f2) => {
        h3 && (f2[1] = h3(f2[1]));
        for (const d2 in f2) {
          const m3 = f2[d2];
          typeof m3 == "number" && (f2[d2] = o2(m3, a2));
        }
        return f2;
      })
    ];
  }
  getAllDataFromDomain(t3) {
    if (!this.getData())
      return null;
    const e2 = this.getOptions();
    let s2 = this.getData();
    const a2 = this.getDataGroups(), { groupMapsTo: n2 } = rt(e2, "data"), o2 = rt(e2, "axes");
    return t3 && (s2 = s2.filter((r3) => t3.includes(r3[n2]))), o2 && Object.keys(o2).forEach((r3) => {
      const i10 = o2[r3].mapsTo, l2 = o2[r3].scaleType;
      if ((l2 === F.LINEAR || l2 === F.LOG) && (s2 = s2.map((c2) => ({
        ...c2,
        [i10]: c2[i10] === null ? c2[i10] : Number(c2[i10])
      }))), i10 && o2[r3].domain)
        if (l2 === F.LABELS)
          s2 = s2.filter(
            (c2) => o2[r3].domain.includes(c2[i10])
          );
        else {
          const [c2, h3] = o2[r3].domain;
          s2 = s2.filter(
            (g3) => !(i10 in g3) || g3[i10] >= c2 && g3[i10] <= h3
          );
        }
    }), s2.filter((r3) => a2.find((i10) => i10.name === r3[n2]));
  }
  /**
   * Charts that have group configs passed into them, only want to retrieve the display data relevant to that chart
   * @param groups the included datasets for the particular chart
   */
  getDisplayData(t3) {
    if (!this.get("data"))
      return null;
    const { ACTIVE: e2 } = Am.items.status, s2 = this.getDataGroups(t3), { groupMapsTo: a2 } = this.getOptions().data;
    return this.getAllDataFromDomain(t3).filter((o2) => s2.find(
      (r3) => r3.name === o2[a2] && r3.status === e2
    ));
  }
  getData() {
    return this.get("data");
  }
  isDataEmpty() {
    return !this.getData().length;
  }
  /**
   * Sets the data for the current instance.
   *
   * This method sanitizes the provided data, generates data groups,
   * and updates the instance's state with the sanitized data and data groups.
   *
   * @param {any} newData - The new data to be set. This data will be cloned and sanitized.
   * @returns {any} - The sanitized version of the provided data.
   */
  setData(t3) {
    const e2 = this.sanitize(hf(t3)), s2 = this.generateDataGroups(e2);
    return this.set({
      data: e2,
      dataGroups: s2
    }), e2;
  }
  getDataGroups(t3) {
    return rt(this.getOptions(), "data", "loading") ? [] : t3 ? this.get("dataGroups").filter((s2) => t3.includes(s2.name)) : this.get("dataGroups");
  }
  getActiveDataGroups(t3) {
    const { ACTIVE: e2 } = Am.items.status;
    return this.getDataGroups(t3).filter((s2) => s2.status === e2);
  }
  getDataGroupNames(t3) {
    return this.getDataGroups(t3).map((s2) => s2.name);
  }
  getActiveDataGroupNames(t3) {
    return this.getActiveDataGroups(t3).map((s2) => s2.name);
  }
  aggregateBinDataByGroup(t3) {
    return yt2(t3, "group");
  }
  getBinConfigurations() {
    const t3 = this.getDisplayData(), e2 = this.getOptions(), s2 = this.services.cartesianScales.getMainXAxisPosition(), a2 = this.services.cartesianScales.getDomainIdentifier(), n2 = e2.axes[s2], { groupMapsTo: o2 } = e2.data, { bins: r3 = Sm.defaultBins } = n2, i10 = Array.isArray(r3), l2 = Mt().value((f2) => f2[a2]).thresholds(r3)(t3);
    if (i10)
      l2[l2.length - 1].x1 = r3[r3.length - 1];
    else {
      const f2 = l2[0].x1 - l2[0].x0;
      l2[l2.length - 1].x1 = +l2[l2.length - 1].x0 + f2;
    }
    const c2 = i10 ? [r3[0], r3[r3.length - 1]] : [l2[0].x0, l2[l2.length - 1].x1], h3 = Array.from(new Set(t3.map((f2) => f2[o2]))), g3 = [];
    return l2.forEach((f2) => {
      const d2 = `${f2.x0}-${f2.x1}`, m3 = this.aggregateBinDataByGroup(f2);
      h3.forEach((D4) => {
        g3.push({
          group: D4,
          key: d2,
          value: m3[D4] || 0,
          bin: f2.x0
        });
      });
    }), {
      bins: l2,
      binsDomain: c2
    };
  }
  getBinnedStackedData() {
    const t3 = this.getOptions(), { groupMapsTo: e2 } = t3.data, s2 = this.getActiveDataGroupNames(), { bins: a2 } = this.getBinConfigurations(), n2 = this.getDataValuesGroupedByKeys({
      bins: a2
    });
    return _2().keys(s2)(n2).map((o2, r3) => Object.keys(o2).filter((i10) => !isNaN(i10)).map((i10) => {
      const l2 = o2[i10];
      return l2[e2] = s2[r3], l2;
    }));
  }
  getGroupedData(t3) {
    const e2 = this.getDisplayData(t3), s2 = {}, { groupMapsTo: a2 } = this.getOptions().data;
    return e2.map((n2) => {
      const o2 = n2[a2];
      s2[o2] !== null && s2[o2] !== void 0 ? s2[o2].push(n2) : s2[o2] = [n2];
    }), Object.keys(s2).map((n2) => ({
      name: n2,
      data: s2[n2]
    }));
  }
  getStackKeys({ bins: t3 = null, groups: e2 = null } = { bins: null, groups: null }) {
    const s2 = this.getOptions(), a2 = this.getDisplayData(e2);
    let n2;
    t3 ? n2 = t3.map((i10) => `${i10.x0}:${i10.x1}`) : n2 = H0(
      a2.map((i10) => {
        const l2 = this.services.cartesianScales.getDomainIdentifier(i10);
        return i10[l2] instanceof Date ? ep(i10[l2]) : i10[l2] && typeof i10[l2].toString == "function" ? i10[l2].toString() : i10[l2];
      })
    );
    const o2 = this.services.cartesianScales.domainAxisPosition, r3 = s2.axes[o2].scaleType;
    return r3 === F.TIME ? n2.sort((i10, l2) => {
      const c2 = new Date(i10), h3 = new Date(l2);
      return c2 - h3;
    }) : (r3 === F.LOG || r3 === F.LINEAR) && n2.sort((i10, l2) => i10 - l2), n2;
  }
  getDataValuesGroupedByKeys({ bins: t3 = null, groups: e2 = null }) {
    const s2 = this.getOptions(), { groupMapsTo: a2 } = s2.data, n2 = this.getDisplayData(e2), o2 = this.getDataGroupNames(), r3 = this.getStackKeys({ bins: t3, groups: e2 });
    return t3 ? r3.map((i10) => {
      const [l2, c2] = i10.split(":"), h3 = { x0: l2, x1: c2 }, g3 = t3.find((f2) => f2.x0.toString() === l2.toString());
      return o2.forEach((f2) => {
        h3[f2] = g3.filter(
          (d2) => d2[a2] === f2
        ).length;
      }), h3;
    }) : r3.map((i10) => {
      const l2 = { sharedStackKey: i10 };
      return o2.forEach((c2) => {
        const h3 = n2.find((f2) => {
          const d2 = this.services.cartesianScales.getDomainIdentifier(f2);
          return f2[a2] === c2 && Object.prototype.hasOwnProperty.call(f2, d2) && (f2[d2] instanceof Date ? ep(f2[d2]) === i10 : f2[d2].toString() === i10);
        }), g3 = this.services.cartesianScales.getRangeIdentifier(l2);
        l2[c2] = h3 ? h3[g3] : null;
      }), l2;
    });
  }
  getStackedData({ percentage: t3 = false, groups: e2 = null, divergent: s2 = false }) {
    const a2 = this.getOptions(), { groupMapsTo: n2 } = a2.data, o2 = this.getActiveDataGroupNames(e2), r3 = this.getDataValuesGroupedByKeys({
      groups: e2
    });
    if (t3) {
      const l2 = dt2(r3.map((c2) => [c2.sharedStackKey, 0]));
      r3.forEach((c2) => {
        o2.forEach((h3) => {
          l2[c2.sharedStackKey] += c2[h3];
        });
      }), r3.forEach((c2) => {
        o2.forEach((h3) => {
          const g3 = l2[c2.sharedStackKey];
          l2[c2.sharedStackKey] ? c2[h3] = c2[h3] / g3 * 100 : c2[h3] = 0;
        });
      });
    }
    return (s2 ? _2().offset(Et2) : _2()).keys(o2)(r3).map((l2, c2) => Object.keys(l2).filter((h3) => !isNaN(h3)).map((h3) => {
      const g3 = l2[h3];
      return g3[n2] = o2[c2], g3;
    }));
  }
  /**
   * Retrieves the current options from the instance's state.
   *
   * @returns {any} - The current options stored in the instance's state.
   */
  getOptions() {
    return this.state.options;
  }
  set(t3, e2) {
    this.state = Object.assign({}, this.state, t3);
    const s2 = Object.assign(
      { skipUpdate: false, animate: true },
      // default configs
      e2
    );
    s2.skipUpdate || this.update(s2.animate);
  }
  get(t3) {
    return t3 ? this.state[t3] : this.state;
  }
  /**
   * Updates the current options for the instance.
   *
   * This method retrieves the existing options, updates the legend additional items,
   * and merges the new options with the existing ones. The instance's state is then updated
   * with the merged options.
   *
   * @param {any} newOptions - The new options to be set. These options will be merged with the existing options.
   */
  setOptions(t3) {
    const e2 = this.getOptions();
    u0(e2, t3), this.set({
      options: y2(e2, t3)
    });
  }
  /**
   *
   * Updates miscellanous information within the model
   * such as the color scales, or the legend data labels
   */
  update(t3 = true) {
    this.getDisplayData() && (this.updateAllDataGroups(), this.setCustomColorScale(), this.setColorClassNames(), this.services.events.dispatchEvent(_E.Model.UPDATE, { animate: t3 }));
  }
  /*
   * Data labels
   */
  toggleDataLabel(t3) {
    const { ACTIVE: e2, DISABLED: s2 } = Am.items.status, a2 = this.getDataGroups(), n2 = a2.some((c2) => c2.status === s2), o2 = a2.filter((c2) => c2.status === e2);
    if (n2)
      if (o2.length === 1 && o2[0].name === t3)
        a2.forEach((c2, h3) => {
          a2[h3].status = e2;
        });
      else {
        const c2 = a2.findIndex((h3) => h3.name === t3);
        a2[c2].status = a2[c2].status === s2 ? e2 : s2;
      }
    else
      a2.forEach((c2, h3) => {
        a2[h3].status = c2.name === t3 ? e2 : s2;
      });
    const r3 = a2.filter((c2) => c2.status === e2), i10 = this.getOptions();
    a2.some((c2) => c2.status === s2) ? i10.data.selectedGroups = r3.map((c2) => c2.name) : i10.data.selectedGroups = [], this.services.events.dispatchEvent(_E.Legend.ITEMS_UPDATE, {
      dataGroups: a2
    }), this.set({
      dataGroups: a2
    });
  }
  /**
   * Should the data point be filled?
   * @param group
   * @param key
   * @param data
   * @param defaultFilled the default for this chart
   */
  getIsFilled(t3, e2, s2, a2) {
    const n2 = this.getOptions();
    return n2.getIsFilled ? n2.getIsFilled(t3, e2, s2, a2) : a2;
  }
  getFillColor(t3, e2, s2) {
    const a2 = this.getOptions(), n2 = rt(this.colorScale, t3);
    return a2.getFillColor ? a2.getFillColor(t3, e2, s2, n2) : n2;
  }
  getStrokeColor(t3, e2, s2) {
    const a2 = this.getOptions(), n2 = rt(this.colorScale, t3);
    return a2.getStrokeColor ? a2.getStrokeColor(t3, e2, s2, n2) : n2;
  }
  isUserProvidedColorScaleValid() {
    const t3 = rt(this.getOptions(), "color", "scale"), e2 = this.getDataGroups();
    return t3 == null || Object.keys(t3).length == 0 ? false : e2.some(
      (s2) => Object.keys(t3).includes(s2.name)
    );
  }
  getColorClassName(t3) {
    const e2 = this.colorClassNames(t3.dataGroupName);
    let s2 = t3.originalClassName;
    return t3.classNameTypes.forEach(
      (a2) => s2 = t3.originalClassName ? `${s2} ${a2}-${e2}` : `${a2}-${e2}`
    ), s2 || "";
  }
  /**
   * For charts that might hold an associated status for their dataset
   */
  getStatus() {
    return null;
  }
  getAllDataGroupsNames() {
    return this.allDataGroups;
  }
  /**
   * Converts data provided in the older format to tabular
   *
   */
  transformToTabularData(t3) {
    console.warn(
      "We've updated the charting data format to be tabular by default. The current format you're using is deprecated and will be removed in v1.0, read more here https://charts.carbondesignsystem.com/"
    );
    const e2 = [], { datasets: s2, labels: a2 } = t3;
    return s2.forEach((n2) => {
      n2.data.forEach((o2, r3) => {
        let i10;
        const l2 = rt(n2, "label");
        if (l2 === null) {
          const h3 = rt(a2, r3);
          h3 ? i10 = h3 : i10 = "Ungrouped";
        } else
          i10 = l2;
        const c2 = {
          group: i10,
          key: a2[r3]
        };
        isNaN(o2) ? (c2.value = o2.value, c2.date = o2.date) : c2.value = o2, e2.push(c2);
      });
    }), e2;
  }
  getTabularDataArray() {
    return [];
  }
  exportToCSV() {
    const e2 = this.getTabularDataArray().map(
      (o2) => o2.map((r3) => `"${(r3 === "&ndash;" ? "–" : r3).split(/[,;'"`]/).map((c2) => qt2(c2)).join("")}"`)
    ).map((o2) => o2.join(",")).join(`
`), s2 = this.getOptions();
    let a2 = "myChart";
    const n2 = rt(s2, "fileDownload", "fileName");
    typeof n2 == "function" ? a2 = n2("csv") : typeof n2 == "string" && (a2 = n2), this.services.files.downloadCSV(e2, `${a2}.csv`);
  }
  getTabularData(t3) {
    return Array.isArray(t3) ? t3 : this.transformToTabularData(t3);
  }
  sanitize(t3) {
    return t3 = this.getTabularData(t3), t3;
  }
  /*
   * Data groups
   */
  updateAllDataGroups() {
    this.allDataGroups ? this.getDataGroupNames().forEach((t3) => {
      this.allDataGroups.indexOf(t3) === -1 && this.allDataGroups.push(t3);
    }) : this.allDataGroups = this.getDataGroupNames();
  }
  generateDataGroups(t3) {
    const { groupMapsTo: e2 } = this.getOptions().data, { ACTIVE: s2, DISABLED: a2 } = Am.items.status, n2 = this.getOptions(), o2 = H0(t3.map((i10) => i10[e2]));
    n2.data.selectedGroups.length && (n2.data.selectedGroups.every(
      (l2) => o2.includes(l2)
    ) || (n2.data.selectedGroups = []));
    const r3 = (i10) => !n2.data.selectedGroups.length || n2.data.selectedGroups.includes(i10) ? s2 : a2;
    return o2.map((i10) => ({
      name: i10,
      status: r3(i10)
    }));
  }
  /*
   * Fill scales
   */
  setCustomColorScale() {
    if (!this.isUserProvidedColorScaleValid())
      return;
    const t3 = this.getOptions(), e2 = rt(t3, "color", "scale");
    Object.keys(e2).forEach((a2) => {
      this.allDataGroups.includes(a2) || console.warn(`"${a2}" does not exist in data groups.`);
    }), this.allDataGroups.filter((a2) => e2[a2]).forEach(
      (a2) => this.colorScale[a2] = e2[a2]
    );
  }
  /*
   * Color palette
   */
  setColorClassNames() {
    const t3 = rt(this.getOptions(), "color", "pairing");
    let e2 = rt(t3, "numberOfVariants");
    (!e2 || e2 < this.allDataGroups.length) && (e2 = this.allDataGroups.length);
    let s2 = rt(t3, "option");
    const a2 = Mm.pairingOptions, n2 = e2 > 5 ? 14 : e2, o2 = `${n2}-color`;
    s2 = s2 <= a2[o2] ? s2 : 1;
    const r3 = this.allDataGroups.map(
      (i10, l2) => `${n2}-${s2}-${l2 % 14 + 1}`
    );
    this.colorClassNames = cm().range(r3).domain(this.allDataGroups);
  }
};
var M3 = class extends v2 {
  // can't be protected as it's used by two-dimensional-axes.ts
  constructor(t3) {
    super(t3), this.axisFlavor = uE.DEFAULT;
  }
  // get the scales information
  // needed for getTabularArray()
  assignRangeAndDomains() {
    const { cartesianScales: t3 } = this.services, e2 = this.getOptions(), s2 = t3.isDualAxes(), a2 = {
      primaryDomain: t3.domainAxisPosition,
      primaryRange: t3.rangeAxisPosition,
      secondaryDomain: null,
      secondaryRange: null
    };
    return s2 && (a2.secondaryDomain = t3.secondaryDomainAxisPosition, a2.secondaryRange = t3.secondaryRangeAxisPosition), Object.keys(a2).forEach(
      (n2) => {
        const o2 = a2[n2];
        t3.scales[o2] ? a2[n2] = {
          position: o2,
          label: t3.getScaleLabel(o2),
          identifier: rt(e2, "axes", o2, "mapsTo")
        } : a2[n2] = null;
      }
    ), a2;
  }
  getTabularDataArray() {
    const t3 = this.getDisplayData(), e2 = this.getOptions(), { groupMapsTo: s2 } = e2.data, { primaryDomain: a2, primaryRange: n2, secondaryDomain: o2, secondaryRange: r3 } = this.assignRangeAndDomains(), { number: i10, code: l2 } = rt(this.getOptions(), "locale"), c2 = [
      "Group",
      a2.label,
      n2.label,
      ...o2 ? [o2.label] : [],
      ...r3 ? [r3.label] : []
    ], h3 = t3.map((g3) => [
      g3[s2],
      g3[a2.identifier] === null ? "&ndash;" : g3[a2.identifier],
      g3[n2.identifier] === null || isNaN(g3[n2.identifier]) ? "&ndash;" : i10(g3[n2.identifier], l2),
      ...o2 ? [
        g3[o2.identifier] === null ? "&ndash;" : g3[o2.identifier]
      ] : [],
      ...r3 ? [
        g3[r3.identifier] === null || isNaN(g3[r3.identifier]) ? "&ndash;" : g3[r3.identifier]
      ] : []
    ]);
    return super.formatTable({ headers: c2, cells: h3 });
  }
  setData(t3) {
    let e2;
    if (t3 && (e2 = super.setData(t3), rt(this.getOptions(), "zoomBar", b.TOP, "enabled"))) {
      const s2 = rt(
        this.getOptions(),
        "zoomBar",
        b.TOP,
        "data"
      );
      this.setZoomBarData(s2);
    }
    return e2;
  }
  /**
   * Sets the zoom bar data for the current instance.
   *
   * This method sanitizes the provided zoom bar data or uses the display data if no explicit
   * zoom data is provided. It normalizes the zoom bar data by aggregating values based on unique
   * dates and updates the instance's state with the normalized data.
   *
   * @param {any} [newZoomBarData] - The new zoom bar data to be set. If not provided, the display data will be used.
   */
  setZoomBarData(t3) {
    const e2 = t3 ? this.sanitize(hf(t3)) : this.getDisplayData();
    let s2 = e2;
    const { cartesianScales: a2 } = this.services;
    if (e2 && a2.domainAxisPosition && a2.rangeAxisPosition) {
      const n2 = a2.getDomainIdentifier(), o2 = a2.getRangeIdentifier();
      let r3 = e2.map((i10) => i10[n2].getTime());
      r3 = H0(r3).sort(), s2 = r3.map((i10) => {
        let l2 = 0;
        const c2 = {};
        return e2.forEach((h3) => {
          h3[n2].getTime() === i10 && (l2 += h3[o2]);
        }), c2[n2] = new Date(i10), c2[o2] = l2, c2;
      });
    }
    this.set({ zoomBarData: s2 });
  }
  getZoomBarData() {
    return this.get("zoomBarData");
  }
  sanitizeDateValues(t3) {
    const e2 = this.getOptions();
    if (!e2.axes)
      return t3;
    const s2 = [];
    return Object.keys(b).forEach((a2) => {
      const n2 = b[a2], o2 = e2.axes[n2];
      if (o2 && o2.scaleType === F.TIME) {
        const r3 = o2.mapsTo;
        (r3 !== null || r3 !== void 0) && s2.push(r3);
      }
    }), s2.length > 0 && t3.forEach((a2) => {
      s2.forEach((n2) => {
        rt(a2, n2, "getTime") === null && (a2[n2] = new Date(a2[n2]));
      });
    }), t3;
  }
  sanitize(t3) {
    return t3 = super.sanitize(t3), t3 = this.sanitizeDateValues(t3), t3;
  }
};
var kt2 = class extends M3 {
  constructor(t3) {
    super(t3);
  }
  getTabularDataArray() {
    const t3 = this.getDisplayData(), { number: e2, code: s2 } = rt(this.getOptions(), "locale");
    t3.sort((o2, r3) => o2.source.localeCompare(r3.source));
    const a2 = ["Source", "Target", "Value"], n2 = [
      ...t3.map((o2) => [
        o2.source,
        o2.target,
        o2.value === null ? "&ndash;" : e2(o2.value, s2)
      ])
    ];
    return super.formatTable({ headers: a2, cells: n2 });
  }
};
var Ft2 = class extends M3 {
  constructor(t3) {
    super(t3);
  }
  getBoxQuartiles(t3) {
    return {
      q_25: V3(t3, 0.25),
      q_50: V3(t3, 0.5),
      q_75: V3(t3, 0.75)
    };
  }
  getBoxplotData() {
    const t3 = this.getOptions(), { groupMapsTo: e2 } = t3.data, s2 = this.getGroupedData(), a2 = [];
    for (const { name: n2, data: o2 } of s2) {
      const r3 = this.services.cartesianScales.getRangeIdentifier(), i10 = o2.map((y4) => y4[r3]).sort(se), l2 = {
        [e2]: n2,
        counts: i10,
        quartiles: this.getBoxQuartiles(i10),
        outliers: null,
        whiskers: null
      }, c2 = l2.quartiles.q_25, h3 = l2.quartiles.q_75, g3 = (h3 - c2) * 1.5, f2 = c2 - g3, d2 = h3 + g3, m3 = [], D4 = [];
      for (const y4 of i10)
        y4 < f2 || y4 > d2 ? m3.push(y4) : D4.push(y4);
      l2.outliers = m3;
      const x4 = $l(D4), O3 = B0(D4);
      l2.whiskers = {
        min: x4 || $l([l2.quartiles.q_25, l2.quartiles.q_50, l2.quartiles.q_75]),
        max: O3 || B0([l2.quartiles.q_25, l2.quartiles.q_50, l2.quartiles.q_75])
      }, a2.push(l2);
    }
    return a2;
  }
  getTabularDataArray() {
    const t3 = this.getOptions(), { groupMapsTo: e2 } = t3.data, s2 = this.getBoxplotData(), { number: a2, code: n2 } = rt(t3, "locale"), o2 = ["Group", "Minimum", "Q1", "Median", "Q3", "Maximum", "IQR", "Outlier(s)"], r3 = [
      ...s2.map((i10) => {
        let l2 = rt(i10, "outliers");
        return (l2 === null || l2.length === 0) && (l2 = ["&ndash;"]), [
          i10[e2],
          rt(i10, "whiskers", "min") !== null ? a2(rt(i10, "whiskers", "min"), n2) : "&ndash;",
          rt(i10, "quartiles", "q_25") !== null ? a2(rt(i10, "quartiles", "q_25"), n2) : "&ndash;",
          rt(i10, "quartiles", "q_50") !== null ? a2(rt(i10, "quartiles", "q_50"), n2) : "&ndash;",
          rt(i10, "quartiles", "q_75") !== null ? a2(rt(i10, "quartiles", "q_75"), n2) : "&ndash;",
          rt(i10, "whiskers", "max") !== null ? a2(rt(i10, "whiskers", "max"), n2) : "&ndash;",
          rt(i10, "quartiles", "q_75") !== null && rt(i10, "quartiles", "q_25") !== null ? (a2(
            rt(i10, "quartiles", "q_75") - rt(i10, "quartiles", "q_25")
          ), n2) : "&ndash;",
          l2.map((c2) => a2(c2, n2)).join(",")
        ];
      })
    ];
    return super.formatTable({ headers: o2, cells: r3 });
  }
  setColorClassNames() {
    const e2 = rt(this.getOptions(), "color", "pairing");
    let s2 = rt(e2, "option");
    const a2 = Mm.pairingOptions;
    s2 = s2 <= a2["1-color"] ? s2 : 1;
    const n2 = this.allDataGroups.map(() => `1-${s2}-1`);
    this.colorClassNames = cm().range(n2).domain(this.allDataGroups);
  }
};
var Bt2 = class extends M3 {
  constructor(t3) {
    super(t3);
  }
  /**
   * Determines the index of the performance area titles to use
   * @param datum
   * @returns number
   */
  getMatchingRangeIndexForDatapoint(t3) {
    let e2;
    for (let s2 = t3.ranges.length - 1; s2 > 0; s2--) {
      const a2 = t3.ranges[s2];
      if (t3.value >= a2)
        return e2 = s2, e2;
    }
    return 0;
  }
  getTabularDataArray() {
    const t3 = this.getDisplayData(), e2 = this.getOptions(), { groupMapsTo: s2 } = e2.data, a2 = this.services.cartesianScales.getRangeIdentifier(), { number: n2, code: o2 } = rt(e2, "locale"), r3 = rt(e2, "bullet", "performanceAreaTitles"), i10 = ["Title", "Group", "Value", "Target", "Percentage", "Performance"], l2 = [
      ...t3.map((c2) => [
        c2.title,
        c2[s2],
        c2.value === null ? "&ndash;" : n2(c2.value, o2),
        rt(c2, "marker") === null ? "&ndash;" : n2(c2.marker, o2),
        rt(c2, "marker") === null ? "&ndash;" : `${n2(Math.floor(c2[a2] / c2.marker * 100), o2)}%`,
        r3[this.getMatchingRangeIndexForDatapoint(c2)]
      ])
    ];
    return super.formatTable({ headers: i10, cells: l2 });
  }
};
var Vt = class extends v2 {
  constructor(t3) {
    super(t3), this._colorScale = void 0, this._matrix = {};
  }
  /**
   * @override
   * @param value
   * @returns string
   */
  getFillColor(t3) {
    return this._colorScale(t3);
  }
  /**
   * Helper function that will generate a dictionary
   */
  getCombinedData() {
    if (ll(this._matrix)) {
      const t3 = this.getOptions(), e2 = this.getDisplayData();
      !ll(e2) && !ll(t3.geoData.objects.countries) && (t3.geoData.objects.countries.geometries.forEach((s2) => {
        this._matrix[s2.properties.NAME] = s2;
      }), e2.forEach((s2) => {
        this._matrix[s2.name] ? this._matrix[s2.name].value = s2.value || null : console.warn(`Data point ${s2} is missing geographical data.`);
      }));
    }
    return this._matrix;
  }
  /**
   * Generate tabular data from display data
   * @returns Array<Object>
   */
  getTabularDataArray() {
    const t3 = this.getDisplayData(), { number: e2, code: s2 } = rt(this.getOptions(), "locale"), a2 = ["Country ID", "Country Name", "Value"], n2 = [
      ...t3.map((o2) => [
        o2.id === null ? "&ndash;" : o2.id,
        o2.name,
        o2.value === null ? "&ndash;" : e2(o2.value, s2)
      ])
    ];
    return super.formatTable({ headers: a2, cells: n2 });
  }
  // Uses quantize scale to return class names
  getColorClassName(t3) {
    return `${t3.originalClassName} ${this._colorScale(t3.value)}`;
  }
  setColorClassNames() {
    const t3 = rt(this.getOptions(), "color");
    this._colorScale = np(this.getDisplayData(), t3);
  }
};
var _t2 = class extends v2 {
  constructor(t3) {
    super(t3), this.parentNode = false, this.set({ depth: 2 }, { skipUpdate: true });
  }
  setData(t3) {
    super.setData(t3), this.setDataGroups(), t3.length === 1 && (this.parentNode = true), this.setZoom();
  }
  setOptions(t3) {
    const e2 = this.getOptions(), s2 = y2({}, t3, this.getZoomOptions(t3));
    u0(e2, s2);
    const a2 = this.getHierarchyLevel(), n2 = rt(e2, "circlePack", "depth");
    this.set({
      options: y2(e2, s2),
      depth: n2 && n2 < 4 ? n2 : a2
    });
  }
  getZoomOptions(t3) {
    if (!this.getDisplayData())
      return {};
    const e2 = this.getDisplayData(), s2 = t3 || this.getOptions(), a2 = e2.length === 1 && rt(e2, 0, "children") ? rt(e2, 0, "children") : e2;
    let n2 = this.getHierarchyLevel();
    return a2.some((o2) => {
      if (o2.children && o2.children.some((r3) => r3.children))
        return n2 = 3, false;
    }), rt(s2, "canvasZoom", "enabled") === true && n2 > 2 ? {
      legend: {
        additionalItems: [
          {
            type: rE.ZOOM,
            name: "Click to zoom"
          }
        ]
      }
    } : null;
  }
  setZoom(t3) {
    this.setOptions(this.getZoomOptions(t3));
  }
  // update the hierarchy level
  updateHierarchyLevel(t3) {
    this.set({ depth: t3 });
  }
  getHierarchyLevel() {
    return this.get("depth");
  }
  hasParentNode() {
    return this.parentNode;
  }
  // set the datagroup name on the items that are it's children
  setDataGroups() {
    const t3 = this.getData(), e2 = this.getOptions(), { groupMapsTo: s2 } = e2.data, a2 = t3.map((n2) => {
      const o2 = n2[s2];
      return this.setChildrenDataGroup(n2, o2);
    });
    this.set(
      {
        data: a2
      },
      { skipUpdate: true }
    );
  }
  // sets name recursively down the node tree
  setChildrenDataGroup(t3, e2) {
    return t3.children ? {
      ...t3,
      dataGroupName: e2,
      children: t3.children.map((s2) => this.setChildrenDataGroup(s2, e2))
    } : { ...t3, dataGroupName: e2 };
  }
  getTabularDataArray() {
    const t3 = this.getDisplayData(), { number: e2, code: s2 } = rt(this.getOptions(), "locale"), a2 = ["Child", "Parent", "Value"], n2 = [];
    return t3.forEach((o2) => {
      let r3 = o2.value ? o2.value : 0;
      o2.children && (r3 += this.getChildrenDatums(o2.children, o2.name, n2, 0)), n2.push(["&ndash;", o2.name, e2(r3, s2)]);
    }), super.formatTable({ headers: a2, cells: n2 });
  }
  /**
   * Recursively determine the relationship between all the nested elements in the child
   * @private
   * @param {any} children - The children nodes to process.
   * @param {any} parent - The parent node associated with the children.
   * @param {string[][]} [result=[]] - An array to accumulate the resulting data.
   * @param {number} [totalSum=0] - The running total sum of values processed.
   * @returns {number} Sum.
   */
  getChildrenDatums(t3, e2, s2 = [], a2 = 0) {
    const n2 = e2, { number: o2, code: r3 } = rt(this.getOptions(), "locale");
    return t3.forEach((i10) => {
      const l2 = i10.name;
      let c2 = 0;
      if (i10.children)
        i10.children.length > 0 && (typeof i10.value == "number" && (a2 += i10.value), c2 += this.getChildrenDatums(i10.children, l2, s2, c2), s2.push([l2, n2, o2(c2, r3)]), a2 += c2);
      else {
        let h3 = 0;
        typeof i10.value == "number" && (h3 = i10.value, a2 += i10.value), s2.push([i10.name, n2, o2(h3, r3)]);
      }
    }), a2;
  }
};
var wt2 = class extends v2 {
  constructor(t3) {
    super(t3);
  }
  getTabularData(t3) {
    const e2 = super.getTabularData(t3);
    return t3 !== e2 && e2.forEach((s2) => {
      s2.key && s2.key !== s2.group && (s2.group = s2.key);
    }), e2;
  }
  getTabularDataArray() {
    const t3 = this.getDisplayData(), e2 = this.getOptions(), { groupMapsTo: s2 } = e2.data, { valueMapsTo: a2 } = e2.pie, { number: n2, code: o2 } = rt(e2, "locale"), r3 = ["Group", "Value"], i10 = [
      ...t3.map((l2) => [
        l2[s2],
        l2[a2] === null ? "&ndash;" : n2(l2[a2], o2)
      ])
    ];
    return super.formatTable({ headers: r3, cells: i10 });
  }
  sanitize(t3) {
    return this.getTabularData(t3).sort((s2, a2) => a2.value - s2.value);
  }
};
var $t2 = class extends v2 {
  constructor(t3) {
    super(t3);
  }
  getDataGroups() {
    return super.getDataGroups().filter((t3) => t3.name !== "delta");
  }
  getTabularDataArray() {
    const t3 = this.getDisplayData(), e2 = this.getOptions(), { groupMapsTo: s2 } = e2.data, { number: a2, code: n2 } = rt(this.getOptions(), "locale"), o2 = ["Group", "Value"], r3 = [
      ...t3.map((i10) => [
        i10[s2],
        i10.value === null ? "&ndash;" : a2(i10.value, n2)
      ])
    ];
    return super.formatTable({ headers: o2, cells: r3 });
  }
};
var Lt2 = class extends M3 {
  constructor(t3) {
    super(t3), this.axisFlavor = uE.HOVERABLE, this._colorScale = void 0, this._domains = [], this._ranges = [], this._matrix = {};
    const e2 = rt(this.getOptions(), "axes");
    if (rt(e2, "left", "scaleType") && rt(e2, "left", "scaleType") !== F.LABELS || rt(e2, "right", "scaleType") && rt(e2, "right", "scaleType") !== F.LABELS || rt(e2, "top", "scaleType") && rt(e2, "top", "scaleType") !== F.LABELS || rt(e2, "bottom", "scaleType") && rt(e2, "bottom", "scaleType") !== F.LABELS)
      throw Error("Heatmap only supports label scaletypes.");
  }
  /**
   * Get min and maximum value of the display data
   * @returns Array consisting of smallest and largest values in  data
   */
  getValueDomain() {
    const t3 = _l(this.getDisplayData(), (s2) => s2.value), e2 = na().domain(t3).nice().domain();
    if (e2[0] > 0)
      e2[0] = 0;
    else if (e2[0] === 0 && e2[1] === 0)
      return [0, 1];
    return e2[0] < 0 && e2[1] > 0 && (Math.abs(e2[0]) > e2[1] ? e2[1] = Math.abs(e2[0]) : e2[0] = -e2[1]), e2;
  }
  /**
   * @override
   * @param value
   * @returns string
   */
  getFillColor(t3) {
    return this._colorScale(t3);
  }
  /**
   * Generate a list of all unique domains
   * @returns String[]
   */
  getUniqueDomain() {
    if (ll(this._domains)) {
      const t3 = this.getDisplayData(), { cartesianScales: e2 } = this.services, s2 = e2.getDomainIdentifier(), a2 = e2.getMainXAxisPosition(), n2 = e2.getCustomDomainValuesByposition(a2);
      if (n2)
        return n2;
      this._domains = Array.from(
        new Set(
          t3.map((o2) => o2[s2])
        )
      );
    }
    return this._domains;
  }
  /**
   * Generates a list of all unique ranges
   * @returns String[]
   */
  getUniqueRanges() {
    if (ll(this._ranges)) {
      const t3 = this.getDisplayData(), { cartesianScales: e2 } = this.services, s2 = e2.getRangeIdentifier(), a2 = e2.getMainYAxisPosition(), n2 = e2.getCustomDomainValuesByposition(a2);
      if (n2)
        return n2;
      this._ranges = Array.from(
        new Set(
          t3.map((o2) => o2[s2])
        )
      );
    }
    return this._ranges;
  }
  /**
   * Generates a matrix (If doesn't exist) and returns it
   * @returns Object
   */
  getMatrix() {
    if (ll(this._matrix)) {
      const t3 = this.getUniqueDomain(), e2 = this.getUniqueRanges(), s2 = this.services.cartesianScales.getDomainIdentifier(), a2 = this.services.cartesianScales.getRangeIdentifier(), n2 = {};
      e2.forEach((o2) => {
        n2[o2] = {
          value: null,
          index: -1
        };
      }), t3.forEach((o2) => {
        this._matrix[o2] = hf(n2);
      }), this.getDisplayData().forEach((o2, r3) => {
        this._matrix[o2[s2]][o2[a2]] = {
          value: o2.value,
          index: r3
        };
      });
    }
    return this._matrix;
  }
  /**
   * Sets the data for the current instance.
   *
   * This method sanitizes the provided data, generates data groups,
   * and updates the instance's state with the sanitized data and data groups.
   * It also resets the `_domains`, `_ranges`, and `_matrix` attributes to their empty states.
   *
   * @param {any} newData - The new data to be set. This data will be cloned and sanitized.
   * @returns {any} - The sanitized version of the provided data.
   */
  setData(t3) {
    const e2 = this.sanitize(hf(t3)), s2 = this.generateDataGroups(e2);
    return this.set({
      data: e2,
      dataGroups: s2
    }), this._domains = [], this._ranges = [], this._matrix = {}, e2;
  }
  /**
   * Converts Object matrix into a single array
   * @returns object[]
   */
  getMatrixAsArray() {
    ll(this._matrix) && this.getMatrix();
    const t3 = this.getUniqueDomain(), e2 = this.getUniqueRanges(), s2 = this.services.cartesianScales.getDomainIdentifier(), a2 = this.services.cartesianScales.getRangeIdentifier(), n2 = [];
    return t3.forEach((o2) => {
      e2.forEach((r3) => {
        const i10 = {
          value: this._matrix[o2][r3].value,
          index: this._matrix[o2][r3].index
        };
        i10[s2] = o2, i10[a2] = r3, n2.push(i10);
      });
    }), n2;
  }
  /**
   * Generate tabular data from display data
   * @returns Array<Object>
   */
  getTabularDataArray() {
    const t3 = this.getDisplayData(), { primaryDomain: e2, primaryRange: s2 } = this.assignRangeAndDomains(), { number: a2, code: n2 } = rt(this.getOptions(), "locale"), o2 = [e2.label, s2.label, "Value"], r3 = [
      ...t3.map((i10) => [
        i10[e2.identifier] === null ? "&ndash;" : i10[e2.identifier],
        i10[s2.identifier] === null ? "&ndash;" : i10[s2.identifier],
        i10.value === null ? "&ndash;" : a2(i10.value, n2)
      ])
    ];
    return super.formatTable({ headers: o2, cells: r3 });
  }
  // Uses quantize scale to return class names
  getColorClassName(t3) {
    return `${t3.originalClassName} ${this._colorScale(t3.value)}`;
  }
  setColorClassNames() {
    const t3 = this.getOptions(), e2 = rt(t3, "color", "gradient", "colors"), s2 = !ll(e2);
    let a2 = rt(t3, "color", "pairing", "option");
    const n2 = this.getValueDomain(), o2 = n2[0] < 0 && n2[1] > 0 ? "diverge" : "mono";
    (a2 < 1 && a2 > 4 && o2 === "mono" || a2 < 1 && a2 > 2 && o2 === "diverge") && (a2 = 1);
    const r3 = s2 ? e2 : [];
    if (!s2) {
      const l2 = o2 === "diverge" ? 17 : 11;
      for (let c2 = 1; c2 < l2 + 1; c2++)
        r3.push(`fill-${o2}-${a2}-${c2}`);
    }
    this._colorScale = ra().domain(n2).range(r3);
    const i10 = rt(this.getOptions(), "color");
    this._colorScale = np(this.getDisplayData(), i10);
  }
};
var Rt2 = class extends M3 {
  getTabularDataArray() {
    const t3 = this.getOptions(), { groupMapsTo: e2 } = t3.data, { number: s2, code: a2 } = rt(this.getOptions(), "locale"), n2 = this.getBinnedStackedData(), o2 = [
      Pu(t3, "bins.rangeLabel") || "Range",
      ...n2.map((i10) => Pu(i10, `0.${e2}`))
    ], r3 = [
      ...Pu(n2, 0).map((i10, l2) => [
        `${s2(Number(Pu(i10, "data.x0")), a2)} – ${s2(
          Number(Pu(i10, "data.x1")),
          a2
        )}`,
        ...n2.map(
          (c2) => s2(Pu(c2[l2], `data.${Pu(c2[l2], e2)}`), a2)
        )
      ])
    ];
    return super.formatTable({ headers: o2, cells: r3 });
  }
};
var zt2 = class extends v2 {
  constructor(t3) {
    super(t3);
  }
  getMaximumDomain(t3) {
    return t3.reduce((s2, a2) => s2 + a2.value, 0);
  }
  /**
   * Use a provided color for the bar or default to carbon color if no status provided.
   * Defaults to carbon color otherwise.
   * @param group dataset group label
   */
  getFillColor(t3) {
    const e2 = this.getOptions(), s2 = rt(e2, "color", "scale"), a2 = this.getStatus();
    return s2 || !a2 ? super.getFillColor(t3) : null;
  }
  /**
   * Get the associated status for the data by checking the ranges
   */
  getStatus() {
    const t3 = this.getOptions(), e2 = rt(this.getDisplayData()), s2 = (e2 == null ? void 0 : e2.reduce((o2, r3) => o2 + r3.value, 0)) ?? 0, a2 = rt(t3, "meter", "proportional") ? s2 : s2 > 100 ? 100 : s2, n2 = rt(t3, "meter", "status", "ranges");
    if (n2) {
      const o2 = n2.filter(
        (r3) => r3.range[0] <= a2 && a2 <= r3.range[1]
      );
      if (o2.length > 0)
        return o2[0].status;
    }
    return null;
  }
  getTabularDataArray() {
    const t3 = this.getDisplayData(), e2 = this.getOptions(), { groupMapsTo: s2 } = e2.data, a2 = this.getStatus(), n2 = rt(e2, "meter", "proportional"), { number: o2, code: r3 } = rt(this.getOptions(), "locale");
    let i10 = [], l2 = [], c2;
    if (n2 === null) {
      c2 = 100;
      const h3 = t3[0];
      i10 = ["Group", "Value", ...a2 ? ["Status"] : []], l2 = [
        [
          h3[s2],
          h3.value === null ? "&ndash;" : o2(h3.value, r3),
          ...a2 ? [a2] : []
        ]
      ];
    } else {
      const h3 = rt(n2, "total");
      c2 = h3 || this.getMaximumDomain(t3), i10 = ["Group", "Value", "Percentage of total"], l2 = [
        ...t3.map((g3) => {
          let f2;
          g3.value !== null && g3.value !== void 0 ? f2 = Number(g3.value) : f2 = 0;
          const d2 = Number((g3.value / c2 * 100).toFixed(2));
          return [
            g3[s2],
            g3.value === null ? "&ndash;" : o2(f2, r3),
            o2(d2, r3) + " %"
          ];
        })
      ];
    }
    return super.formatTable({ headers: i10, cells: l2 });
  }
};
var Ut2 = class extends M3 {
  constructor(t3) {
    super(t3);
  }
  getTabularDataArray() {
    const t3 = this.getOptions(), e2 = this.getGroupedData(), { angle: s2, value: a2 } = rt(t3, "radar", "axes"), { number: n2, code: o2 } = rt(t3, "locale"), r3 = rt(e2, "0", "data").map((c2) => c2[s2]), i10 = ["Group", ...r3], l2 = [
      ...e2.map((c2) => [
        c2.name,
        ...r3.map(
          (h3, g3) => rt(c2, "data", g3, a2) !== null ? n2(rt(c2, "data", g3, a2), o2) : "&ndash;"
        )
      ])
    ];
    return super.formatTable({ headers: i10, cells: l2 });
  }
};
var Kt = class extends v2 {
  constructor(t3) {
    super(t3);
  }
  /**
   * Retrieves and formats tabular data from the display data.
   *
   * @returns {any[]} An object containing the headers and cells of the tabular data.
   */
  getTabularDataArray() {
    const t3 = this.getDisplayData(), e2 = ["Child", "Parent"], s2 = [];
    return t3.forEach((a2) => {
      this.getChildrenDatums(a2, s2), s2.push([a2.name, "&ndash;"]);
    }), super.formatTable({ headers: e2, cells: s2 });
  }
  /**
   * Determine the child parent relationship in nested data
   * @private
   * @param {any} datum - The datum node to process.
   * @param {any[]} [result=[]] - An array to accumulate the resulting data.
   * @returns {any[]} The accumulated result array.
   */
  getChildrenDatums(t3, e2 = []) {
    t3.children && t3.children.length > 0 && t3.children.forEach((s2) => {
      this.getChildrenDatums(s2, e2), e2.push([s2.name, t3.name]);
    });
  }
};
var jt2 = class extends v2 {
  constructor(t3) {
    super(t3);
  }
  getTabularDataArray() {
    const t3 = this.getDisplayData(), { number: e2, code: s2 } = rt(this.getOptions(), "locale"), a2 = ["Child", "Group", "Value"], n2 = [];
    return t3.forEach((o2) => {
      Array.isArray(o2.children) ? o2.children.forEach((r3) => {
        n2.push([
          r3.name,
          o2.name,
          r3.value === null ? "&ndash;" : e2(r3.value, s2)
        ]);
      }) : rt(o2.name) !== null && rt(o2.value) && n2.push(["–", o2.name, e2(o2.value, s2)]);
    }), super.formatTable({ headers: a2, cells: n2 });
  }
};
var Ht2 = class extends v2 {
  constructor(t3) {
    super(t3);
  }
  getTabularDataArray() {
    const t3 = this.getDisplayData(), e2 = this.getOptions(), { fontSizeMapsTo: s2, wordMapsTo: a2 } = e2.wordCloud, { groupMapsTo: n2 } = e2.data, { code: o2, number: r3 } = rt(e2, "locale"), i10 = [e2.tooltip.wordLabel, "Group", e2.tooltip.valueLabel], l2 = [
      ...t3.map((c2) => [
        c2[a2],
        c2[n2],
        r3(c2[s2], o2)
      ])
    ];
    return super.formatTable({ headers: i10, cells: l2 });
  }
};

// node_modules/@carbon/charts/dist/angle-utils-CQDEbkP4.mjs
var nn2 = /\s/;
function rn2(e2) {
  for (var t3 = e2.length; t3-- && nn2.test(e2.charAt(t3)); )
    ;
  return t3;
}
var on2 = /^\s+/;
function sn2(e2) {
  return e2 && e2.slice(0, rn2(e2) + 1).replace(on2, "");
}
var Ye2 = NaN;
var an2 = /^[-+]0x[0-9a-f]+$/i;
var un2 = /^0b[01]+$/i;
var cn2 = /^0o[0-7]+$/i;
var ln2 = parseInt;
function _e2(e2) {
  if (typeof e2 == "number")
    return e2;
  if (sn(e2))
    return Ye2;
  if (X2(e2)) {
    var t3 = typeof e2.valueOf == "function" ? e2.valueOf() : e2;
    e2 = X2(t3) ? t3 + "" : t3;
  }
  if (typeof e2 != "string")
    return e2 === 0 ? e2 : +e2;
  e2 = sn2(e2);
  var n2 = un2.test(e2);
  return n2 || cn2.test(e2) ? ln2(e2.slice(2), n2 ? 2 : 8) : an2.test(e2) ? Ye2 : +e2;
}
var we2 = function() {
  return G2.Date.now();
};
var fn2 = "Expected a function";
var hn2 = Math.max;
var gn2 = Math.min;
function mn2(e2, t3, n2) {
  var r3, o2, i10, s2, a2, c2, h3 = 0, m3 = false, d2 = false, g3 = true;
  if (typeof e2 != "function")
    throw new TypeError(fn2);
  t3 = _e2(t3) || 0, X2(n2) && (m3 = !!n2.leading, d2 = "maxWait" in n2, i10 = d2 ? hn2(_e2(n2.maxWait) || 0, t3) : i10, g3 = "trailing" in n2 ? !!n2.trailing : g3);
  function T4(f2) {
    var C3 = r3, O3 = o2;
    return r3 = o2 = void 0, h3 = f2, s2 = e2.apply(O3, C3), s2;
  }
  function M4(f2) {
    return h3 = f2, a2 = setTimeout(k5, t3), m3 ? T4(f2) : s2;
  }
  function U3(f2) {
    var C3 = f2 - c2, O3 = f2 - h3, ce4 = t3 - C3;
    return d2 ? gn2(ce4, i10 - O3) : ce4;
  }
  function I4(f2) {
    var C3 = f2 - c2, O3 = f2 - h3;
    return c2 === void 0 || C3 >= t3 || C3 < 0 || d2 && O3 >= i10;
  }
  function k5() {
    var f2 = we2();
    if (I4(f2))
      return Q4(f2);
    a2 = setTimeout(k5, U3(f2));
  }
  function Q4(f2) {
    return a2 = void 0, g3 && r3 ? T4(f2) : (r3 = o2 = void 0, s2);
  }
  function A2() {
    a2 !== void 0 && clearTimeout(a2), h3 = 0, r3 = c2 = o2 = a2 = void 0;
  }
  function P3() {
    return a2 === void 0 ? s2 : Q4(we2());
  }
  function G5() {
    var f2 = we2(), C3 = I4(f2);
    if (r3 = arguments, o2 = this, c2 = f2, C3) {
      if (a2 === void 0)
        return M4(c2);
      if (d2)
        return clearTimeout(a2), a2 = setTimeout(k5, t3), T4(c2);
    }
    return a2 === void 0 && (a2 = setTimeout(k5, t3)), s2;
  }
  return G5.cancel = A2, G5.flush = P3, G5;
}
function dn2(e2, t3, n2) {
  e2 = +e2, t3 = +t3, n2 = (o2 = arguments.length) < 2 ? (t3 = e2, e2 = 0, 1) : o2 < 3 ? 1 : +n2;
  for (var r3 = -1, o2 = Math.max(0, Math.ceil((t3 - e2) / n2)) | 0, i10 = new Array(o2); ++r3 < o2; )
    i10[r3] = e2 + r3 * n2;
  return i10;
}
function D3(e2) {
  return typeof e2 == "string" ? new F2([[document.querySelector(e2)]], [document.documentElement]) : new F2([[e2]], fd);
}
function yn2() {
  var e2 = cm().unknown(void 0), t3 = e2.domain, n2 = e2.range, r3 = 0, o2 = 1, i10, s2, a2 = false, c2 = 0, h3 = 0, m3 = 0.5;
  delete e2.unknown;
  function d2() {
    var g3 = t3().length, T4 = o2 < r3, M4 = T4 ? o2 : r3, U3 = T4 ? r3 : o2;
    i10 = (U3 - M4) / Math.max(1, g3 - c2 + h3 * 2), a2 && (i10 = Math.floor(i10)), M4 += (U3 - M4 - i10 * (g3 - c2)) * m3, s2 = i10 * (1 - c2), a2 && (M4 = Math.round(M4), s2 = Math.round(s2));
    var I4 = dn2(g3).map(function(k5) {
      return M4 + i10 * k5;
    });
    return n2(T4 ? I4.reverse() : I4);
  }
  return e2.domain = function(g3) {
    return arguments.length ? (t3(g3), d2()) : t3();
  }, e2.range = function(g3) {
    return arguments.length ? ([r3, o2] = g3, r3 = +r3, o2 = +o2, d2()) : [r3, o2];
  }, e2.rangeRound = function(g3) {
    return [r3, o2] = g3, r3 = +r3, o2 = +o2, a2 = true, d2();
  }, e2.bandwidth = function() {
    return s2;
  }, e2.step = function() {
    return i10;
  }, e2.round = function(g3) {
    return arguments.length ? (a2 = !!g3, d2()) : a2;
  }, e2.padding = function(g3) {
    return arguments.length ? (c2 = Math.min(1, h3 = +g3), d2()) : c2;
  }, e2.paddingInner = function(g3) {
    return arguments.length ? (c2 = Math.min(1, g3), d2()) : c2;
  }, e2.paddingOuter = function(g3) {
    return arguments.length ? (h3 = +g3, d2()) : h3;
  }, e2.align = function(g3) {
    return arguments.length ? (m3 = Math.max(0, Math.min(1, g3)), d2()) : m3;
  }, e2.copy = function() {
    return yn2(t3(), [r3, o2]).round(a2).paddingInner(c2).paddingOuter(h3).align(m3);
  }, Cn.apply(d2(), arguments);
}
function pn2(e2, t3) {
  e2 = e2.slice();
  var n2 = 0, r3 = e2.length - 1, o2 = e2[n2], i10 = e2[r3], s2;
  return i10 < o2 && (s2 = n2, n2 = r3, r3 = s2, s2 = o2, o2 = i10, i10 = s2), e2[n2] = t3.floor(o2), e2[r3] = t3.ceil(i10), e2;
}
var Te2 = /* @__PURE__ */ new Date();
var Se2 = /* @__PURE__ */ new Date();
function x3(e2, t3, n2, r3) {
  function o2(i10) {
    return e2(i10 = arguments.length === 0 ? /* @__PURE__ */ new Date() : /* @__PURE__ */ new Date(+i10)), i10;
  }
  return o2.floor = (i10) => (e2(i10 = /* @__PURE__ */ new Date(+i10)), i10), o2.ceil = (i10) => (e2(i10 = new Date(i10 - 1)), t3(i10, 1), e2(i10), i10), o2.round = (i10) => {
    const s2 = o2(i10), a2 = o2.ceil(i10);
    return i10 - s2 < a2 - i10 ? s2 : a2;
  }, o2.offset = (i10, s2) => (t3(i10 = /* @__PURE__ */ new Date(+i10), s2 == null ? 1 : Math.floor(s2)), i10), o2.range = (i10, s2, a2) => {
    const c2 = [];
    if (i10 = o2.ceil(i10), a2 = a2 == null ? 1 : Math.floor(a2), !(i10 < s2) || !(a2 > 0)) return c2;
    let h3;
    do
      c2.push(h3 = /* @__PURE__ */ new Date(+i10)), t3(i10, a2), e2(i10);
    while (h3 < i10 && i10 < s2);
    return c2;
  }, o2.filter = (i10) => x3((s2) => {
    if (s2 >= s2) for (; e2(s2), !i10(s2); ) s2.setTime(s2 - 1);
  }, (s2, a2) => {
    if (s2 >= s2)
      if (a2 < 0) for (; ++a2 <= 0; )
        for (; t3(s2, -1), !i10(s2); )
          ;
      else for (; --a2 >= 0; )
        for (; t3(s2, 1), !i10(s2); )
          ;
  }), n2 && (o2.count = (i10, s2) => (Te2.setTime(+i10), Se2.setTime(+s2), e2(Te2), e2(Se2), Math.floor(n2(Te2, Se2))), o2.every = (i10) => (i10 = Math.floor(i10), !isFinite(i10) || !(i10 > 0) ? null : i10 > 1 ? o2.filter(r3 ? (s2) => r3(s2) % i10 === 0 : (s2) => o2.count(0, s2) % i10 === 0) : o2)), o2;
}
var le2 = x3(() => {
}, (e2, t3) => {
  e2.setTime(+e2 + t3);
}, (e2, t3) => t3 - e2);
le2.every = (e2) => (e2 = Math.floor(e2), !isFinite(e2) || !(e2 > 0) ? null : e2 > 1 ? x3((t3) => {
  t3.setTime(Math.floor(t3 / e2) * e2);
}, (t3, n2) => {
  t3.setTime(+t3 + n2 * e2);
}, (t3, n2) => (n2 - t3) / e2) : le2);
le2.range;
var W2 = 1e3;
var H3 = W2 * 60;
var $3 = H3 * 60;
var Y4 = $3 * 24;
var Ue2 = Y4 * 7;
var Be2 = Y4 * 30;
var Ce2 = Y4 * 365;
var te2 = x3((e2) => {
  e2.setTime(e2 - e2.getMilliseconds());
}, (e2, t3) => {
  e2.setTime(+e2 + t3 * W2);
}, (e2, t3) => (t3 - e2) / W2, (e2) => e2.getUTCSeconds());
te2.range;
var Fe2 = x3((e2) => {
  e2.setTime(e2 - e2.getMilliseconds() - e2.getSeconds() * W2);
}, (e2, t3) => {
  e2.setTime(+e2 + t3 * H3);
}, (e2, t3) => (t3 - e2) / H3, (e2) => e2.getMinutes());
Fe2.range;
var wn2 = x3((e2) => {
  e2.setUTCSeconds(0, 0);
}, (e2, t3) => {
  e2.setTime(+e2 + t3 * H3);
}, (e2, t3) => (t3 - e2) / H3, (e2) => e2.getUTCMinutes());
wn2.range;
var Re2 = x3((e2) => {
  e2.setTime(e2 - e2.getMilliseconds() - e2.getSeconds() * W2 - e2.getMinutes() * H3);
}, (e2, t3) => {
  e2.setTime(+e2 + t3 * $3);
}, (e2, t3) => (t3 - e2) / $3, (e2) => e2.getHours());
Re2.range;
var Tn2 = x3((e2) => {
  e2.setUTCMinutes(0, 0, 0);
}, (e2, t3) => {
  e2.setTime(+e2 + t3 * $3);
}, (e2, t3) => (t3 - e2) / $3, (e2) => e2.getUTCHours());
Tn2.range;
var ue2 = x3(
  (e2) => e2.setHours(0, 0, 0, 0),
  (e2, t3) => e2.setDate(e2.getDate() + t3),
  (e2, t3) => (t3 - e2 - (t3.getTimezoneOffset() - e2.getTimezoneOffset()) * H3) / Y4,
  (e2) => e2.getDate() - 1
);
ue2.range;
var Le2 = x3((e2) => {
  e2.setUTCHours(0, 0, 0, 0);
}, (e2, t3) => {
  e2.setUTCDate(e2.getUTCDate() + t3);
}, (e2, t3) => (t3 - e2) / Y4, (e2) => e2.getUTCDate() - 1);
Le2.range;
var Sn2 = x3((e2) => {
  e2.setUTCHours(0, 0, 0, 0);
}, (e2, t3) => {
  e2.setUTCDate(e2.getUTCDate() + t3);
}, (e2, t3) => (t3 - e2) / Y4, (e2) => Math.floor(e2 / Y4));
Sn2.range;
function Z3(e2) {
  return x3((t3) => {
    t3.setDate(t3.getDate() - (t3.getDay() + 7 - e2) % 7), t3.setHours(0, 0, 0, 0);
  }, (t3, n2) => {
    t3.setDate(t3.getDate() + n2 * 7);
  }, (t3, n2) => (n2 - t3 - (n2.getTimezoneOffset() - t3.getTimezoneOffset()) * H3) / Ue2);
}
var de2 = Z3(0);
var fe2 = Z3(1);
var Cn2 = Z3(2);
var Mn2 = Z3(3);
var ne2 = Z3(4);
var xn2 = Z3(5);
var bn2 = Z3(6);
de2.range;
fe2.range;
Cn2.range;
Mn2.range;
ne2.range;
xn2.range;
bn2.range;
function X3(e2) {
  return x3((t3) => {
    t3.setUTCDate(t3.getUTCDate() - (t3.getUTCDay() + 7 - e2) % 7), t3.setUTCHours(0, 0, 0, 0);
  }, (t3, n2) => {
    t3.setUTCDate(t3.getUTCDate() + n2 * 7);
  }, (t3, n2) => (n2 - t3) / Ue2);
}
var ct2 = X3(0);
var he2 = X3(1);
var Dn2 = X3(2);
var En2 = X3(3);
var re2 = X3(4);
var vn2 = X3(5);
var Un2 = X3(6);
ct2.range;
he2.range;
Dn2.range;
En2.range;
re2.range;
vn2.range;
Un2.range;
var He2 = x3((e2) => {
  e2.setDate(1), e2.setHours(0, 0, 0, 0);
}, (e2, t3) => {
  e2.setMonth(e2.getMonth() + t3);
}, (e2, t3) => t3.getMonth() - e2.getMonth() + (t3.getFullYear() - e2.getFullYear()) * 12, (e2) => e2.getMonth());
He2.range;
var Fn = x3((e2) => {
  e2.setUTCDate(1), e2.setUTCHours(0, 0, 0, 0);
}, (e2, t3) => {
  e2.setUTCMonth(e2.getUTCMonth() + t3);
}, (e2, t3) => t3.getUTCMonth() - e2.getUTCMonth() + (t3.getUTCFullYear() - e2.getUTCFullYear()) * 12, (e2) => e2.getUTCMonth());
Fn.range;
var _3 = x3((e2) => {
  e2.setMonth(0, 1), e2.setHours(0, 0, 0, 0);
}, (e2, t3) => {
  e2.setFullYear(e2.getFullYear() + t3);
}, (e2, t3) => t3.getFullYear() - e2.getFullYear(), (e2) => e2.getFullYear());
_3.every = (e2) => !isFinite(e2 = Math.floor(e2)) || !(e2 > 0) ? null : x3((t3) => {
  t3.setFullYear(Math.floor(t3.getFullYear() / e2) * e2), t3.setMonth(0, 1), t3.setHours(0, 0, 0, 0);
}, (t3, n2) => {
  t3.setFullYear(t3.getFullYear() + n2 * e2);
});
_3.range;
var j4 = x3((e2) => {
  e2.setUTCMonth(0, 1), e2.setUTCHours(0, 0, 0, 0);
}, (e2, t3) => {
  e2.setUTCFullYear(e2.getUTCFullYear() + t3);
}, (e2, t3) => t3.getUTCFullYear() - e2.getUTCFullYear(), (e2) => e2.getUTCFullYear());
j4.every = (e2) => !isFinite(e2 = Math.floor(e2)) || !(e2 > 0) ? null : x3((t3) => {
  t3.setUTCFullYear(Math.floor(t3.getUTCFullYear() / e2) * e2), t3.setUTCMonth(0, 1), t3.setUTCHours(0, 0, 0, 0);
}, (t3, n2) => {
  t3.setUTCFullYear(t3.getUTCFullYear() + n2 * e2);
});
j4.range;
function Rn(e2, t3, n2, r3, o2, i10) {
  const s2 = [
    [te2, 1, W2],
    [te2, 5, 5 * W2],
    [te2, 15, 15 * W2],
    [te2, 30, 30 * W2],
    [i10, 1, H3],
    [i10, 5, 5 * H3],
    [i10, 15, 15 * H3],
    [i10, 30, 30 * H3],
    [o2, 1, $3],
    [o2, 3, 3 * $3],
    [o2, 6, 6 * $3],
    [o2, 12, 12 * $3],
    [r3, 1, Y4],
    [r3, 2, 2 * Y4],
    [n2, 1, Ue2],
    [t3, 1, Be2],
    [t3, 3, 3 * Be2],
    [e2, 1, Ce2]
  ];
  function a2(h3, m3, d2) {
    const g3 = m3 < h3;
    g3 && ([h3, m3] = [m3, h3]);
    const T4 = d2 && typeof d2.range == "function" ? d2 : c2(h3, m3, d2), M4 = T4 ? T4.range(h3, +m3 + 1) : [];
    return g3 ? M4.reverse() : M4;
  }
  function c2(h3, m3, d2) {
    const g3 = Math.abs(m3 - h3) / d2, T4 = Ti(([, , I4]) => I4).right(s2, g3);
    if (T4 === s2.length) return e2.every(Pl(h3 / Ce2, m3 / Ce2, d2));
    if (T4 === 0) return le2.every(Math.max(Pl(h3, m3, d2), 1));
    const [M4, U3] = s2[g3 / s2[T4 - 1][2] < s2[T4][2] / g3 ? T4 - 1 : T4];
    return M4.every(U3);
  }
  return [a2, c2];
}
var [Ln, Hn2] = Rn(_3, He2, de2, ue2, Re2, Fe2);
function Me2(e2) {
  if (0 <= e2.y && e2.y < 100) {
    var t3 = new Date(-1, e2.m, e2.d, e2.H, e2.M, e2.S, e2.L);
    return t3.setFullYear(e2.y), t3;
  }
  return new Date(e2.y, e2.m, e2.d, e2.H, e2.M, e2.S, e2.L);
}
function xe2(e2) {
  if (0 <= e2.y && e2.y < 100) {
    var t3 = new Date(Date.UTC(-1, e2.m, e2.d, e2.H, e2.M, e2.S, e2.L));
    return t3.setUTCFullYear(e2.y), t3;
  }
  return new Date(Date.UTC(e2.y, e2.m, e2.d, e2.H, e2.M, e2.S, e2.L));
}
function oe2(e2, t3, n2) {
  return { y: e2, m: t3, d: n2, H: 0, M: 0, S: 0, L: 0 };
}
function In(e2) {
  var t3 = e2.dateTime, n2 = e2.date, r3 = e2.time, o2 = e2.periods, i10 = e2.days, s2 = e2.shortDays, a2 = e2.months, c2 = e2.shortMonths, h3 = se2(o2), m3 = ae(o2), d2 = se2(i10), g3 = ae(i10), T4 = se2(s2), M4 = ae(s2), U3 = se2(a2), I4 = ae(a2), k5 = se2(c2), Q4 = ae(c2), A2 = {
    a: Ot6,
    A: Wt2,
    b: $t4,
    B: Yt3,
    c: null,
    d: je2,
    e: je2,
    f: nr2,
    g: hr2,
    G: mr2,
    H: Kn2,
    I: er2,
    j: tr2,
    L: lt,
    m: rr2,
    M: ir2,
    p: _t4,
    q: Bt4,
    Q: Qe2,
    s: Je2,
    S: or2,
    u: sr2,
    U: ar2,
    V: ur2,
    w: cr2,
    W: lr2,
    x: null,
    X: null,
    y: fr2,
    Y: gr2,
    Z: dr2,
    "%": Xe2
  }, P3 = {
    a: Vt3,
    A: zt3,
    b: qt3,
    B: Gt3,
    c: null,
    d: Ze2,
    e: Ze2,
    f: Tr2,
    g: Fr2,
    G: Lr2,
    H: yr2,
    I: pr2,
    j: wr2,
    L: ht3,
    m: Sr2,
    M: Cr2,
    p: Nt3,
    q: jt3,
    Q: Qe2,
    s: Je2,
    S: Mr2,
    u: xr2,
    U: br2,
    V: Dr2,
    w: Er2,
    W: vr2,
    x: null,
    X: null,
    y: Ur2,
    Y: Rr2,
    Z: Hr2,
    "%": Xe2
  }, G5 = {
    a: Rt4,
    A: Lt4,
    b: Ht4,
    B: It2,
    c: At4,
    d: Ge,
    e: Ge,
    f: Zn2,
    g: qe2,
    G: ze2,
    H: Ne2,
    I: Ne2,
    j: qn2,
    L: jn2,
    m: zn2,
    M: Gn2,
    p: ce4,
    q: Vn2,
    Q: Qn2,
    s: Jn2,
    S: Nn2,
    u: Wn2,
    U: $n2,
    V: Yn2,
    w: On2,
    W: _n2,
    x: Pt3,
    X: kt4,
    y: qe2,
    Y: ze2,
    Z: Bn2,
    "%": Xn2
  };
  A2.x = f2(n2, A2), A2.X = f2(r3, A2), A2.c = f2(t3, A2), P3.x = f2(n2, P3), P3.X = f2(r3, P3), P3.c = f2(t3, P3);
  function f2(l2, y4) {
    return function(p3) {
      var u3 = [], E = -1, S3 = 0, F4 = l2.length, R4, N4, ke3;
      for (p3 instanceof Date || (p3 = /* @__PURE__ */ new Date(+p3)); ++E < F4; )
        l2.charCodeAt(E) === 37 && (u3.push(l2.slice(S3, E)), (N4 = Ve2[R4 = l2.charAt(++E)]) != null ? R4 = l2.charAt(++E) : N4 = R4 === "e" ? " " : "0", (ke3 = y4[R4]) && (R4 = ke3(p3, N4)), u3.push(R4), S3 = E + 1);
      return u3.push(l2.slice(S3, E)), u3.join("");
    };
  }
  function C3(l2, y4) {
    return function(p3) {
      var u3 = oe2(1900, void 0, 1), E = O3(u3, l2, p3 += "", 0), S3, F4;
      if (E != p3.length) return null;
      if ("Q" in u3) return new Date(u3.Q);
      if ("s" in u3) return new Date(u3.s * 1e3 + ("L" in u3 ? u3.L : 0));
      if (y4 && !("Z" in u3) && (u3.Z = 0), "p" in u3 && (u3.H = u3.H % 12 + u3.p * 12), u3.m === void 0 && (u3.m = "q" in u3 ? u3.q : 0), "V" in u3) {
        if (u3.V < 1 || u3.V > 53) return null;
        "w" in u3 || (u3.w = 1), "Z" in u3 ? (S3 = xe2(oe2(u3.y, 0, 1)), F4 = S3.getUTCDay(), S3 = F4 > 4 || F4 === 0 ? he2.ceil(S3) : he2(S3), S3 = Le2.offset(S3, (u3.V - 1) * 7), u3.y = S3.getUTCFullYear(), u3.m = S3.getUTCMonth(), u3.d = S3.getUTCDate() + (u3.w + 6) % 7) : (S3 = Me2(oe2(u3.y, 0, 1)), F4 = S3.getDay(), S3 = F4 > 4 || F4 === 0 ? fe2.ceil(S3) : fe2(S3), S3 = ue2.offset(S3, (u3.V - 1) * 7), u3.y = S3.getFullYear(), u3.m = S3.getMonth(), u3.d = S3.getDate() + (u3.w + 6) % 7);
      } else ("W" in u3 || "U" in u3) && ("w" in u3 || (u3.w = "u" in u3 ? u3.u % 7 : "W" in u3 ? 1 : 0), F4 = "Z" in u3 ? xe2(oe2(u3.y, 0, 1)).getUTCDay() : Me2(oe2(u3.y, 0, 1)).getDay(), u3.m = 0, u3.d = "W" in u3 ? (u3.w + 6) % 7 + u3.W * 7 - (F4 + 5) % 7 : u3.w + u3.U * 7 - (F4 + 6) % 7);
      return "Z" in u3 ? (u3.H += u3.Z / 100 | 0, u3.M += u3.Z % 100, xe2(u3)) : Me2(u3);
    };
  }
  function O3(l2, y4, p3, u3) {
    for (var E = 0, S3 = y4.length, F4 = p3.length, R4, N4; E < S3; ) {
      if (u3 >= F4) return -1;
      if (R4 = y4.charCodeAt(E++), R4 === 37) {
        if (R4 = y4.charAt(E++), N4 = G5[R4 in Ve2 ? y4.charAt(E++) : R4], !N4 || (u3 = N4(l2, p3, u3)) < 0) return -1;
      } else if (R4 != p3.charCodeAt(u3++))
        return -1;
    }
    return u3;
  }
  function ce4(l2, y4, p3) {
    var u3 = h3.exec(y4.slice(p3));
    return u3 ? (l2.p = m3.get(u3[0].toLowerCase()), p3 + u3[0].length) : -1;
  }
  function Rt4(l2, y4, p3) {
    var u3 = T4.exec(y4.slice(p3));
    return u3 ? (l2.w = M4.get(u3[0].toLowerCase()), p3 + u3[0].length) : -1;
  }
  function Lt4(l2, y4, p3) {
    var u3 = d2.exec(y4.slice(p3));
    return u3 ? (l2.w = g3.get(u3[0].toLowerCase()), p3 + u3[0].length) : -1;
  }
  function Ht4(l2, y4, p3) {
    var u3 = k5.exec(y4.slice(p3));
    return u3 ? (l2.m = Q4.get(u3[0].toLowerCase()), p3 + u3[0].length) : -1;
  }
  function It2(l2, y4, p3) {
    var u3 = U3.exec(y4.slice(p3));
    return u3 ? (l2.m = I4.get(u3[0].toLowerCase()), p3 + u3[0].length) : -1;
  }
  function At4(l2, y4, p3) {
    return O3(l2, t3, y4, p3);
  }
  function Pt3(l2, y4, p3) {
    return O3(l2, n2, y4, p3);
  }
  function kt4(l2, y4, p3) {
    return O3(l2, r3, y4, p3);
  }
  function Ot6(l2) {
    return s2[l2.getDay()];
  }
  function Wt2(l2) {
    return i10[l2.getDay()];
  }
  function $t4(l2) {
    return c2[l2.getMonth()];
  }
  function Yt3(l2) {
    return a2[l2.getMonth()];
  }
  function _t4(l2) {
    return o2[+(l2.getHours() >= 12)];
  }
  function Bt4(l2) {
    return 1 + ~~(l2.getMonth() / 3);
  }
  function Vt3(l2) {
    return s2[l2.getUTCDay()];
  }
  function zt3(l2) {
    return i10[l2.getUTCDay()];
  }
  function qt3(l2) {
    return c2[l2.getUTCMonth()];
  }
  function Gt3(l2) {
    return a2[l2.getUTCMonth()];
  }
  function Nt3(l2) {
    return o2[+(l2.getUTCHours() >= 12)];
  }
  function jt3(l2) {
    return 1 + ~~(l2.getUTCMonth() / 3);
  }
  return {
    format: function(l2) {
      var y4 = f2(l2 += "", A2);
      return y4.toString = function() {
        return l2;
      }, y4;
    },
    parse: function(l2) {
      var y4 = C3(l2 += "", false);
      return y4.toString = function() {
        return l2;
      }, y4;
    },
    utcFormat: function(l2) {
      var y4 = f2(l2 += "", P3);
      return y4.toString = function() {
        return l2;
      }, y4;
    },
    utcParse: function(l2) {
      var y4 = C3(l2 += "", true);
      return y4.toString = function() {
        return l2;
      }, y4;
    }
  };
}
var Ve2 = { "-": "", _: " ", 0: "0" };
var b2 = /^\s*\d+/;
var An2 = /^%/;
var Pn2 = /[\\^$*+?|[\]().{}]/g;
function w2(e2, t3, n2) {
  var r3 = e2 < 0 ? "-" : "", o2 = (r3 ? -e2 : e2) + "", i10 = o2.length;
  return r3 + (i10 < n2 ? new Array(n2 - i10 + 1).join(t3) + o2 : o2);
}
function kn2(e2) {
  return e2.replace(Pn2, "\\$&");
}
function se2(e2) {
  return new RegExp("^(?:" + e2.map(kn2).join("|") + ")", "i");
}
function ae(e2) {
  return new Map(e2.map((t3, n2) => [t3.toLowerCase(), n2]));
}
function On2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 1));
  return r3 ? (e2.w = +r3[0], n2 + r3[0].length) : -1;
}
function Wn2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 1));
  return r3 ? (e2.u = +r3[0], n2 + r3[0].length) : -1;
}
function $n2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 2));
  return r3 ? (e2.U = +r3[0], n2 + r3[0].length) : -1;
}
function Yn2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 2));
  return r3 ? (e2.V = +r3[0], n2 + r3[0].length) : -1;
}
function _n2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 2));
  return r3 ? (e2.W = +r3[0], n2 + r3[0].length) : -1;
}
function ze2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 4));
  return r3 ? (e2.y = +r3[0], n2 + r3[0].length) : -1;
}
function qe2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 2));
  return r3 ? (e2.y = +r3[0] + (+r3[0] > 68 ? 1900 : 2e3), n2 + r3[0].length) : -1;
}
function Bn2(e2, t3, n2) {
  var r3 = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t3.slice(n2, n2 + 6));
  return r3 ? (e2.Z = r3[1] ? 0 : -(r3[2] + (r3[3] || "00")), n2 + r3[0].length) : -1;
}
function Vn2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 1));
  return r3 ? (e2.q = r3[0] * 3 - 3, n2 + r3[0].length) : -1;
}
function zn2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 2));
  return r3 ? (e2.m = r3[0] - 1, n2 + r3[0].length) : -1;
}
function Ge(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 2));
  return r3 ? (e2.d = +r3[0], n2 + r3[0].length) : -1;
}
function qn2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 3));
  return r3 ? (e2.m = 0, e2.d = +r3[0], n2 + r3[0].length) : -1;
}
function Ne2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 2));
  return r3 ? (e2.H = +r3[0], n2 + r3[0].length) : -1;
}
function Gn2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 2));
  return r3 ? (e2.M = +r3[0], n2 + r3[0].length) : -1;
}
function Nn2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 2));
  return r3 ? (e2.S = +r3[0], n2 + r3[0].length) : -1;
}
function jn2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 3));
  return r3 ? (e2.L = +r3[0], n2 + r3[0].length) : -1;
}
function Zn2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2, n2 + 6));
  return r3 ? (e2.L = Math.floor(r3[0] / 1e3), n2 + r3[0].length) : -1;
}
function Xn2(e2, t3, n2) {
  var r3 = An2.exec(t3.slice(n2, n2 + 1));
  return r3 ? n2 + r3[0].length : -1;
}
function Qn2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2));
  return r3 ? (e2.Q = +r3[0], n2 + r3[0].length) : -1;
}
function Jn2(e2, t3, n2) {
  var r3 = b2.exec(t3.slice(n2));
  return r3 ? (e2.s = +r3[0], n2 + r3[0].length) : -1;
}
function je2(e2, t3) {
  return w2(e2.getDate(), t3, 2);
}
function Kn2(e2, t3) {
  return w2(e2.getHours(), t3, 2);
}
function er2(e2, t3) {
  return w2(e2.getHours() % 12 || 12, t3, 2);
}
function tr2(e2, t3) {
  return w2(1 + ue2.count(_3(e2), e2), t3, 3);
}
function lt(e2, t3) {
  return w2(e2.getMilliseconds(), t3, 3);
}
function nr2(e2, t3) {
  return lt(e2, t3) + "000";
}
function rr2(e2, t3) {
  return w2(e2.getMonth() + 1, t3, 2);
}
function ir2(e2, t3) {
  return w2(e2.getMinutes(), t3, 2);
}
function or2(e2, t3) {
  return w2(e2.getSeconds(), t3, 2);
}
function sr2(e2) {
  var t3 = e2.getDay();
  return t3 === 0 ? 7 : t3;
}
function ar2(e2, t3) {
  return w2(de2.count(_3(e2) - 1, e2), t3, 2);
}
function ft3(e2) {
  var t3 = e2.getDay();
  return t3 >= 4 || t3 === 0 ? ne2(e2) : ne2.ceil(e2);
}
function ur2(e2, t3) {
  return e2 = ft3(e2), w2(ne2.count(_3(e2), e2) + (_3(e2).getDay() === 4), t3, 2);
}
function cr2(e2) {
  return e2.getDay();
}
function lr2(e2, t3) {
  return w2(fe2.count(_3(e2) - 1, e2), t3, 2);
}
function fr2(e2, t3) {
  return w2(e2.getFullYear() % 100, t3, 2);
}
function hr2(e2, t3) {
  return e2 = ft3(e2), w2(e2.getFullYear() % 100, t3, 2);
}
function gr2(e2, t3) {
  return w2(e2.getFullYear() % 1e4, t3, 4);
}
function mr2(e2, t3) {
  var n2 = e2.getDay();
  return e2 = n2 >= 4 || n2 === 0 ? ne2(e2) : ne2.ceil(e2), w2(e2.getFullYear() % 1e4, t3, 4);
}
function dr2(e2) {
  var t3 = e2.getTimezoneOffset();
  return (t3 > 0 ? "-" : (t3 *= -1, "+")) + w2(t3 / 60 | 0, "0", 2) + w2(t3 % 60, "0", 2);
}
function Ze2(e2, t3) {
  return w2(e2.getUTCDate(), t3, 2);
}
function yr2(e2, t3) {
  return w2(e2.getUTCHours(), t3, 2);
}
function pr2(e2, t3) {
  return w2(e2.getUTCHours() % 12 || 12, t3, 2);
}
function wr2(e2, t3) {
  return w2(1 + Le2.count(j4(e2), e2), t3, 3);
}
function ht3(e2, t3) {
  return w2(e2.getUTCMilliseconds(), t3, 3);
}
function Tr2(e2, t3) {
  return ht3(e2, t3) + "000";
}
function Sr2(e2, t3) {
  return w2(e2.getUTCMonth() + 1, t3, 2);
}
function Cr2(e2, t3) {
  return w2(e2.getUTCMinutes(), t3, 2);
}
function Mr2(e2, t3) {
  return w2(e2.getUTCSeconds(), t3, 2);
}
function xr2(e2) {
  var t3 = e2.getUTCDay();
  return t3 === 0 ? 7 : t3;
}
function br2(e2, t3) {
  return w2(ct2.count(j4(e2) - 1, e2), t3, 2);
}
function gt3(e2) {
  var t3 = e2.getUTCDay();
  return t3 >= 4 || t3 === 0 ? re2(e2) : re2.ceil(e2);
}
function Dr2(e2, t3) {
  return e2 = gt3(e2), w2(re2.count(j4(e2), e2) + (j4(e2).getUTCDay() === 4), t3, 2);
}
function Er2(e2) {
  return e2.getUTCDay();
}
function vr2(e2, t3) {
  return w2(he2.count(j4(e2) - 1, e2), t3, 2);
}
function Ur2(e2, t3) {
  return w2(e2.getUTCFullYear() % 100, t3, 2);
}
function Fr2(e2, t3) {
  return e2 = gt3(e2), w2(e2.getUTCFullYear() % 100, t3, 2);
}
function Rr2(e2, t3) {
  return w2(e2.getUTCFullYear() % 1e4, t3, 4);
}
function Lr2(e2, t3) {
  var n2 = e2.getUTCDay();
  return e2 = n2 >= 4 || n2 === 0 ? re2(e2) : re2.ceil(e2), w2(e2.getUTCFullYear() % 1e4, t3, 4);
}
function Hr2() {
  return "+0000";
}
function Xe2() {
  return "%";
}
function Qe2(e2) {
  return +e2;
}
function Je2(e2) {
  return Math.floor(+e2 / 1e3);
}
var J3;
var mt3;
Ir2({
  dateTime: "%x, %X",
  date: "%-m/%-d/%Y",
  time: "%-I:%M:%S %p",
  periods: ["AM", "PM"],
  days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
  shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
  months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
  shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
});
function Ir2(e2) {
  return J3 = In(e2), mt3 = J3.format, J3.parse, J3.utcFormat, J3.utcParse, J3;
}
function Ar2(e2) {
  return new Date(e2);
}
function Pr2(e2) {
  return e2 instanceof Date ? +e2 : +/* @__PURE__ */ new Date(+e2);
}
function dt3(e2, t3, n2, r3, o2, i10, s2, a2, c2, h3) {
  var m3 = ym(), d2 = m3.invert, g3 = m3.domain, T4 = h3(".%L"), M4 = h3(":%S"), U3 = h3("%I:%M"), I4 = h3("%I %p"), k5 = h3("%a %d"), Q4 = h3("%b %d"), A2 = h3("%B"), P3 = h3("%Y");
  function G5(f2) {
    return (c2(f2) < f2 ? T4 : a2(f2) < f2 ? M4 : s2(f2) < f2 ? U3 : i10(f2) < f2 ? I4 : r3(f2) < f2 ? o2(f2) < f2 ? k5 : Q4 : n2(f2) < f2 ? A2 : P3)(f2);
  }
  return m3.invert = function(f2) {
    return new Date(d2(f2));
  }, m3.domain = function(f2) {
    return arguments.length ? g3(Array.from(f2, Pr2)) : g3().map(Ar2);
  }, m3.ticks = function(f2) {
    var C3 = g3();
    return e2(C3[0], C3[C3.length - 1], f2 ?? 10);
  }, m3.tickFormat = function(f2, C3) {
    return C3 == null ? G5 : h3(C3);
  }, m3.nice = function(f2) {
    var C3 = g3();
    return (!f2 || typeof f2.range != "function") && (f2 = t3(C3[0], C3[C3.length - 1], f2 ?? 10)), f2 ? g3(pn2(C3, f2)) : m3;
  }, m3.copy = function() {
    return mm(m3, dt3(e2, t3, n2, r3, o2, i10, s2, a2, c2, h3));
  }, m3;
}
function Ai2() {
  return Cn.apply(dt3(Ln, Hn2, _3, He2, de2, ue2, Re2, Fe2, te2, mt3).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)]), arguments);
}
var Pi2 = Math.abs;
var ki2 = Math.atan2;
var Oi2 = Math.cos;
var Wi2 = Math.max;
var $i2 = Math.min;
var Yi2 = Math.sin;
var _i2 = Math.sqrt;
var Bi2 = 1e-12;
var Ie2 = Math.PI;
var Ke2 = Ie2 / 2;
var Vi2 = 2 * Ie2;
function zi2(e2) {
  return e2 > 1 ? 0 : e2 < -1 ? Ie2 : Math.acos(e2);
}
function qi2(e2) {
  return e2 >= 1 ? Ke2 : e2 <= -1 ? -Ke2 : Math.asin(e2);
}
function yt3(e2) {
  this._context = e2;
}
yt3.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line;
  },
  point: function(e2, t3) {
    switch (e2 = +e2, t3 = +t3, this._point) {
      case 0:
        this._point = 1, this._line ? this._context.lineTo(e2, t3) : this._context.moveTo(e2, t3);
        break;
      case 1:
        this._point = 2;
      default:
        this._context.lineTo(e2, t3);
        break;
    }
  }
};
function Gi2(e2) {
  return new yt3(e2);
}
function et2() {
}
function pt2(e2) {
  this._context = e2;
}
pt2.prototype = {
  areaStart: et2,
  areaEnd: et2,
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    this._point && this._context.closePath();
  },
  point: function(e2, t3) {
    e2 = +e2, t3 = +t3, this._point ? this._context.lineTo(e2, t3) : (this._point = 1, this._context.moveTo(e2, t3));
  }
};
function Ni2(e2) {
  return new pt2(e2);
}
function kr2(e2, t3) {
  if (e2.match(/^[a-z]+:\/\//i))
    return e2;
  if (e2.match(/^\/\//))
    return window.location.protocol + e2;
  if (e2.match(/^[a-z]+:/i))
    return e2;
  const n2 = document.implementation.createHTMLDocument(), r3 = n2.createElement("base"), o2 = n2.createElement("a");
  return n2.head.appendChild(r3), n2.body.appendChild(o2), t3 && (r3.href = t3), o2.href = e2, o2.href;
}
var Or2 = /* @__PURE__ */ (() => {
  let e2 = 0;
  const t3 = () => (
    // eslint-disable-next-line no-bitwise
    `0000${(Math.random() * 36 ** 4 << 0).toString(36)}`.slice(-4)
  );
  return () => (e2 += 1, `u${t3()}${e2}`);
})();
function q2(e2) {
  const t3 = [];
  for (let n2 = 0, r3 = e2.length; n2 < r3; n2++)
    t3.push(e2[n2]);
  return t3;
}
var K4 = null;
function wt3(e2 = {}) {
  return K4 || (e2.includeStyleProperties ? (K4 = e2.includeStyleProperties, K4) : (K4 = q2(window.getComputedStyle(document.documentElement)), K4));
}
function ge2(e2, t3) {
  const r3 = (e2.ownerDocument.defaultView || window).getComputedStyle(e2).getPropertyValue(t3);
  return r3 ? parseFloat(r3.replace("px", "")) : 0;
}
function Wr2(e2) {
  const t3 = ge2(e2, "border-left-width"), n2 = ge2(e2, "border-right-width");
  return e2.clientWidth + t3 + n2;
}
function $r2(e2) {
  const t3 = ge2(e2, "border-top-width"), n2 = ge2(e2, "border-bottom-width");
  return e2.clientHeight + t3 + n2;
}
function Tt2(e2, t3 = {}) {
  const n2 = t3.width || Wr2(e2), r3 = t3.height || $r2(e2);
  return { width: n2, height: r3 };
}
function Yr2() {
  let e2, t3;
  try {
    t3 = process;
  } catch {
  }
  const n2 = t3 && t3.env ? t3.env.devicePixelRatio : null;
  return n2 && (e2 = parseInt(n2, 10), Number.isNaN(e2) && (e2 = 1)), e2 || window.devicePixelRatio || 1;
}
var L3 = 16384;
function _r2(e2) {
  (e2.width > L3 || e2.height > L3) && (e2.width > L3 && e2.height > L3 ? e2.width > e2.height ? (e2.height *= L3 / e2.width, e2.width = L3) : (e2.width *= L3 / e2.height, e2.height = L3) : e2.width > L3 ? (e2.height *= L3 / e2.width, e2.width = L3) : (e2.width *= L3 / e2.height, e2.height = L3));
}
function me2(e2) {
  return new Promise((t3, n2) => {
    const r3 = new Image();
    r3.onload = () => {
      r3.decode().then(() => {
        requestAnimationFrame(() => t3(r3));
      });
    }, r3.onerror = n2, r3.crossOrigin = "anonymous", r3.decoding = "async", r3.src = e2;
  });
}
async function Br(e2) {
  return Promise.resolve().then(() => new XMLSerializer().serializeToString(e2)).then(encodeURIComponent).then((t3) => `data:image/svg+xml;charset=utf-8,${t3}`);
}
async function Vr2(e2, t3, n2) {
  const r3 = "http://www.w3.org/2000/svg", o2 = document.createElementNS(r3, "svg"), i10 = document.createElementNS(r3, "foreignObject");
  return o2.setAttribute("width", `${t3}`), o2.setAttribute("height", `${n2}`), o2.setAttribute("viewBox", `0 0 ${t3} ${n2}`), i10.setAttribute("width", "100%"), i10.setAttribute("height", "100%"), i10.setAttribute("x", "0"), i10.setAttribute("y", "0"), i10.setAttribute("externalResourcesRequired", "true"), o2.appendChild(i10), i10.appendChild(e2), Br(o2);
}
var v3 = (e2, t3) => {
  if (e2 instanceof t3)
    return true;
  const n2 = Object.getPrototypeOf(e2);
  return n2 === null ? false : n2.constructor.name === t3.name || v3(n2, t3);
};
function zr2(e2) {
  const t3 = e2.getPropertyValue("content");
  return `${e2.cssText} content: '${t3.replace(/'|"/g, "")}';`;
}
function qr2(e2, t3) {
  return wt3(t3).map((n2) => {
    const r3 = e2.getPropertyValue(n2), o2 = e2.getPropertyPriority(n2);
    return `${n2}: ${r3}${o2 ? " !important" : ""};`;
  }).join(" ");
}
function Gr2(e2, t3, n2, r3) {
  const o2 = `.${e2}:${t3}`, i10 = n2.cssText ? zr2(n2) : qr2(n2, r3);
  return document.createTextNode(`${o2}{${i10}}`);
}
function tt2(e2, t3, n2, r3) {
  const o2 = window.getComputedStyle(e2, n2), i10 = o2.getPropertyValue("content");
  if (i10 === "" || i10 === "none")
    return;
  const s2 = Or2();
  try {
    t3.className = `${t3.className} ${s2}`;
  } catch {
    return;
  }
  const a2 = document.createElement("style");
  a2.appendChild(Gr2(s2, n2, o2, r3)), t3.appendChild(a2);
}
function Nr2(e2, t3, n2) {
  tt2(e2, t3, ":before", n2), tt2(e2, t3, ":after", n2);
}
var nt2 = "application/font-woff";
var rt2 = "image/jpeg";
var jr2 = {
  woff: nt2,
  woff2: nt2,
  ttf: "application/font-truetype",
  eot: "application/vnd.ms-fontobject",
  png: "image/png",
  jpg: rt2,
  jpeg: rt2,
  gif: "image/gif",
  tiff: "image/tiff",
  svg: "image/svg+xml",
  webp: "image/webp"
};
function Zr2(e2) {
  const t3 = /\.([^./]*?)$/g.exec(e2);
  return t3 ? t3[1] : "";
}
function Ae2(e2) {
  const t3 = Zr2(e2).toLowerCase();
  return jr2[t3] || "";
}
function Xr2(e2) {
  return e2.split(/,/)[1];
}
function Ee2(e2) {
  return e2.search(/^(data:)/) !== -1;
}
function Qr2(e2, t3) {
  return `data:${t3};base64,${e2}`;
}
async function St3(e2, t3, n2) {
  const r3 = await fetch(e2, t3);
  if (r3.status === 404)
    throw new Error(`Resource "${r3.url}" not found`);
  const o2 = await r3.blob();
  return new Promise((i10, s2) => {
    const a2 = new FileReader();
    a2.onerror = s2, a2.onloadend = () => {
      try {
        i10(n2({ res: r3, result: a2.result }));
      } catch (c2) {
        s2(c2);
      }
    }, a2.readAsDataURL(o2);
  });
}
var be2 = {};
function Jr2(e2, t3, n2) {
  let r3 = e2.replace(/\?.*/, "");
  return n2 && (r3 = e2), /ttf|otf|eot|woff2?/i.test(r3) && (r3 = r3.replace(/.*\//, "")), t3 ? `[${t3}]${r3}` : r3;
}
async function Pe2(e2, t3, n2) {
  const r3 = Jr2(e2, t3, n2.includeQueryParams);
  if (be2[r3] != null)
    return be2[r3];
  n2.cacheBust && (e2 += (/\?/.test(e2) ? "&" : "?") + (/* @__PURE__ */ new Date()).getTime());
  let o2;
  try {
    const i10 = await St3(e2, n2.fetchRequestInit, ({ res: s2, result: a2 }) => (t3 || (t3 = s2.headers.get("Content-Type") || ""), Xr2(a2)));
    o2 = Qr2(i10, t3);
  } catch (i10) {
    o2 = n2.imagePlaceholder || "";
    let s2 = `Failed to fetch resource: ${e2}`;
    i10 && (s2 = typeof i10 == "string" ? i10 : i10.message), s2 && console.warn(s2);
  }
  return be2[r3] = o2, o2;
}
async function Kr2(e2) {
  const t3 = e2.toDataURL();
  return t3 === "data:," ? e2.cloneNode(false) : me2(t3);
}
async function ei2(e2, t3) {
  if (e2.currentSrc) {
    const i10 = document.createElement("canvas"), s2 = i10.getContext("2d");
    i10.width = e2.clientWidth, i10.height = e2.clientHeight, s2 == null || s2.drawImage(e2, 0, 0, i10.width, i10.height);
    const a2 = i10.toDataURL();
    return me2(a2);
  }
  const n2 = e2.poster, r3 = Ae2(n2), o2 = await Pe2(n2, r3, t3);
  return me2(o2);
}
async function ti2(e2, t3) {
  var n2;
  try {
    if (!((n2 = e2 == null ? void 0 : e2.contentDocument) === null || n2 === void 0) && n2.body)
      return await ye2(e2.contentDocument.body, t3, true);
  } catch {
  }
  return e2.cloneNode(false);
}
async function ni2(e2, t3) {
  return v3(e2, HTMLCanvasElement) ? Kr2(e2) : v3(e2, HTMLVideoElement) ? ei2(e2, t3) : v3(e2, HTMLIFrameElement) ? ti2(e2, t3) : e2.cloneNode(Ct3(e2));
}
var ri2 = (e2) => e2.tagName != null && e2.tagName.toUpperCase() === "SLOT";
var Ct3 = (e2) => e2.tagName != null && e2.tagName.toUpperCase() === "SVG";
async function ii2(e2, t3, n2) {
  var r3, o2;
  if (Ct3(t3))
    return t3;
  let i10 = [];
  return ri2(e2) && e2.assignedNodes ? i10 = q2(e2.assignedNodes()) : v3(e2, HTMLIFrameElement) && (!((r3 = e2.contentDocument) === null || r3 === void 0) && r3.body) ? i10 = q2(e2.contentDocument.body.childNodes) : i10 = q2(((o2 = e2.shadowRoot) !== null && o2 !== void 0 ? o2 : e2).childNodes), i10.length === 0 || v3(e2, HTMLVideoElement) || await i10.reduce((s2, a2) => s2.then(() => ye2(a2, n2)).then((c2) => {
    c2 && t3.appendChild(c2);
  }), Promise.resolve()), t3;
}
function oi2(e2, t3, n2) {
  const r3 = t3.style;
  if (!r3)
    return;
  const o2 = window.getComputedStyle(e2);
  o2.cssText ? (r3.cssText = o2.cssText, r3.transformOrigin = o2.transformOrigin) : wt3(n2).forEach((i10) => {
    let s2 = o2.getPropertyValue(i10);
    i10 === "font-size" && s2.endsWith("px") && (s2 = `${Math.floor(parseFloat(s2.substring(0, s2.length - 2))) - 0.1}px`), v3(e2, HTMLIFrameElement) && i10 === "display" && s2 === "inline" && (s2 = "block"), i10 === "d" && t3.getAttribute("d") && (s2 = `path(${t3.getAttribute("d")})`), r3.setProperty(i10, s2, o2.getPropertyPriority(i10));
  });
}
function si2(e2, t3) {
  v3(e2, HTMLTextAreaElement) && (t3.innerHTML = e2.value), v3(e2, HTMLInputElement) && t3.setAttribute("value", e2.value);
}
function ai2(e2, t3) {
  if (v3(e2, HTMLSelectElement)) {
    const n2 = t3, r3 = Array.from(n2.children).find((o2) => e2.value === o2.getAttribute("value"));
    r3 && r3.setAttribute("selected", "");
  }
}
function ui2(e2, t3, n2) {
  return v3(t3, Element) && (oi2(e2, t3, n2), Nr2(e2, t3, n2), si2(e2, t3), ai2(e2, t3)), t3;
}
async function ci2(e2, t3) {
  const n2 = e2.querySelectorAll ? e2.querySelectorAll("use") : [];
  if (n2.length === 0)
    return e2;
  const r3 = {};
  for (let i10 = 0; i10 < n2.length; i10++) {
    const a2 = n2[i10].getAttribute("xlink:href");
    if (a2) {
      const c2 = e2.querySelector(a2), h3 = document.querySelector(a2);
      !c2 && h3 && !r3[a2] && (r3[a2] = await ye2(h3, t3, true));
    }
  }
  const o2 = Object.values(r3);
  if (o2.length) {
    const i10 = "http://www.w3.org/1999/xhtml", s2 = document.createElementNS(i10, "svg");
    s2.setAttribute("xmlns", i10), s2.style.position = "absolute", s2.style.width = "0", s2.style.height = "0", s2.style.overflow = "hidden", s2.style.display = "none";
    const a2 = document.createElementNS(i10, "defs");
    s2.appendChild(a2);
    for (let c2 = 0; c2 < o2.length; c2++)
      a2.appendChild(o2[c2]);
    e2.appendChild(s2);
  }
  return e2;
}
async function ye2(e2, t3, n2) {
  return !n2 && t3.filter && !t3.filter(e2) ? null : Promise.resolve(e2).then((r3) => ni2(r3, t3)).then((r3) => ii2(e2, r3, t3)).then((r3) => ui2(e2, r3, t3)).then((r3) => ci2(r3, t3));
}
var Mt2 = /url\((['"]?)([^'"]+?)\1\)/g;
var li2 = /url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g;
var fi2 = /src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;
function hi2(e2) {
  const t3 = e2.replace(/([.*+?^${}()|\[\]\/\\])/g, "\\$1");
  return new RegExp(`(url\\(['"]?)(${t3})(['"]?\\))`, "g");
}
function gi2(e2) {
  const t3 = [];
  return e2.replace(Mt2, (n2, r3, o2) => (t3.push(o2), n2)), t3.filter((n2) => !Ee2(n2));
}
async function mi2(e2, t3, n2, r3, o2) {
  try {
    const i10 = n2 ? kr2(t3, n2) : t3, s2 = Ae2(t3);
    let a2;
    return o2 || (a2 = await Pe2(i10, s2, r3)), e2.replace(hi2(t3), `$1${a2}$3`);
  } catch {
  }
  return e2;
}
function di2(e2, { preferredFontFormat: t3 }) {
  return t3 ? e2.replace(fi2, (n2) => {
    for (; ; ) {
      const [r3, , o2] = li2.exec(n2) || [];
      if (!o2)
        return "";
      if (o2 === t3)
        return `src: ${r3};`;
    }
  }) : e2;
}
function xt3(e2) {
  return e2.search(Mt2) !== -1;
}
async function bt3(e2, t3, n2) {
  if (!xt3(e2))
    return e2;
  const r3 = di2(e2, n2);
  return gi2(r3).reduce((i10, s2) => i10.then((a2) => mi2(a2, s2, t3, n2)), Promise.resolve(r3));
}
async function ee2(e2, t3, n2) {
  var r3;
  const o2 = (r3 = t3.style) === null || r3 === void 0 ? void 0 : r3.getPropertyValue(e2);
  if (o2) {
    const i10 = await bt3(o2, null, n2);
    return t3.style.setProperty(e2, i10, t3.style.getPropertyPriority(e2)), true;
  }
  return false;
}
async function yi2(e2, t3) {
  await ee2("background", e2, t3) || await ee2("background-image", e2, t3), await ee2("mask", e2, t3) || await ee2("-webkit-mask", e2, t3) || await ee2("mask-image", e2, t3) || await ee2("-webkit-mask-image", e2, t3);
}
async function pi2(e2, t3) {
  const n2 = v3(e2, HTMLImageElement);
  if (!(n2 && !Ee2(e2.src)) && !(v3(e2, SVGImageElement) && !Ee2(e2.href.baseVal)))
    return;
  const r3 = n2 ? e2.src : e2.href.baseVal, o2 = await Pe2(r3, Ae2(r3), t3);
  await new Promise((i10, s2) => {
    e2.onload = i10, e2.onerror = t3.onImageErrorHandler ? (...c2) => {
      try {
        i10(t3.onImageErrorHandler(...c2));
      } catch (h3) {
        s2(h3);
      }
    } : s2;
    const a2 = e2;
    a2.decode && (a2.decode = i10), a2.loading === "lazy" && (a2.loading = "eager"), n2 ? (e2.srcset = "", e2.src = o2) : e2.href.baseVal = o2;
  });
}
async function wi2(e2, t3) {
  const r3 = q2(e2.childNodes).map((o2) => Dt3(o2, t3));
  await Promise.all(r3).then(() => e2);
}
async function Dt3(e2, t3) {
  v3(e2, Element) && (await yi2(e2, t3), await pi2(e2, t3), await wi2(e2, t3));
}
function Ti2(e2, t3) {
  const { style: n2 } = e2;
  t3.backgroundColor && (n2.backgroundColor = t3.backgroundColor), t3.width && (n2.width = `${t3.width}px`), t3.height && (n2.height = `${t3.height}px`);
  const r3 = t3.style;
  return r3 != null && Object.keys(r3).forEach((o2) => {
    n2[o2] = r3[o2];
  }), e2;
}
var it2 = {};
async function ot2(e2) {
  let t3 = it2[e2];
  if (t3 != null)
    return t3;
  const r3 = await (await fetch(e2)).text();
  return t3 = { url: e2, cssText: r3 }, it2[e2] = t3, t3;
}
async function st2(e2, t3) {
  let n2 = e2.cssText;
  const r3 = /url\(["']?([^"')]+)["']?\)/g, i10 = (n2.match(/url\([^)]+\)/g) || []).map(async (s2) => {
    let a2 = s2.replace(r3, "$1");
    return a2.startsWith("https://") || (a2 = new URL(a2, e2.url).href), St3(a2, t3.fetchRequestInit, ({ result: c2 }) => (n2 = n2.replace(s2, `url(${c2})`), [s2, c2]));
  });
  return Promise.all(i10).then(() => n2);
}
function at2(e2) {
  if (e2 == null)
    return [];
  const t3 = [], n2 = /(\/\*[\s\S]*?\*\/)/gi;
  let r3 = e2.replace(n2, "");
  const o2 = new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})", "gi");
  for (; ; ) {
    const c2 = o2.exec(r3);
    if (c2 === null)
      break;
    t3.push(c2[0]);
  }
  r3 = r3.replace(o2, "");
  const i10 = /@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi, s2 = "((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})", a2 = new RegExp(s2, "gi");
  for (; ; ) {
    let c2 = i10.exec(r3);
    if (c2 === null) {
      if (c2 = a2.exec(r3), c2 === null)
        break;
      i10.lastIndex = a2.lastIndex;
    } else
      a2.lastIndex = i10.lastIndex;
    t3.push(c2[0]);
  }
  return t3;
}
async function Si2(e2, t3) {
  const n2 = [], r3 = [];
  return e2.forEach((o2) => {
    if ("cssRules" in o2)
      try {
        q2(o2.cssRules || []).forEach((i10, s2) => {
          if (i10.type === CSSRule.IMPORT_RULE) {
            let a2 = s2 + 1;
            const c2 = i10.href, h3 = ot2(c2).then((m3) => st2(m3, t3)).then((m3) => at2(m3).forEach((d2) => {
              try {
                o2.insertRule(d2, d2.startsWith("@import") ? a2 += 1 : o2.cssRules.length);
              } catch (g3) {
                console.error("Error inserting rule from remote css", {
                  rule: d2,
                  error: g3
                });
              }
            })).catch((m3) => {
              console.error("Error loading remote css", m3.toString());
            });
            r3.push(h3);
          }
        });
      } catch (i10) {
        const s2 = e2.find((a2) => a2.href == null) || document.styleSheets[0];
        o2.href != null && r3.push(ot2(o2.href).then((a2) => st2(a2, t3)).then((a2) => at2(a2).forEach((c2) => {
          s2.insertRule(c2, s2.cssRules.length);
        })).catch((a2) => {
          console.error("Error loading remote stylesheet", a2);
        })), console.error("Error inlining remote css file", i10);
      }
  }), Promise.all(r3).then(() => (e2.forEach((o2) => {
    if ("cssRules" in o2)
      try {
        q2(o2.cssRules || []).forEach((i10) => {
          n2.push(i10);
        });
      } catch (i10) {
        console.error(`Error while reading CSS rules from ${o2.href}`, i10);
      }
  }), n2));
}
function Ci2(e2) {
  return e2.filter((t3) => t3.type === CSSRule.FONT_FACE_RULE).filter((t3) => xt3(t3.style.getPropertyValue("src")));
}
async function Mi2(e2, t3) {
  if (e2.ownerDocument == null)
    throw new Error("Provided element is not within a Document");
  const n2 = q2(e2.ownerDocument.styleSheets), r3 = await Si2(n2, t3);
  return Ci2(r3);
}
function Et3(e2) {
  return e2.trim().replace(/["']/g, "");
}
function xi2(e2) {
  const t3 = /* @__PURE__ */ new Set();
  function n2(r3) {
    (r3.style.fontFamily || getComputedStyle(r3).fontFamily).split(",").forEach((i10) => {
      t3.add(Et3(i10));
    }), Array.from(r3.children).forEach((i10) => {
      i10 instanceof HTMLElement && n2(i10);
    });
  }
  return n2(e2), t3;
}
async function bi2(e2, t3) {
  const n2 = await Mi2(e2, t3), r3 = xi2(e2);
  return (await Promise.all(n2.filter((i10) => r3.has(Et3(i10.style.fontFamily))).map((i10) => {
    const s2 = i10.parentStyleSheet ? i10.parentStyleSheet.href : null;
    return bt3(i10.cssText, s2, t3);
  }))).join(`
`);
}
async function Di2(e2, t3) {
  const n2 = t3.fontEmbedCSS != null ? t3.fontEmbedCSS : t3.skipFonts ? null : await bi2(e2, t3);
  if (n2) {
    const r3 = document.createElement("style"), o2 = document.createTextNode(n2);
    r3.appendChild(o2), e2.firstChild ? e2.insertBefore(r3, e2.firstChild) : e2.appendChild(r3);
  }
}
async function Ei2(e2, t3 = {}) {
  const { width: n2, height: r3 } = Tt2(e2, t3), o2 = await ye2(e2, t3, true);
  return await Di2(o2, t3), await Dt3(o2, t3), Ti2(o2, t3), await Vr2(o2, n2, r3);
}
async function vt3(e2, t3 = {}) {
  const { width: n2, height: r3 } = Tt2(e2, t3), o2 = await Ei2(e2, t3), i10 = await me2(o2), s2 = document.createElement("canvas"), a2 = s2.getContext("2d"), c2 = t3.pixelRatio || Yr2(), h3 = t3.canvasWidth || n2, m3 = t3.canvasHeight || r3;
  return s2.width = h3 * c2, s2.height = m3 * c2, t3.skipAutoScale || _r2(s2), s2.style.width = `${h3}`, s2.style.height = `${m3}`, t3.backgroundColor && (a2.fillStyle = t3.backgroundColor, a2.fillRect(0, 0, s2.width, s2.height)), a2.drawImage(i10, 0, 0, s2.width, s2.height), s2;
}
async function vi2(e2, t3 = {}) {
  return (await vt3(e2, t3)).toDataURL();
}
async function Ui2(e2, t3 = {}) {
  return (await vt3(e2, t3)).toDataURL("image/jpeg", t3.quality || 1);
}
var Ut3 = class {
  constructor(t3, n2) {
    this.model = t3, this.services = n2, this.init();
  }
  init() {
  }
  update() {
  }
  // Used to pass down information to the components
  setModel(t3) {
    this.model = t3;
  }
  // Used to pass down services to the components
  setServices(t3) {
    this.services = t3;
  }
};
var Fi2 = "DONT_STYLE_ME_css_styles_verifier";
var ve2 = class _ve extends Ut3 {
  // initialized in initializeID() called by init()
  constructor(t3, n2) {
    super(t3, n2);
  }
  static getHTMLElementSize(t3) {
    return {
      width: t3.clientWidth,
      height: t3.clientHeight
    };
  }
  static getSVGElementSize(t3, n2 = {
    useAttrs: false,
    useClientDimensions: false,
    useBBox: false,
    useBoundingRect: false
  }) {
    t3.attr || (t3 = D3(t3));
    const r3 = {
      width: 0,
      height: 0
    }, o2 = (g3) => {
      g3 && Object.keys(r3).forEach((T4) => {
        if (g3[T4]) {
          const M4 = g3[T4], U3 = parseFloat(M4);
          M4 && U3 > r3[T4] && ("" + M4).indexOf("%") === -1 && (r3[T4] = U3);
        }
      });
    }, i10 = {
      width: t3.attr("width"),
      height: t3.attr("height")
    }, s2 = t3.node();
    let a2, c2, h3, m3;
    try {
      typeof s2.getBBox == "function" && (a2 = s2.getBBox(), c2 = {
        width: a2.width,
        height: a2.height
      });
    } catch (g3) {
      console.error(g3);
    }
    try {
      typeof (s2 == null ? void 0 : s2.getBoundingClientRect) == "function" && (h3 = s2.getBoundingClientRect(), m3 = {
        width: h3.width,
        height: h3.height
      });
    } catch (g3) {
      console.error(g3);
    }
    let d2;
    if (s2 instanceof SVGSVGElement && (d2 = {
      width: s2.clientWidth,
      height: s2.clientHeight
    }), n2) {
      if (n2.useAttrs && (o2(i10), r3.width > 0 && r3.height > 0))
        return r3;
      if (n2.useClientDimensions && (o2(d2), r3.width > 0 && r3.height > 0))
        return d2;
      if (n2.useBBox && (o2(c2), r3.width > 0 && r3.height > 0))
        return c2;
      if (n2.useBoundingRect && (o2(m3), r3.width > 0 && r3.height > 0))
        return m3;
    }
    try {
      const g3 = {
        width: rt(t3.node(), "width", "baseVal", "value"),
        height: rt(t3.node(), "height", "baseVal", "value")
      };
      o2(g3);
    } catch {
      o2(d2), o2(c2), o2(i10);
    }
    return r3;
  }
  static appendOrSelect(t3, n2) {
    const r3 = t3.select(`${n2}`);
    if (r3.empty()) {
      let o2 = n2.split("#"), i10, s2;
      return o2.length === 2 ? (i10 = o2[0], o2 = o2[1].split("."), s2 = o2[0]) : (o2 = n2.split("."), i10 = o2[0]), t3.append(i10).attr("id", s2).attr("class", o2.slice(1).join(" "));
    }
    return r3;
  }
  init() {
    this.initializeID(), this.styleHolderElement(), this.addMainContainer(), this.model.getOptions().resizable && this.addResizeListener(), this.addHolderListeners(), this.handleFullscreenChange();
  }
  getChartID() {
    return this.chartID;
  }
  getElementOffset(t3, n2 = false) {
    const r3 = { left: 0, top: 0 }, o2 = t3.getBoundingClientRect(), i10 = n2 ? { left: 0, top: 0 } : this.getHolder().getBoundingClientRect();
    try {
      r3.left = o2.left - i10.left, r3.top = o2.top - i10.top;
    } catch (s2) {
      console.error(s2);
    }
    return r3;
  }
  generateElementIDString(t3) {
    return `chart-${this.chartID}-${t3}`;
  }
  initializeID() {
    this.chartID = Math.floor((1 + Math.random()) * 281474976710656).toString(16);
  }
  addMainContainer() {
    const t3 = this.model.getOptions(), n2 = rt(t3, "style", "prefix"), r3 = D3(this.getHolder()).append("div").classed(`${bm}--${n2}--chart-wrapper`, true).attr("id", `chart-${this.getChartID()}`).style("height", "100%").style("width", "100%");
    r3.append("g").attr("class", Fi2), this.mainContainer = r3.node();
  }
  update() {
    this.styleHolderElement();
  }
  styleHolderElement() {
    const t3 = this.getHolder(), { width: n2, height: r3, theme: o2 } = this.model.getOptions();
    n2 !== this.width && (t3.style.width = n2, this.width = n2), r3 !== this.height && (t3.style.height = r3, this.height = r3), D3(this.getHolder()).classed(`${bm}--chart-holder`, true).attr("data-carbon-theme", o2);
  }
  getHolder() {
    return this.model.get("holder");
  }
  exportToJPG() {
    const t3 = this, n2 = this.model.getOptions(), r3 = this.getHolder(), o2 = D3(r3);
    o2.classed("filled", true), Ui2(this.getMainContainer(), {
      quality: 1,
      // Remove toolbar
      filter: (i10) => !(i10.classList && i10.classList.contains("cds--cc--toolbar"))
    }).then(function(i10) {
      var c2;
      let s2 = "myChart";
      const a2 = rt(n2, "fileDownload", "fileName");
      typeof a2 == "function" ? s2 = a2("jpg") : typeof a2 == "string" && (s2 = a2), (c2 = t3.services.files) == null || c2.downloadImage(i10, `${s2}.jpg`), o2.classed("filled", false);
    });
  }
  exportToPNG() {
    const t3 = this, n2 = this.model.getOptions(), r3 = this.getHolder(), o2 = D3(r3);
    o2.classed("filled", true), vi2(this.getMainContainer(), {
      quality: 1,
      // Remove toolbar
      filter: (i10) => !(i10.classList && i10.classList.contains("cds--cc--toolbar"))
    }).then(function(i10) {
      var c2;
      let s2 = "myChart";
      const a2 = rt(n2, "fileDownload", "fileName");
      typeof a2 == "function" ? s2 = a2("png") : typeof a2 == "string" && (s2 = a2), (c2 = t3.services.files) == null || c2.downloadImage(i10, `${s2}.png`), o2.classed("filled", false);
    }).catch(function(i10) {
      console.error("oops, something went wrong!", i10);
    });
  }
  isFullScreenMode() {
    return D3(this.getHolder()).classed("fullscreen");
  }
  toggleFullscreen() {
    const t3 = this.getHolder();
    D3(t3).classed("fullscreen") && (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement) ? document.exitFullscreen ? document.exitFullscreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.msExitFullscreen && document.msExitFullscreen() : t3.requestFullscreen ? t3.requestFullscreen() : t3.webkitRequestFullscreen ? t3.webkitRequestFullscreen() : t3.mozRequestFullScreen ? t3.mozRequestFullScreen() : t3.msRequestFullscreen && t3.msRequestFullscreen();
  }
  handleFullscreenChange() {
    document.addEventListener("fullscreenchange", () => {
      const t3 = D3(this.getHolder()), n2 = t3.classed("fullscreen");
      t3.classed("fullscreen", !n2);
    });
  }
  setSVGMaxHeight() {
    if (!this.model.getOptions().height) {
      const { height: t3 } = _ve.getSVGElementSize(
        D3(this.mainContainer),
        {
          useBBox: true
        }
      ), n2 = D3(this.mainContainer).attr("class"), r3 = D3(this.mainContainer).selectAll(`.${n2} > svg`);
      let o2 = 0;
      r3.nodes().forEach(function(i10) {
        o2 += Number(
          _ve.getSVGElementSize(D3(i10), {
            useBBox: true
          }).height
        );
      }), o2 <= t3 ? D3(this.mainContainer).attr("height", o2) : D3(this.mainContainer).attr("height", "100%");
    }
  }
  getMainContainer() {
    return this.mainContainer;
  }
  addHolderListeners() {
    const t3 = this.getHolder();
    t3 && D3(t3).on("mouseover", () => {
      var n2;
      (n2 = this.services.events) == null || n2.dispatchEvent(_E.Chart.MOUSEOVER);
    }).on("mouseout", () => {
      var n2;
      (n2 = this.services.events) == null || n2.dispatchEvent(_E.Chart.MOUSEOUT);
    });
  }
  addResizeListener() {
    const t3 = this.getHolder();
    if (!t3)
      return;
    let n2 = t3.clientWidth, r3 = t3.clientHeight;
    const o2 = mn2(() => {
      var s2;
      t3 && (Math.abs(n2 - t3.clientWidth) > 1 || Math.abs(r3 - t3.clientHeight) > 1) && (n2 = t3.clientWidth, r3 = t3.clientHeight, (s2 = this.services.events) == null || s2.dispatchEvent(_E.Chart.RESIZE));
    }, 12.5);
    new ResizeObserver(o2).observe(t3);
  }
};
var Ft3 = class _Ft extends Ut3 {
  static appendOrUpdateLinearGradient(t3) {
    let n2 = t3.svg.select(`defs linearGradient#${t3.id}`);
    n2.empty() && (n2 = t3.svg.append("defs").append("linearGradient").attr("id", t3.id).attr("x1", t3.x1).attr("x2", t3.x2).attr("y1", t3.y1).attr("y2", t3.y2)), n2.selectAll("stop").remove(), n2.selectAll("stop").data(t3.stops).enter().append("stop").attr("offset", (r3) => r3.offset).style("stop-color", (r3) => r3.color).style("stop-opacity", (r3) => r3.opacity);
  }
  static getOffsetRatio(t3) {
    return (Math.abs(t3[1]) * 100 / Math.abs(t3[0] - t3[1])).toFixed(2) + "%";
  }
  static getStops(t3, n2) {
    const r3 = t3[0] < 0 && t3[1] > 0;
    let o2 = [
      {
        offset: "0%",
        color: n2,
        opacity: "0.6"
      },
      {
        offset: "80%",
        color: n2,
        opacity: "0"
      }
    ];
    return r3 && (o2 = [
      {
        offset: "0%",
        color: n2,
        opacity: "0.6"
      },
      {
        offset: _Ft.getOffsetRatio(t3),
        color: n2,
        opacity: "0"
      },
      {
        offset: "100%",
        color: n2,
        opacity: "0.6"
      }
    ]), o2;
  }
};
function ji2(e2) {
  const t3 = Ri2(Li2(e2), 360);
  return z3(t3, [0, 10]) || z3(t3, [350, 0]) ? {
    textAnchor: x.START,
    dominantBaseline: J.MIDDLE
  } : z3(t3, [10, 80]) ? {
    textAnchor: x.START,
    dominantBaseline: J.HANGING
  } : z3(t3, [80, 100]) ? {
    textAnchor: x.MIDDLE,
    dominantBaseline: J.HANGING
  } : z3(t3, [100, 170]) ? {
    textAnchor: x.END,
    dominantBaseline: J.HANGING
  } : z3(t3, [170, 190]) ? {
    textAnchor: x.END,
    dominantBaseline: J.MIDDLE
  } : z3(t3, [190, 260]) ? {
    textAnchor: x.END,
    dominantBaseline: J.BASELINE
  } : z3(t3, [260, 280]) ? {
    textAnchor: x.MIDDLE,
    dominantBaseline: J.BASELINE
  } : {
    textAnchor: x.START,
    dominantBaseline: J.BASELINE
  };
}
function Ri2(e2, t3) {
  return (e2 % t3 + t3) % t3;
}
function z3(e2, [t3, n2]) {
  return e2 >= t3 && e2 <= n2;
}
function Li2(e2) {
  return e2 * (180 / Math.PI);
}
function Zi2(e2) {
  return e2 * (Math.PI / 180);
}
function Xi2(e2, t3, n2 = { x: 0, y: 0 }) {
  const r3 = t3 * Math.cos(e2) + n2.x, o2 = t3 * Math.sin(e2) + n2.y;
  return { x: isNaN(r3) ? 0 : r3, y: isNaN(o2) ? 0 : o2 };
}
function Qi2(e2, t3) {
  return t3 * Math.sin(e2 - Math.PI / 2);
}

// node_modules/@carbon/charts/dist/choropleth-r6V_Qswb.mjs
function Cl2(i10, t3, e2, n2) {
  for (var s2 = -1, a2 = i10 == null ? 0 : i10.length; ++s2 < a2; )
    e2 = t3(e2, i10[s2], s2, i10);
  return e2;
}
function kl2(i10) {
  return function(t3) {
    return i10 == null ? void 0 : i10[t3];
  };
}
var _l2 = {
  // Latin-1 Supplement block.
  À: "A",
  Á: "A",
  Â: "A",
  Ã: "A",
  Ä: "A",
  Å: "A",
  à: "a",
  á: "a",
  â: "a",
  ã: "a",
  ä: "a",
  å: "a",
  Ç: "C",
  ç: "c",
  Ð: "D",
  ð: "d",
  È: "E",
  É: "E",
  Ê: "E",
  Ë: "E",
  è: "e",
  é: "e",
  ê: "e",
  ë: "e",
  Ì: "I",
  Í: "I",
  Î: "I",
  Ï: "I",
  ì: "i",
  í: "i",
  î: "i",
  ï: "i",
  Ñ: "N",
  ñ: "n",
  Ò: "O",
  Ó: "O",
  Ô: "O",
  Õ: "O",
  Ö: "O",
  Ø: "O",
  ò: "o",
  ó: "o",
  ô: "o",
  õ: "o",
  ö: "o",
  ø: "o",
  Ù: "U",
  Ú: "U",
  Û: "U",
  Ü: "U",
  ù: "u",
  ú: "u",
  û: "u",
  ü: "u",
  Ý: "Y",
  ý: "y",
  ÿ: "y",
  Æ: "Ae",
  æ: "ae",
  Þ: "Th",
  þ: "th",
  ß: "ss",
  // Latin Extended-A block.
  Ā: "A",
  Ă: "A",
  Ą: "A",
  ā: "a",
  ă: "a",
  ą: "a",
  Ć: "C",
  Ĉ: "C",
  Ċ: "C",
  Č: "C",
  ć: "c",
  ĉ: "c",
  ċ: "c",
  č: "c",
  Ď: "D",
  Đ: "D",
  ď: "d",
  đ: "d",
  Ē: "E",
  Ĕ: "E",
  Ė: "E",
  Ę: "E",
  Ě: "E",
  ē: "e",
  ĕ: "e",
  ė: "e",
  ę: "e",
  ě: "e",
  Ĝ: "G",
  Ğ: "G",
  Ġ: "G",
  Ģ: "G",
  ĝ: "g",
  ğ: "g",
  ġ: "g",
  ģ: "g",
  Ĥ: "H",
  Ħ: "H",
  ĥ: "h",
  ħ: "h",
  Ĩ: "I",
  Ī: "I",
  Ĭ: "I",
  Į: "I",
  İ: "I",
  ĩ: "i",
  ī: "i",
  ĭ: "i",
  į: "i",
  ı: "i",
  Ĵ: "J",
  ĵ: "j",
  Ķ: "K",
  ķ: "k",
  ĸ: "k",
  Ĺ: "L",
  Ļ: "L",
  Ľ: "L",
  Ŀ: "L",
  Ł: "L",
  ĺ: "l",
  ļ: "l",
  ľ: "l",
  ŀ: "l",
  ł: "l",
  Ń: "N",
  Ņ: "N",
  Ň: "N",
  Ŋ: "N",
  ń: "n",
  ņ: "n",
  ň: "n",
  ŋ: "n",
  Ō: "O",
  Ŏ: "O",
  Ő: "O",
  ō: "o",
  ŏ: "o",
  ő: "o",
  Ŕ: "R",
  Ŗ: "R",
  Ř: "R",
  ŕ: "r",
  ŗ: "r",
  ř: "r",
  Ś: "S",
  Ŝ: "S",
  Ş: "S",
  Š: "S",
  ś: "s",
  ŝ: "s",
  ş: "s",
  š: "s",
  Ţ: "T",
  Ť: "T",
  Ŧ: "T",
  ţ: "t",
  ť: "t",
  ŧ: "t",
  Ũ: "U",
  Ū: "U",
  Ŭ: "U",
  Ů: "U",
  Ű: "U",
  Ų: "U",
  ũ: "u",
  ū: "u",
  ŭ: "u",
  ů: "u",
  ű: "u",
  ų: "u",
  Ŵ: "W",
  ŵ: "w",
  Ŷ: "Y",
  ŷ: "y",
  Ÿ: "Y",
  Ź: "Z",
  Ż: "Z",
  Ž: "Z",
  ź: "z",
  ż: "z",
  ž: "z",
  Ĳ: "IJ",
  ĳ: "ij",
  Œ: "Oe",
  œ: "oe",
  ŉ: "'n",
  ſ: "s"
};
var Il2 = kl2(_l2);
var Rl2 = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;
var Dl2 = "\\u0300-\\u036f";
var Nl2 = "\\ufe20-\\ufe2f";
var Pl2 = "\\u20d0-\\u20ff";
var $l2 = Dl2 + Nl2 + Pl2;
var Vl2 = "[" + $l2 + "]";
var Gl2 = RegExp(Vl2, "g");
function Hl2(i10) {
  return i10 = Ou(i10), i10 && i10.replace(Rl2, Il2).replace(Gl2, "");
}
var Bl2 = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;
function zl2(i10) {
  return i10.match(Bl2) || [];
}
var Ul2 = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;
function Fl2(i10) {
  return Ul2.test(i10);
}
var Zr3 = "\\ud800-\\udfff";
var Wl2 = "\\u0300-\\u036f";
var Xl2 = "\\ufe20-\\ufe2f";
var Yl2 = "\\u20d0-\\u20ff";
var Zl2 = Wl2 + Xl2 + Yl2;
var qr3 = "\\u2700-\\u27bf";
var jr3 = "a-z\\xdf-\\xf6\\xf8-\\xff";
var ql2 = "\\xac\\xb1\\xd7\\xf7";
var jl2 = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf";
var Kl2 = "\\u2000-\\u206f";
var Jl2 = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000";
var Kr3 = "A-Z\\xc0-\\xd6\\xd8-\\xde";
var Ql2 = "\\ufe0e\\ufe0f";
var Jr3 = ql2 + jl2 + Kl2 + Jl2;
var Qr3 = "['’]";
var ka2 = "[" + Jr3 + "]";
var tc2 = "[" + Zl2 + "]";
var to2 = "\\d+";
var ec2 = "[" + qr3 + "]";
var eo2 = "[" + jr3 + "]";
var no2 = "[^" + Zr3 + Jr3 + to2 + qr3 + jr3 + Kr3 + "]";
var nc2 = "\\ud83c[\\udffb-\\udfff]";
var sc2 = "(?:" + tc2 + "|" + nc2 + ")";
var ic2 = "[^" + Zr3 + "]";
var so2 = "(?:\\ud83c[\\udde6-\\uddff]){2}";
var io2 = "[\\ud800-\\udbff][\\udc00-\\udfff]";
var Ye3 = "[" + Kr3 + "]";
var ac2 = "\\u200d";
var _a = "(?:" + eo2 + "|" + no2 + ")";
var rc2 = "(?:" + Ye3 + "|" + no2 + ")";
var Ia2 = "(?:" + Qr3 + "(?:d|ll|m|re|s|t|ve))?";
var Ra2 = "(?:" + Qr3 + "(?:D|LL|M|RE|S|T|VE))?";
var ao2 = sc2 + "?";
var ro2 = "[" + Ql2 + "]?";
var oc2 = "(?:" + ac2 + "(?:" + [ic2, so2, io2].join("|") + ")" + ro2 + ao2 + ")*";
var lc2 = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])";
var cc2 = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])";
var uc2 = ro2 + ao2 + oc2;
var hc2 = "(?:" + [ec2, so2, io2].join("|") + ")" + uc2;
var dc2 = RegExp([
  Ye3 + "?" + eo2 + "+" + Ia2 + "(?=" + [ka2, Ye3, "$"].join("|") + ")",
  rc2 + "+" + Ra2 + "(?=" + [ka2, Ye3 + _a, "$"].join("|") + ")",
  Ye3 + "?" + _a + "+" + Ia2,
  Ye3 + "+" + Ra2,
  cc2,
  lc2,
  to2,
  hc2
].join("|"), "g");
function pc2(i10) {
  return i10.match(dc2) || [];
}
function fc2(i10, t3, e2) {
  return i10 = Ou(i10), t3 = t3, t3 === void 0 ? Fl2(i10) ? pc2(i10) : zl2(i10) : i10.match(t3) || [];
}
var gc2 = "['’]";
var mc2 = RegExp(gc2, "g");
function vc2(i10) {
  return function(t3) {
    return Cl2(fc2(Hl2(t3).replace(mc2, "")), i10, "");
  };
}
function yc2(i10, t3, e2) {
  return i10 === i10 && (e2 !== void 0 && (i10 = i10 <= e2 ? i10 : e2), t3 !== void 0 && (i10 = i10 >= t3 ? i10 : t3)), i10;
}
function oo2(i10, t3, e2) {
  return e2 === void 0 && (e2 = t3, t3 = void 0), e2 !== void 0 && (e2 = _e2(e2), e2 = e2 === e2 ? e2 : 0), t3 !== void 0 && (t3 = _e2(t3), t3 = t3 === t3 ? t3 : 0), yc2(_e2(i10), t3, e2);
}
var Ec2 = "Expected a function";
function xc2(i10, t3, e2) {
  if (typeof i10 != "function")
    throw new TypeError(Ec2);
  return setTimeout(function() {
    i10.apply(void 0, e2);
  }, t3);
}
var Sc2 = Kr(function(i10, t3, e2) {
  return xc2(i10, _e2(t3) || 0, e2);
});
function Tc2(i10, t3) {
  var e2 = -1, n2 = Bt(i10) ? Array(i10.length) : [];
  return p2(i10, function(s2, a2, r3) {
    n2[++e2] = t3(s2, a2, r3);
  }), n2;
}
function bc2(i10, t3) {
  var e2 = $2(i10) ? bo : Tc2;
  return e2(i10, el(t3));
}
var Oc2 = 1 / 0;
function Lc2(i10, t3) {
  return oi(bc2(i10, t3), Oc2);
}
function lo2(i10, t3) {
  return vn(i10, t3);
}
var Ue3 = vc2(function(i10, t3, e2) {
  return i10 + (e2 ? "-" : "") + t3.toLowerCase();
});
function Ac2(i10, t3) {
  var e2;
  return p2(i10, function(n2, s2, a2) {
    return e2 = t3(n2, s2, a2), !e2;
  }), !!e2;
}
function Mc2(i10, t3, e2) {
  var n2 = $2(i10) ? pf : Ac2;
  return n2(i10, el(t3));
}
var De2 = class {
  constructor() {
    this._partials = new Float64Array(32), this._n = 0;
  }
  add(t3) {
    const e2 = this._partials;
    let n2 = 0;
    for (let s2 = 0; s2 < this._n && s2 < 32; s2++) {
      const a2 = e2[s2], r3 = t3 + a2, o2 = Math.abs(t3) < Math.abs(a2) ? t3 - (r3 - a2) : a2 - (r3 - t3);
      o2 && (e2[n2++] = o2), t3 = r3;
    }
    return e2[n2] = t3, this._n = n2 + 1, this;
  }
  valueOf() {
    const t3 = this._partials;
    let e2 = this._n, n2, s2, a2, r3 = 0;
    if (e2 > 0) {
      for (r3 = t3[--e2]; e2 > 0 && (n2 = r3, s2 = t3[--e2], r3 = n2 + s2, a2 = s2 - (r3 - n2), !a2); )
        ;
      e2 > 0 && (a2 < 0 && t3[e2 - 1] < 0 || a2 > 0 && t3[e2 - 1] > 0) && (s2 = a2 * 2, n2 = r3 + s2, s2 == n2 - r3 && (r3 = n2));
    }
    return r3;
  }
};
function* wc2(i10) {
  for (const t3 of i10)
    yield* t3;
}
function co2(i10) {
  return Array.from(wc2(i10));
}
function Cc2(i10) {
  return i10;
}
var is2 = 1;
var as2 = 2;
var fi3 = 3;
var yn3 = 4;
var Da2 = 1e-6;
function kc2(i10) {
  return "translate(" + i10 + ",0)";
}
function _c2(i10) {
  return "translate(0," + i10 + ")";
}
function Ic2(i10) {
  return (t3) => +i10(t3);
}
function Rc2(i10, t3) {
  return t3 = Math.max(0, i10.bandwidth() - t3 * 2) / 2, i10.round() && (t3 = Math.round(t3)), (e2) => +i10(e2) + t3;
}
function Dc2() {
  return !this.__axis;
}
function Ls2(i10, t3) {
  var e2 = [], n2 = null, s2 = null, a2 = 6, r3 = 6, o2 = 3, c2 = typeof window < "u" && window.devicePixelRatio > 1 ? 0 : 0.5, l2 = i10 === is2 || i10 === yn3 ? -1 : 1, h3 = i10 === yn3 || i10 === as2 ? "x" : "y", d2 = i10 === is2 || i10 === fi3 ? kc2 : _c2;
  function u3(p3) {
    var f2 = n2 ?? (t3.ticks ? t3.ticks.apply(t3, e2) : t3.domain()), g3 = s2 ?? (t3.tickFormat ? t3.tickFormat.apply(t3, e2) : Cc2), m3 = Math.max(a2, 0) + o2, y4 = t3.range(), S3 = +y4[0] + c2, v4 = +y4[y4.length - 1] + c2, E = (t3.bandwidth ? Rc2 : Ic2)(t3.copy(), c2), x4 = p3.selection ? p3.selection() : p3, b3 = x4.selectAll(".domain").data([null]), _4 = x4.selectAll(".tick").data(f2, t3).order(), k5 = _4.exit(), G5 = _4.enter().append("g").attr("class", "tick"), R4 = _4.select("line"), A2 = _4.select("text");
    b3 = b3.merge(b3.enter().insert("path", ".tick").attr("class", "domain").attr("stroke", "currentColor")), _4 = _4.merge(G5), R4 = R4.merge(G5.append("line").attr("stroke", "currentColor").attr(h3 + "2", l2 * a2)), A2 = A2.merge(G5.append("text").attr("fill", "currentColor").attr(h3, l2 * m3).attr("dy", i10 === is2 ? "0em" : i10 === fi3 ? "0.71em" : "0.32em")), p3 !== x4 && (b3 = b3.transition(p3), _4 = _4.transition(p3), R4 = R4.transition(p3), A2 = A2.transition(p3), k5 = k5.transition(p3).attr("opacity", Da2).attr("transform", function(H5) {
      return isFinite(H5 = E(H5)) ? d2(H5 + c2) : this.getAttribute("transform");
    }), G5.attr("opacity", Da2).attr("transform", function(H5) {
      var N4 = this.parentNode.__axis;
      return d2((N4 && isFinite(N4 = N4(H5)) ? N4 : E(H5)) + c2);
    })), k5.remove(), b3.attr("d", i10 === yn3 || i10 === as2 ? r3 ? "M" + l2 * r3 + "," + S3 + "H" + c2 + "V" + v4 + "H" + l2 * r3 : "M" + c2 + "," + S3 + "V" + v4 : r3 ? "M" + S3 + "," + l2 * r3 + "V" + c2 + "H" + v4 + "V" + l2 * r3 : "M" + S3 + "," + c2 + "H" + v4), _4.attr("opacity", 1).attr("transform", function(H5) {
      return d2(E(H5) + c2);
    }), R4.attr(h3 + "2", l2 * a2), A2.attr(h3, l2 * m3).text(g3), x4.filter(Dc2).attr("fill", "none").attr("font-size", 10).attr("font-family", "sans-serif").attr("text-anchor", i10 === as2 ? "start" : i10 === yn3 ? "end" : "middle"), x4.each(function() {
      this.__axis = E;
    });
  }
  return u3.scale = function(p3) {
    return arguments.length ? (t3 = p3, u3) : t3;
  }, u3.ticks = function() {
    return e2 = Array.from(arguments), u3;
  }, u3.tickArguments = function(p3) {
    return arguments.length ? (e2 = p3 == null ? [] : Array.from(p3), u3) : e2.slice();
  }, u3.tickValues = function(p3) {
    return arguments.length ? (n2 = p3 == null ? null : Array.from(p3), u3) : n2 && n2.slice();
  }, u3.tickFormat = function(p3) {
    return arguments.length ? (s2 = p3, u3) : s2;
  }, u3.tickSize = function(p3) {
    return arguments.length ? (a2 = r3 = +p3, u3) : a2;
  }, u3.tickSizeInner = function(p3) {
    return arguments.length ? (a2 = +p3, u3) : a2;
  }, u3.tickSizeOuter = function(p3) {
    return arguments.length ? (r3 = +p3, u3) : r3;
  }, u3.tickPadding = function(p3) {
    return arguments.length ? (o2 = +p3, u3) : o2;
  }, u3.offset = function(p3) {
    return arguments.length ? (c2 = +p3, u3) : c2;
  }, u3;
}
function Nc2(i10) {
  return Ls2(is2, i10);
}
function Pc2(i10) {
  return Ls2(as2, i10);
}
function Ui3(i10) {
  return Ls2(fi3, i10);
}
function uo2(i10) {
  return Ls2(yn3, i10);
}
var gi3 = { capture: true, passive: false };
function mi3(i10) {
  i10.preventDefault(), i10.stopImmediatePropagation();
}
function $c2(i10) {
  var t3 = i10.document.documentElement, e2 = D3(i10).on("dragstart.drag", mi3, gi3);
  "onselectstart" in t3 ? e2.on("selectstart.drag", mi3, gi3) : (t3.__noselect = t3.style.MozUserSelect, t3.style.MozUserSelect = "none");
}
function Vc2(i10, t3) {
  var e2 = i10.document.documentElement, n2 = D3(i10).on("dragstart.drag", null);
  t3 && (n2.on("click.drag", mi3, gi3), setTimeout(function() {
    n2.on("click.drag", null);
  }, 0)), "onselectstart" in e2 ? n2.on("selectstart.drag", null) : (e2.style.MozUserSelect = e2.__noselect, delete e2.__noselect);
}
function Gc2(i10, t3) {
  for (var e2 = new Array(t3), n2 = 0; n2 < t3; ++n2) e2[n2] = i10(n2 / (t3 - 1));
  return e2;
}
var Hc2 = (i10) => +i10;
var Us2 = (i10) => () => i10;
function Bc2(i10, {
  sourceEvent: t3,
  target: e2,
  selection: n2,
  mode: s2,
  dispatch: a2
}) {
  Object.defineProperties(this, {
    type: { value: i10, enumerable: true, configurable: true },
    sourceEvent: { value: t3, enumerable: true, configurable: true },
    target: { value: e2, enumerable: true, configurable: true },
    selection: { value: n2, enumerable: true, configurable: true },
    mode: { value: s2, enumerable: true, configurable: true },
    _: { value: a2 }
  });
}
function zc2(i10) {
  i10.stopImmediatePropagation();
}
function Fs2(i10) {
  i10.preventDefault(), i10.stopImmediatePropagation();
}
var Na2 = { name: "drag" };
var Ws2 = { name: "space" };
var Fe3 = { name: "handle" };
var We2 = { name: "center" };
var { abs: Pa2, max: Dt4, min: Nt2 } = Math;
function $a2(i10) {
  return [+i10[0], +i10[1]];
}
function Va2(i10) {
  return [$a2(i10[0]), $a2(i10[1])];
}
var rs2 = {
  name: "x",
  handles: ["w", "e"].map(vi3),
  input: function(i10, t3) {
    return i10 == null ? null : [[+i10[0], t3[0][1]], [+i10[1], t3[1][1]]];
  },
  output: function(i10) {
    return i10 && [i10[0][0], i10[1][0]];
  }
};
var Xs2 = {};
var fe3 = {
  overlay: "crosshair",
  selection: "move",
  n: "ns-resize",
  e: "ew-resize",
  s: "ns-resize",
  w: "ew-resize",
  nw: "nwse-resize",
  ne: "nesw-resize",
  se: "nwse-resize",
  sw: "nesw-resize"
};
var Ga2 = {
  e: "w",
  w: "e",
  nw: "ne",
  ne: "nw",
  se: "sw",
  sw: "se"
};
var Ha2 = {
  n: "s",
  s: "n",
  nw: "sw",
  ne: "se",
  se: "ne",
  sw: "nw"
};
var Uc2 = {
  overlay: 1,
  selection: 1,
  n: null,
  e: 1,
  s: null,
  w: -1,
  nw: -1,
  ne: 1,
  se: 1,
  sw: -1
};
var Fc2 = {
  overlay: 1,
  selection: 1,
  n: -1,
  e: null,
  s: 1,
  w: null,
  nw: -1,
  ne: -1,
  se: 1,
  sw: 1
};
function vi3(i10) {
  return { type: i10 };
}
function Wc2(i10) {
  return !i10.ctrlKey && !i10.button;
}
function Xc2() {
  var i10 = this.ownerSVGElement || this;
  return i10.hasAttribute("viewBox") ? (i10 = i10.viewBox.baseVal, [[i10.x, i10.y], [i10.x + i10.width, i10.y + i10.height]]) : [[0, 0], [i10.width.baseVal.value, i10.height.baseVal.value]];
}
function Yc2() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function Ys2(i10) {
  for (; !i10.__brush; ) if (!(i10 = i10.parentNode)) return;
  return i10.__brush;
}
function Zc2(i10) {
  return i10[0][0] === i10[1][0] || i10[0][1] === i10[1][1];
}
function ho2() {
  return qc2(rs2);
}
function qc2(i10) {
  var t3 = Xc2, e2 = Wc2, n2 = Yc2, s2 = true, a2 = Ai("start", "brush", "end"), r3 = 6, o2;
  function c2(m3) {
    var y4 = m3.property("__brush", g3).selectAll(".overlay").data([vi3("overlay")]);
    y4.enter().append("rect").attr("class", "overlay").attr("pointer-events", "all").attr("cursor", fe3.overlay).merge(y4).each(function() {
      var v4 = Ys2(this).extent;
      D3(this).attr("x", v4[0][0]).attr("y", v4[0][1]).attr("width", v4[1][0] - v4[0][0]).attr("height", v4[1][1] - v4[0][1]);
    }), m3.selectAll(".selection").data([vi3("selection")]).enter().append("rect").attr("class", "selection").attr("cursor", fe3.selection).attr("fill", "#777").attr("fill-opacity", 0.3).attr("stroke", "#fff").attr("shape-rendering", "crispEdges");
    var S3 = m3.selectAll(".handle").data(i10.handles, function(v4) {
      return v4.type;
    });
    S3.exit().remove(), S3.enter().append("rect").attr("class", function(v4) {
      return "handle handle--" + v4.type;
    }).attr("cursor", function(v4) {
      return fe3[v4.type];
    }), m3.each(l2).attr("fill", "none").attr("pointer-events", "all").on("mousedown.brush", u3).filter(n2).on("touchstart.brush", u3).on("touchmove.brush", p3).on("touchend.brush touchcancel.brush", f2).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  c2.move = function(m3, y4, S3) {
    m3.tween ? m3.on("start.brush", function(v4) {
      h3(this, arguments).beforestart().start(v4);
    }).on("interrupt.brush end.brush", function(v4) {
      h3(this, arguments).end(v4);
    }).tween("brush", function() {
      var v4 = this, E = v4.__brush, x4 = h3(v4, arguments), b3 = E.selection, _4 = i10.input(typeof y4 == "function" ? y4.apply(this, arguments) : y4, E.extent), k5 = An(b3, _4);
      function G5(R4) {
        E.selection = R4 === 1 && _4 === null ? null : k5(R4), l2.call(v4), x4.brush();
      }
      return b3 !== null && _4 !== null ? G5 : G5(1);
    }) : m3.each(function() {
      var v4 = this, E = arguments, x4 = v4.__brush, b3 = i10.input(typeof y4 == "function" ? y4.apply(v4, E) : y4, x4.extent), _4 = h3(v4, E).beforestart();
      Ud(v4), x4.selection = b3 === null ? null : b3, l2.call(v4), _4.start(S3).brush(S3).end(S3);
    });
  }, c2.clear = function(m3, y4) {
    c2.move(m3, null, y4);
  };
  function l2() {
    var m3 = D3(this), y4 = Ys2(this).selection;
    y4 ? (m3.selectAll(".selection").style("display", null).attr("x", y4[0][0]).attr("y", y4[0][1]).attr("width", y4[1][0] - y4[0][0]).attr("height", y4[1][1] - y4[0][1]), m3.selectAll(".handle").style("display", null).attr("x", function(S3) {
      return S3.type[S3.type.length - 1] === "e" ? y4[1][0] - r3 / 2 : y4[0][0] - r3 / 2;
    }).attr("y", function(S3) {
      return S3.type[0] === "s" ? y4[1][1] - r3 / 2 : y4[0][1] - r3 / 2;
    }).attr("width", function(S3) {
      return S3.type === "n" || S3.type === "s" ? y4[1][0] - y4[0][0] + r3 : r3;
    }).attr("height", function(S3) {
      return S3.type === "e" || S3.type === "w" ? y4[1][1] - y4[0][1] + r3 : r3;
    })) : m3.selectAll(".selection,.handle").style("display", "none").attr("x", null).attr("y", null).attr("width", null).attr("height", null);
  }
  function h3(m3, y4, S3) {
    var v4 = m3.__brush.emitter;
    return v4 && (!S3 || !v4.clean) ? v4 : new d2(m3, y4, S3);
  }
  function d2(m3, y4, S3) {
    this.that = m3, this.args = y4, this.state = m3.__brush, this.active = 0, this.clean = S3;
  }
  d2.prototype = {
    beforestart: function() {
      return ++this.active === 1 && (this.state.emitter = this, this.starting = true), this;
    },
    start: function(m3, y4) {
      return this.starting ? (this.starting = false, this.emit("start", m3, y4)) : this.emit("brush", m3), this;
    },
    brush: function(m3, y4) {
      return this.emit("brush", m3, y4), this;
    },
    end: function(m3, y4) {
      return --this.active === 0 && (delete this.state.emitter, this.emit("end", m3, y4)), this;
    },
    emit: function(m3, y4, S3) {
      var v4 = D3(this.that).datum();
      a2.call(
        m3,
        this.that,
        new Bc2(m3, {
          sourceEvent: y4,
          target: c2,
          selection: i10.output(this.state.selection),
          mode: S3,
          dispatch: a2
        }),
        v4
      );
    }
  };
  function u3(m3) {
    if (o2 && !m3.touches || !e2.apply(this, arguments)) return;
    var y4 = this, S3 = m3.target.__data__.type, v4 = (s2 && m3.metaKey ? S3 = "overlay" : S3) === "selection" ? Na2 : s2 && m3.altKey ? We2 : Fe3, E = i10 === Xs2 ? null : Uc2[S3], x4 = i10 === rs2 ? null : Fc2[S3], b3 = Ys2(y4), _4 = b3.extent, k5 = b3.selection, G5 = _4[0][0], R4, A2, H5 = _4[0][1], N4, M4, O3 = _4[1][0], P3, $4, C3 = _4[1][1], V5, q4, X6 = 0, F4 = 0, Z5, rt5 = E && x4 && s2 && m3.shiftKey, j5, Y6, K5 = Array.from(m3.touches || [m3], (et4) => {
      const yt5 = et4.identifier;
      return et4 = dd(et4, y4), et4.point0 = et4.slice(), et4.identifier = yt5, et4;
    });
    Ud(y4);
    var ot5 = h3(y4, arguments, true).beforestart();
    if (S3 === "overlay") {
      k5 && (Z5 = true);
      const et4 = [K5[0], K5[1] || K5[0]];
      b3.selection = k5 = [[
        R4 = i10 === Xs2 ? G5 : Nt2(et4[0][0], et4[1][0]),
        N4 = i10 === rs2 ? H5 : Nt2(et4[0][1], et4[1][1])
      ], [
        P3 = i10 === Xs2 ? O3 : Dt4(et4[0][0], et4[1][0]),
        V5 = i10 === rs2 ? C3 : Dt4(et4[0][1], et4[1][1])
      ]], K5.length > 1 && z5(m3);
    } else
      R4 = k5[0][0], N4 = k5[0][1], P3 = k5[1][0], V5 = k5[1][1];
    A2 = R4, M4 = N4, $4 = P3, q4 = V5;
    var ct5 = D3(y4).attr("pointer-events", "none"), st4 = ct5.selectAll(".overlay").attr("cursor", fe3[S3]);
    if (m3.touches)
      ot5.moved = B5, ot5.ended = U3;
    else {
      var it5 = D3(m3.view).on("mousemove.brush", B5, true).on("mouseup.brush", U3, true);
      s2 && it5.on("keydown.brush", Mt4, true).on("keyup.brush", Se3, true), $c2(m3.view);
    }
    l2.call(y4), ot5.start(m3, v4.name);
    function B5(et4) {
      for (const yt5 of et4.changedTouches || [et4])
        for (const Zt of K5)
          Zt.identifier === yt5.identifier && (Zt.cur = dd(yt5, y4));
      if (rt5 && !j5 && !Y6 && K5.length === 1) {
        const yt5 = K5[0];
        Pa2(yt5.cur[0] - yt5[0]) > Pa2(yt5.cur[1] - yt5[1]) ? Y6 = true : j5 = true;
      }
      for (const yt5 of K5)
        yt5.cur && (yt5[0] = yt5.cur[0], yt5[1] = yt5.cur[1]);
      Z5 = true, Fs2(et4), z5(et4);
    }
    function z5(et4) {
      const yt5 = K5[0], Zt = yt5.point0;
      var Wt2;
      switch (X6 = yt5[0] - Zt[0], F4 = yt5[1] - Zt[1], v4) {
        case Ws2:
        case Na2: {
          E && (X6 = Dt4(G5 - R4, Nt2(O3 - P3, X6)), A2 = R4 + X6, $4 = P3 + X6), x4 && (F4 = Dt4(H5 - N4, Nt2(C3 - V5, F4)), M4 = N4 + F4, q4 = V5 + F4);
          break;
        }
        case Fe3: {
          K5[1] ? (E && (A2 = Dt4(G5, Nt2(O3, K5[0][0])), $4 = Dt4(G5, Nt2(O3, K5[1][0])), E = 1), x4 && (M4 = Dt4(H5, Nt2(C3, K5[0][1])), q4 = Dt4(H5, Nt2(C3, K5[1][1])), x4 = 1)) : (E < 0 ? (X6 = Dt4(G5 - R4, Nt2(O3 - R4, X6)), A2 = R4 + X6, $4 = P3) : E > 0 && (X6 = Dt4(G5 - P3, Nt2(O3 - P3, X6)), A2 = R4, $4 = P3 + X6), x4 < 0 ? (F4 = Dt4(H5 - N4, Nt2(C3 - N4, F4)), M4 = N4 + F4, q4 = V5) : x4 > 0 && (F4 = Dt4(H5 - V5, Nt2(C3 - V5, F4)), M4 = N4, q4 = V5 + F4));
          break;
        }
        case We2: {
          E && (A2 = Dt4(G5, Nt2(O3, R4 - X6 * E)), $4 = Dt4(G5, Nt2(O3, P3 + X6 * E))), x4 && (M4 = Dt4(H5, Nt2(C3, N4 - F4 * x4)), q4 = Dt4(H5, Nt2(C3, V5 + F4 * x4)));
          break;
        }
      }
      $4 < A2 && (E *= -1, Wt2 = R4, R4 = P3, P3 = Wt2, Wt2 = A2, A2 = $4, $4 = Wt2, S3 in Ga2 && st4.attr("cursor", fe3[S3 = Ga2[S3]])), q4 < M4 && (x4 *= -1, Wt2 = N4, N4 = V5, V5 = Wt2, Wt2 = M4, M4 = q4, q4 = Wt2, S3 in Ha2 && st4.attr("cursor", fe3[S3 = Ha2[S3]])), b3.selection && (k5 = b3.selection), j5 && (A2 = k5[0][0], $4 = k5[1][0]), Y6 && (M4 = k5[0][1], q4 = k5[1][1]), (k5[0][0] !== A2 || k5[0][1] !== M4 || k5[1][0] !== $4 || k5[1][1] !== q4) && (b3.selection = [[A2, M4], [$4, q4]], l2.call(y4), ot5.brush(et4, v4.name));
    }
    function U3(et4) {
      if (zc2(et4), et4.touches) {
        if (et4.touches.length) return;
        o2 && clearTimeout(o2), o2 = setTimeout(function() {
          o2 = null;
        }, 500);
      } else
        Vc2(et4.view, Z5), it5.on("keydown.brush keyup.brush mousemove.brush mouseup.brush", null);
      ct5.attr("pointer-events", "all"), st4.attr("cursor", fe3.overlay), b3.selection && (k5 = b3.selection), Zc2(k5) && (b3.selection = null, l2.call(y4)), ot5.end(et4, v4.name);
    }
    function Mt4(et4) {
      switch (et4.keyCode) {
        case 16: {
          rt5 = E && x4;
          break;
        }
        case 18: {
          v4 === Fe3 && (E && (P3 = $4 - X6 * E, R4 = A2 + X6 * E), x4 && (V5 = q4 - F4 * x4, N4 = M4 + F4 * x4), v4 = We2, z5(et4));
          break;
        }
        case 32: {
          (v4 === Fe3 || v4 === We2) && (E < 0 ? P3 = $4 - X6 : E > 0 && (R4 = A2 - X6), x4 < 0 ? V5 = q4 - F4 : x4 > 0 && (N4 = M4 - F4), v4 = Ws2, st4.attr("cursor", fe3.selection), z5(et4));
          break;
        }
        default:
          return;
      }
      Fs2(et4);
    }
    function Se3(et4) {
      switch (et4.keyCode) {
        case 16: {
          rt5 && (j5 = Y6 = rt5 = false, z5(et4));
          break;
        }
        case 18: {
          v4 === We2 && (E < 0 ? P3 = $4 : E > 0 && (R4 = A2), x4 < 0 ? V5 = q4 : x4 > 0 && (N4 = M4), v4 = Fe3, z5(et4));
          break;
        }
        case 32: {
          v4 === Ws2 && (et4.altKey ? (E && (P3 = $4 - X6 * E, R4 = A2 + X6 * E), x4 && (V5 = q4 - F4 * x4, N4 = M4 + F4 * x4), v4 = We2) : (E < 0 ? P3 = $4 : E > 0 && (R4 = A2), x4 < 0 ? V5 = q4 : x4 > 0 && (N4 = M4), v4 = Fe3), st4.attr("cursor", fe3[S3]), z5(et4));
          break;
        }
        default:
          return;
      }
      Fs2(et4);
    }
  }
  function p3(m3) {
    h3(this, arguments).moved(m3);
  }
  function f2(m3) {
    h3(this, arguments).ended(m3);
  }
  function g3() {
    var m3 = this.__brush || { selection: null };
    return m3.extent = Va2(t3.apply(this, arguments)), m3.dim = i10, m3;
  }
  return c2.extent = function(m3) {
    return arguments.length ? (t3 = typeof m3 == "function" ? m3 : Us2(Va2(m3)), c2) : t3;
  }, c2.filter = function(m3) {
    return arguments.length ? (e2 = typeof m3 == "function" ? m3 : Us2(!!m3), c2) : e2;
  }, c2.touchable = function(m3) {
    return arguments.length ? (n2 = typeof m3 == "function" ? m3 : Us2(!!m3), c2) : n2;
  }, c2.handleSize = function(m3) {
    return arguments.length ? (r3 = +m3, c2) : r3;
  }, c2.keyModifiers = function(m3) {
    return arguments.length ? (s2 = !!m3, c2) : s2;
  }, c2.on = function() {
    var m3 = a2.on.apply(a2, arguments);
    return m3 === a2 ? c2 : m3;
  }, c2;
}
var yi3 = Math.PI;
var Ei3 = 2 * yi3;
var Ce3 = 1e-6;
var jc2 = Ei3 - Ce3;
function po2(i10) {
  this._ += i10[0];
  for (let t3 = 1, e2 = i10.length; t3 < e2; ++t3)
    this._ += arguments[t3] + i10[t3];
}
function Kc2(i10) {
  let t3 = Math.floor(i10);
  if (!(t3 >= 0)) throw new Error(`invalid digits: ${i10}`);
  if (t3 > 15) return po2;
  const e2 = 10 ** t3;
  return function(n2) {
    this._ += n2[0];
    for (let s2 = 1, a2 = n2.length; s2 < a2; ++s2)
      this._ += Math.round(arguments[s2] * e2) / e2 + n2[s2];
  };
}
var Fi3 = class {
  constructor(t3) {
    this._x0 = this._y0 = // start of current subpath
    this._x1 = this._y1 = null, this._ = "", this._append = t3 == null ? po2 : Kc2(t3);
  }
  moveTo(t3, e2) {
    this._append`M${this._x0 = this._x1 = +t3},${this._y0 = this._y1 = +e2}`;
  }
  closePath() {
    this._x1 !== null && (this._x1 = this._x0, this._y1 = this._y0, this._append`Z`);
  }
  lineTo(t3, e2) {
    this._append`L${this._x1 = +t3},${this._y1 = +e2}`;
  }
  quadraticCurveTo(t3, e2, n2, s2) {
    this._append`Q${+t3},${+e2},${this._x1 = +n2},${this._y1 = +s2}`;
  }
  bezierCurveTo(t3, e2, n2, s2, a2, r3) {
    this._append`C${+t3},${+e2},${+n2},${+s2},${this._x1 = +a2},${this._y1 = +r3}`;
  }
  arcTo(t3, e2, n2, s2, a2) {
    if (t3 = +t3, e2 = +e2, n2 = +n2, s2 = +s2, a2 = +a2, a2 < 0) throw new Error(`negative radius: ${a2}`);
    let r3 = this._x1, o2 = this._y1, c2 = n2 - t3, l2 = s2 - e2, h3 = r3 - t3, d2 = o2 - e2, u3 = h3 * h3 + d2 * d2;
    if (this._x1 === null)
      this._append`M${this._x1 = t3},${this._y1 = e2}`;
    else if (u3 > Ce3) if (!(Math.abs(d2 * c2 - l2 * h3) > Ce3) || !a2)
      this._append`L${this._x1 = t3},${this._y1 = e2}`;
    else {
      let p3 = n2 - r3, f2 = s2 - o2, g3 = c2 * c2 + l2 * l2, m3 = p3 * p3 + f2 * f2, y4 = Math.sqrt(g3), S3 = Math.sqrt(u3), v4 = a2 * Math.tan((yi3 - Math.acos((g3 + u3 - m3) / (2 * y4 * S3))) / 2), E = v4 / S3, x4 = v4 / y4;
      Math.abs(E - 1) > Ce3 && this._append`L${t3 + E * h3},${e2 + E * d2}`, this._append`A${a2},${a2},0,0,${+(d2 * p3 > h3 * f2)},${this._x1 = t3 + x4 * c2},${this._y1 = e2 + x4 * l2}`;
    }
  }
  arc(t3, e2, n2, s2, a2, r3) {
    if (t3 = +t3, e2 = +e2, n2 = +n2, r3 = !!r3, n2 < 0) throw new Error(`negative radius: ${n2}`);
    let o2 = n2 * Math.cos(s2), c2 = n2 * Math.sin(s2), l2 = t3 + o2, h3 = e2 + c2, d2 = 1 ^ r3, u3 = r3 ? s2 - a2 : a2 - s2;
    this._x1 === null ? this._append`M${l2},${h3}` : (Math.abs(this._x1 - l2) > Ce3 || Math.abs(this._y1 - h3) > Ce3) && this._append`L${l2},${h3}`, n2 && (u3 < 0 && (u3 = u3 % Ei3 + Ei3), u3 > jc2 ? this._append`A${n2},${n2},0,1,${d2},${t3 - o2},${e2 - c2}A${n2},${n2},0,1,${d2},${this._x1 = l2},${this._y1 = h3}` : u3 > Ce3 && this._append`A${n2},${n2},0,${+(u3 >= yi3)},${d2},${this._x1 = t3 + n2 * Math.cos(a2)},${this._y1 = e2 + n2 * Math.sin(a2)}`);
  }
  rect(t3, e2, n2, s2) {
    this._append`M${this._x0 = this._x1 = +t3},${this._y0 = this._y1 = +e2}h${n2 = +n2}v${+s2}h${-n2}Z`;
  }
  toString() {
    return this._;
  }
};
function As2() {
  return new Fi3();
}
As2.prototype = Fi3.prototype;
var vt4 = 1e-6;
var Jc2 = 1e-12;
var ht4 = Math.PI;
var Ft4 = ht4 / 2;
var Ba2 = ht4 / 4;
var Yt2 = ht4 * 2;
var Vt2 = 180 / ht4;
var Ot3 = ht4 / 180;
var gt4 = Math.abs;
var fo2 = Math.atan;
var Ne3 = Math.atan2;
var mt4 = Math.cos;
var Qc2 = Math.exp;
var tu2 = Math.log;
var ft4 = Math.sin;
var be3 = Math.sign || function(i10) {
  return i10 > 0 ? 1 : i10 < 0 ? -1 : 0;
};
var ae2 = Math.sqrt;
var eu2 = Math.tan;
function nu2(i10) {
  return i10 > 1 ? 0 : i10 < -1 ? ht4 : Math.acos(i10);
}
function xe3(i10) {
  return i10 > 1 ? Ft4 : i10 < -1 ? -Ft4 : Math.asin(i10);
}
function Qt() {
}
function hs2(i10, t3) {
  i10 && Ua2.hasOwnProperty(i10.type) && Ua2[i10.type](i10, t3);
}
var za2 = {
  Feature: function(i10, t3) {
    hs2(i10.geometry, t3);
  },
  FeatureCollection: function(i10, t3) {
    for (var e2 = i10.features, n2 = -1, s2 = e2.length; ++n2 < s2; ) hs2(e2[n2].geometry, t3);
  }
};
var Ua2 = {
  Sphere: function(i10, t3) {
    t3.sphere();
  },
  Point: function(i10, t3) {
    i10 = i10.coordinates, t3.point(i10[0], i10[1], i10[2]);
  },
  MultiPoint: function(i10, t3) {
    for (var e2 = i10.coordinates, n2 = -1, s2 = e2.length; ++n2 < s2; ) i10 = e2[n2], t3.point(i10[0], i10[1], i10[2]);
  },
  LineString: function(i10, t3) {
    xi3(i10.coordinates, t3, 0);
  },
  MultiLineString: function(i10, t3) {
    for (var e2 = i10.coordinates, n2 = -1, s2 = e2.length; ++n2 < s2; ) xi3(e2[n2], t3, 0);
  },
  Polygon: function(i10, t3) {
    Fa2(i10.coordinates, t3);
  },
  MultiPolygon: function(i10, t3) {
    for (var e2 = i10.coordinates, n2 = -1, s2 = e2.length; ++n2 < s2; ) Fa2(e2[n2], t3);
  },
  GeometryCollection: function(i10, t3) {
    for (var e2 = i10.geometries, n2 = -1, s2 = e2.length; ++n2 < s2; ) hs2(e2[n2], t3);
  }
};
function xi3(i10, t3, e2) {
  var n2 = -1, s2 = i10.length - e2, a2;
  for (t3.lineStart(); ++n2 < s2; ) a2 = i10[n2], t3.point(a2[0], a2[1], a2[2]);
  t3.lineEnd();
}
function Fa2(i10, t3) {
  var e2 = -1, n2 = i10.length;
  for (t3.polygonStart(); ++e2 < n2; ) xi3(i10[e2], t3, 1);
  t3.polygonEnd();
}
function Ze3(i10, t3) {
  i10 && za2.hasOwnProperty(i10.type) ? za2[i10.type](i10, t3) : hs2(i10, t3);
}
function Si3(i10) {
  return [Ne3(i10[1], i10[0]), xe3(i10[2])];
}
function sn3(i10) {
  var t3 = i10[0], e2 = i10[1], n2 = mt4(e2);
  return [n2 * mt4(t3), n2 * ft4(t3), ft4(e2)];
}
function Fn2(i10, t3) {
  return i10[0] * t3[0] + i10[1] * t3[1] + i10[2] * t3[2];
}
function ds2(i10, t3) {
  return [i10[1] * t3[2] - i10[2] * t3[1], i10[2] * t3[0] - i10[0] * t3[2], i10[0] * t3[1] - i10[1] * t3[0]];
}
function Zs2(i10, t3) {
  i10[0] += t3[0], i10[1] += t3[1], i10[2] += t3[2];
}
function Wn3(i10, t3) {
  return [i10[0] * t3, i10[1] * t3, i10[2] * t3];
}
function Ti3(i10) {
  var t3 = ae2(i10[0] * i10[0] + i10[1] * i10[1] + i10[2] * i10[2]);
  i10[0] /= t3, i10[1] /= t3, i10[2] /= t3;
}
function bi3(i10, t3) {
  function e2(n2, s2) {
    return n2 = i10(n2, s2), t3(n2[0], n2[1]);
  }
  return i10.invert && t3.invert && (e2.invert = function(n2, s2) {
    return n2 = t3.invert(n2, s2), n2 && i10.invert(n2[0], n2[1]);
  }), e2;
}
function Oi3(i10, t3) {
  return gt4(i10) > ht4 && (i10 -= Math.round(i10 / Yt2) * Yt2), [i10, t3];
}
Oi3.invert = Oi3;
function go2(i10, t3, e2) {
  return (i10 %= Yt2) ? t3 || e2 ? bi3(Xa2(i10), Ya2(t3, e2)) : Xa2(i10) : t3 || e2 ? Ya2(t3, e2) : Oi3;
}
function Wa2(i10) {
  return function(t3, e2) {
    return t3 += i10, gt4(t3) > ht4 && (t3 -= Math.round(t3 / Yt2) * Yt2), [t3, e2];
  };
}
function Xa2(i10) {
  var t3 = Wa2(i10);
  return t3.invert = Wa2(-i10), t3;
}
function Ya2(i10, t3) {
  var e2 = mt4(i10), n2 = ft4(i10), s2 = mt4(t3), a2 = ft4(t3);
  function r3(o2, c2) {
    var l2 = mt4(c2), h3 = mt4(o2) * l2, d2 = ft4(o2) * l2, u3 = ft4(c2), p3 = u3 * e2 + h3 * n2;
    return [
      Ne3(d2 * s2 - p3 * a2, h3 * e2 - u3 * n2),
      xe3(p3 * s2 + d2 * a2)
    ];
  }
  return r3.invert = function(o2, c2) {
    var l2 = mt4(c2), h3 = mt4(o2) * l2, d2 = ft4(o2) * l2, u3 = ft4(c2), p3 = u3 * s2 - d2 * a2;
    return [
      Ne3(d2 * s2 + u3 * a2, h3 * e2 + p3 * n2),
      xe3(p3 * e2 - h3 * n2)
    ];
  }, r3;
}
function su2(i10) {
  i10 = go2(i10[0] * Ot3, i10[1] * Ot3, i10.length > 2 ? i10[2] * Ot3 : 0);
  function t3(e2) {
    return e2 = i10(e2[0] * Ot3, e2[1] * Ot3), e2[0] *= Vt2, e2[1] *= Vt2, e2;
  }
  return t3.invert = function(e2) {
    return e2 = i10.invert(e2[0] * Ot3, e2[1] * Ot3), e2[0] *= Vt2, e2[1] *= Vt2, e2;
  }, t3;
}
function iu2(i10, t3, e2, n2, s2, a2) {
  if (e2) {
    var r3 = mt4(t3), o2 = ft4(t3), c2 = n2 * e2;
    s2 == null ? (s2 = t3 + n2 * Yt2, a2 = t3 - c2 / 2) : (s2 = Za2(r3, s2), a2 = Za2(r3, a2), (n2 > 0 ? s2 < a2 : s2 > a2) && (s2 += n2 * Yt2));
    for (var l2, h3 = s2; n2 > 0 ? h3 > a2 : h3 < a2; h3 -= c2)
      l2 = Si3([r3, -o2 * mt4(h3), -o2 * ft4(h3)]), i10.point(l2[0], l2[1]);
  }
}
function Za2(i10, t3) {
  t3 = sn3(t3), t3[0] -= i10, Ti3(t3);
  var e2 = nu2(-t3[1]);
  return ((-t3[2] < 0 ? -e2 : e2) + Yt2 - vt4) % Yt2;
}
function mo2() {
  var i10 = [], t3;
  return {
    point: function(e2, n2, s2) {
      t3.push([e2, n2, s2]);
    },
    lineStart: function() {
      i10.push(t3 = []);
    },
    lineEnd: Qt,
    rejoin: function() {
      i10.length > 1 && i10.push(i10.pop().concat(i10.shift()));
    },
    result: function() {
      var e2 = i10;
      return i10 = [], t3 = null, e2;
    }
  };
}
function os2(i10, t3) {
  return gt4(i10[0] - t3[0]) < vt4 && gt4(i10[1] - t3[1]) < vt4;
}
function Xn3(i10, t3, e2, n2) {
  this.x = i10, this.z = t3, this.o = e2, this.e = n2, this.v = false, this.n = this.p = null;
}
function vo2(i10, t3, e2, n2, s2) {
  var a2 = [], r3 = [], o2, c2;
  if (i10.forEach(function(f2) {
    if (!((g3 = f2.length - 1) <= 0)) {
      var g3, m3 = f2[0], y4 = f2[g3], S3;
      if (os2(m3, y4)) {
        if (!m3[2] && !y4[2]) {
          for (s2.lineStart(), o2 = 0; o2 < g3; ++o2) s2.point((m3 = f2[o2])[0], m3[1]);
          s2.lineEnd();
          return;
        }
        y4[0] += 2 * vt4;
      }
      a2.push(S3 = new Xn3(m3, f2, null, true)), r3.push(S3.o = new Xn3(m3, null, S3, false)), a2.push(S3 = new Xn3(y4, f2, null, false)), r3.push(S3.o = new Xn3(y4, null, S3, true));
    }
  }), !!a2.length) {
    for (r3.sort(t3), qa2(a2), qa2(r3), o2 = 0, c2 = r3.length; o2 < c2; ++o2)
      r3[o2].e = e2 = !e2;
    for (var l2 = a2[0], h3, d2; ; ) {
      for (var u3 = l2, p3 = true; u3.v; ) if ((u3 = u3.n) === l2) return;
      h3 = u3.z, s2.lineStart();
      do {
        if (u3.v = u3.o.v = true, u3.e) {
          if (p3)
            for (o2 = 0, c2 = h3.length; o2 < c2; ++o2) s2.point((d2 = h3[o2])[0], d2[1]);
          else
            n2(u3.x, u3.n.x, 1, s2);
          u3 = u3.n;
        } else {
          if (p3)
            for (h3 = u3.p.z, o2 = h3.length - 1; o2 >= 0; --o2) s2.point((d2 = h3[o2])[0], d2[1]);
          else
            n2(u3.x, u3.p.x, -1, s2);
          u3 = u3.p;
        }
        u3 = u3.o, h3 = u3.z, p3 = !p3;
      } while (!u3.v);
      s2.lineEnd();
    }
  }
}
function qa2(i10) {
  if (t3 = i10.length) {
    for (var t3, e2 = 0, n2 = i10[0], s2; ++e2 < t3; )
      n2.n = s2 = i10[e2], s2.p = n2, n2 = s2;
    n2.n = s2 = i10[0], s2.p = n2;
  }
}
function qs2(i10) {
  return gt4(i10[0]) <= ht4 ? i10[0] : be3(i10[0]) * ((gt4(i10[0]) + ht4) % Yt2 - ht4);
}
function au2(i10, t3) {
  var e2 = qs2(t3), n2 = t3[1], s2 = ft4(n2), a2 = [ft4(e2), -mt4(e2), 0], r3 = 0, o2 = 0, c2 = new De2();
  s2 === 1 ? n2 = Ft4 + vt4 : s2 === -1 && (n2 = -Ft4 - vt4);
  for (var l2 = 0, h3 = i10.length; l2 < h3; ++l2)
    if (u3 = (d2 = i10[l2]).length)
      for (var d2, u3, p3 = d2[u3 - 1], f2 = qs2(p3), g3 = p3[1] / 2 + Ba2, m3 = ft4(g3), y4 = mt4(g3), S3 = 0; S3 < u3; ++S3, f2 = E, m3 = b3, y4 = _4, p3 = v4) {
        var v4 = d2[S3], E = qs2(v4), x4 = v4[1] / 2 + Ba2, b3 = ft4(x4), _4 = mt4(x4), k5 = E - f2, G5 = k5 >= 0 ? 1 : -1, R4 = G5 * k5, A2 = R4 > ht4, H5 = m3 * b3;
        if (c2.add(Ne3(H5 * G5 * ft4(R4), y4 * _4 + H5 * mt4(R4))), r3 += A2 ? k5 + G5 * Yt2 : k5, A2 ^ f2 >= e2 ^ E >= e2) {
          var N4 = ds2(sn3(p3), sn3(v4));
          Ti3(N4);
          var M4 = ds2(a2, N4);
          Ti3(M4);
          var O3 = (A2 ^ k5 >= 0 ? -1 : 1) * xe3(M4[2]);
          (n2 > O3 || n2 === O3 && (N4[0] || N4[1])) && (o2 += A2 ^ k5 >= 0 ? 1 : -1);
        }
      }
  return (r3 < -1e-6 || r3 < vt4 && c2 < -1e-12) ^ o2 & 1;
}
function yo2(i10, t3, e2, n2) {
  return function(s2) {
    var a2 = t3(s2), r3 = mo2(), o2 = t3(r3), c2 = false, l2, h3, d2, u3 = {
      point: p3,
      lineStart: g3,
      lineEnd: m3,
      polygonStart: function() {
        u3.point = y4, u3.lineStart = S3, u3.lineEnd = v4, h3 = [], l2 = [];
      },
      polygonEnd: function() {
        u3.point = p3, u3.lineStart = g3, u3.lineEnd = m3, h3 = co2(h3);
        var E = au2(l2, n2);
        h3.length ? (c2 || (s2.polygonStart(), c2 = true), vo2(h3, ou2, E, e2, s2)) : E && (c2 || (s2.polygonStart(), c2 = true), s2.lineStart(), e2(null, null, 1, s2), s2.lineEnd()), c2 && (s2.polygonEnd(), c2 = false), h3 = l2 = null;
      },
      sphere: function() {
        s2.polygonStart(), s2.lineStart(), e2(null, null, 1, s2), s2.lineEnd(), s2.polygonEnd();
      }
    };
    function p3(E, x4) {
      i10(E, x4) && s2.point(E, x4);
    }
    function f2(E, x4) {
      a2.point(E, x4);
    }
    function g3() {
      u3.point = f2, a2.lineStart();
    }
    function m3() {
      u3.point = p3, a2.lineEnd();
    }
    function y4(E, x4) {
      d2.push([E, x4]), o2.point(E, x4);
    }
    function S3() {
      o2.lineStart(), d2 = [];
    }
    function v4() {
      y4(d2[0][0], d2[0][1]), o2.lineEnd();
      var E = o2.clean(), x4 = r3.result(), b3, _4 = x4.length, k5, G5, R4;
      if (d2.pop(), l2.push(d2), d2 = null, !!_4) {
        if (E & 1) {
          if (G5 = x4[0], (k5 = G5.length - 1) > 0) {
            for (c2 || (s2.polygonStart(), c2 = true), s2.lineStart(), b3 = 0; b3 < k5; ++b3) s2.point((R4 = G5[b3])[0], R4[1]);
            s2.lineEnd();
          }
          return;
        }
        _4 > 1 && E & 2 && x4.push(x4.pop().concat(x4.shift())), h3.push(x4.filter(ru2));
      }
    }
    return u3;
  };
}
function ru2(i10) {
  return i10.length > 1;
}
function ou2(i10, t3) {
  return ((i10 = i10.x)[0] < 0 ? i10[1] - Ft4 - vt4 : Ft4 - i10[1]) - ((t3 = t3.x)[0] < 0 ? t3[1] - Ft4 - vt4 : Ft4 - t3[1]);
}
var ja2 = yo2(
  function() {
    return true;
  },
  lu2,
  uu2,
  [-ht4, -Ft4]
);
function lu2(i10) {
  var t3 = NaN, e2 = NaN, n2 = NaN, s2;
  return {
    lineStart: function() {
      i10.lineStart(), s2 = 1;
    },
    point: function(a2, r3) {
      var o2 = a2 > 0 ? ht4 : -ht4, c2 = gt4(a2 - t3);
      gt4(c2 - ht4) < vt4 ? (i10.point(t3, e2 = (e2 + r3) / 2 > 0 ? Ft4 : -Ft4), i10.point(n2, e2), i10.lineEnd(), i10.lineStart(), i10.point(o2, e2), i10.point(a2, e2), s2 = 0) : n2 !== o2 && c2 >= ht4 && (gt4(t3 - n2) < vt4 && (t3 -= n2 * vt4), gt4(a2 - o2) < vt4 && (a2 -= o2 * vt4), e2 = cu2(t3, e2, a2, r3), i10.point(n2, e2), i10.lineEnd(), i10.lineStart(), i10.point(o2, e2), s2 = 0), i10.point(t3 = a2, e2 = r3), n2 = o2;
    },
    lineEnd: function() {
      i10.lineEnd(), t3 = e2 = NaN;
    },
    clean: function() {
      return 2 - s2;
    }
  };
}
function cu2(i10, t3, e2, n2) {
  var s2, a2, r3 = ft4(i10 - e2);
  return gt4(r3) > vt4 ? fo2((ft4(t3) * (a2 = mt4(n2)) * ft4(e2) - ft4(n2) * (s2 = mt4(t3)) * ft4(i10)) / (s2 * a2 * r3)) : (t3 + n2) / 2;
}
function uu2(i10, t3, e2, n2) {
  var s2;
  if (i10 == null)
    s2 = e2 * Ft4, n2.point(-ht4, s2), n2.point(0, s2), n2.point(ht4, s2), n2.point(ht4, 0), n2.point(ht4, -s2), n2.point(0, -s2), n2.point(-ht4, -s2), n2.point(-ht4, 0), n2.point(-ht4, s2);
  else if (gt4(i10[0] - t3[0]) > vt4) {
    var a2 = i10[0] < t3[0] ? ht4 : -ht4;
    s2 = e2 * a2 / 2, n2.point(-a2, s2), n2.point(0, s2), n2.point(a2, s2);
  } else
    n2.point(t3[0], t3[1]);
}
function hu2(i10) {
  var t3 = mt4(i10), e2 = 2 * Ot3, n2 = t3 > 0, s2 = gt4(t3) > vt4;
  function a2(h3, d2, u3, p3) {
    iu2(p3, i10, e2, u3, h3, d2);
  }
  function r3(h3, d2) {
    return mt4(h3) * mt4(d2) > t3;
  }
  function o2(h3) {
    var d2, u3, p3, f2, g3;
    return {
      lineStart: function() {
        f2 = p3 = false, g3 = 1;
      },
      point: function(m3, y4) {
        var S3 = [m3, y4], v4, E = r3(m3, y4), x4 = n2 ? E ? 0 : l2(m3, y4) : E ? l2(m3 + (m3 < 0 ? ht4 : -ht4), y4) : 0;
        if (!d2 && (f2 = p3 = E) && h3.lineStart(), E !== p3 && (v4 = c2(d2, S3), (!v4 || os2(d2, v4) || os2(S3, v4)) && (S3[2] = 1)), E !== p3)
          g3 = 0, E ? (h3.lineStart(), v4 = c2(S3, d2), h3.point(v4[0], v4[1])) : (v4 = c2(d2, S3), h3.point(v4[0], v4[1], 2), h3.lineEnd()), d2 = v4;
        else if (s2 && d2 && n2 ^ E) {
          var b3;
          !(x4 & u3) && (b3 = c2(S3, d2, true)) && (g3 = 0, n2 ? (h3.lineStart(), h3.point(b3[0][0], b3[0][1]), h3.point(b3[1][0], b3[1][1]), h3.lineEnd()) : (h3.point(b3[1][0], b3[1][1]), h3.lineEnd(), h3.lineStart(), h3.point(b3[0][0], b3[0][1], 3)));
        }
        E && (!d2 || !os2(d2, S3)) && h3.point(S3[0], S3[1]), d2 = S3, p3 = E, u3 = x4;
      },
      lineEnd: function() {
        p3 && h3.lineEnd(), d2 = null;
      },
      // Rejoin first and last segments if there were intersections and the first
      // and last points were visible.
      clean: function() {
        return g3 | (f2 && p3) << 1;
      }
    };
  }
  function c2(h3, d2, u3) {
    var p3 = sn3(h3), f2 = sn3(d2), g3 = [1, 0, 0], m3 = ds2(p3, f2), y4 = Fn2(m3, m3), S3 = m3[0], v4 = y4 - S3 * S3;
    if (!v4) return !u3 && h3;
    var E = t3 * y4 / v4, x4 = -t3 * S3 / v4, b3 = ds2(g3, m3), _4 = Wn3(g3, E), k5 = Wn3(m3, x4);
    Zs2(_4, k5);
    var G5 = b3, R4 = Fn2(_4, G5), A2 = Fn2(G5, G5), H5 = R4 * R4 - A2 * (Fn2(_4, _4) - 1);
    if (!(H5 < 0)) {
      var N4 = ae2(H5), M4 = Wn3(G5, (-R4 - N4) / A2);
      if (Zs2(M4, _4), M4 = Si3(M4), !u3) return M4;
      var O3 = h3[0], P3 = d2[0], $4 = h3[1], C3 = d2[1], V5;
      P3 < O3 && (V5 = O3, O3 = P3, P3 = V5);
      var q4 = P3 - O3, X6 = gt4(q4 - ht4) < vt4, F4 = X6 || q4 < vt4;
      if (!X6 && C3 < $4 && (V5 = $4, $4 = C3, C3 = V5), F4 ? X6 ? $4 + C3 > 0 ^ M4[1] < (gt4(M4[0] - O3) < vt4 ? $4 : C3) : $4 <= M4[1] && M4[1] <= C3 : q4 > ht4 ^ (O3 <= M4[0] && M4[0] <= P3)) {
        var Z5 = Wn3(G5, (-R4 + N4) / A2);
        return Zs2(Z5, _4), [M4, Si3(Z5)];
      }
    }
  }
  function l2(h3, d2) {
    var u3 = n2 ? i10 : ht4 - i10, p3 = 0;
    return h3 < -u3 ? p3 |= 1 : h3 > u3 && (p3 |= 2), d2 < -u3 ? p3 |= 4 : d2 > u3 && (p3 |= 8), p3;
  }
  return yo2(r3, o2, a2, n2 ? [0, -i10] : [-ht4, i10 - ht4]);
}
function du2(i10, t3, e2, n2, s2, a2) {
  var r3 = i10[0], o2 = i10[1], c2 = t3[0], l2 = t3[1], h3 = 0, d2 = 1, u3 = c2 - r3, p3 = l2 - o2, f2;
  if (f2 = e2 - r3, !(!u3 && f2 > 0)) {
    if (f2 /= u3, u3 < 0) {
      if (f2 < h3) return;
      f2 < d2 && (d2 = f2);
    } else if (u3 > 0) {
      if (f2 > d2) return;
      f2 > h3 && (h3 = f2);
    }
    if (f2 = s2 - r3, !(!u3 && f2 < 0)) {
      if (f2 /= u3, u3 < 0) {
        if (f2 > d2) return;
        f2 > h3 && (h3 = f2);
      } else if (u3 > 0) {
        if (f2 < h3) return;
        f2 < d2 && (d2 = f2);
      }
      if (f2 = n2 - o2, !(!p3 && f2 > 0)) {
        if (f2 /= p3, p3 < 0) {
          if (f2 < h3) return;
          f2 < d2 && (d2 = f2);
        } else if (p3 > 0) {
          if (f2 > d2) return;
          f2 > h3 && (h3 = f2);
        }
        if (f2 = a2 - o2, !(!p3 && f2 < 0)) {
          if (f2 /= p3, p3 < 0) {
            if (f2 > d2) return;
            f2 > h3 && (h3 = f2);
          } else if (p3 > 0) {
            if (f2 < h3) return;
            f2 < d2 && (d2 = f2);
          }
          return h3 > 0 && (i10[0] = r3 + h3 * u3, i10[1] = o2 + h3 * p3), d2 < 1 && (t3[0] = r3 + d2 * u3, t3[1] = o2 + d2 * p3), true;
        }
      }
    }
  }
}
var Yn3 = 1e9;
var Zn3 = -1e9;
function pu2(i10, t3, e2, n2) {
  function s2(l2, h3) {
    return i10 <= l2 && l2 <= e2 && t3 <= h3 && h3 <= n2;
  }
  function a2(l2, h3, d2, u3) {
    var p3 = 0, f2 = 0;
    if (l2 == null || (p3 = r3(l2, d2)) !== (f2 = r3(h3, d2)) || c2(l2, h3) < 0 ^ d2 > 0)
      do
        u3.point(p3 === 0 || p3 === 3 ? i10 : e2, p3 > 1 ? n2 : t3);
      while ((p3 = (p3 + d2 + 4) % 4) !== f2);
    else
      u3.point(h3[0], h3[1]);
  }
  function r3(l2, h3) {
    return gt4(l2[0] - i10) < vt4 ? h3 > 0 ? 0 : 3 : gt4(l2[0] - e2) < vt4 ? h3 > 0 ? 2 : 1 : gt4(l2[1] - t3) < vt4 ? h3 > 0 ? 1 : 0 : h3 > 0 ? 3 : 2;
  }
  function o2(l2, h3) {
    return c2(l2.x, h3.x);
  }
  function c2(l2, h3) {
    var d2 = r3(l2, 1), u3 = r3(h3, 1);
    return d2 !== u3 ? d2 - u3 : d2 === 0 ? h3[1] - l2[1] : d2 === 1 ? l2[0] - h3[0] : d2 === 2 ? l2[1] - h3[1] : h3[0] - l2[0];
  }
  return function(l2) {
    var h3 = l2, d2 = mo2(), u3, p3, f2, g3, m3, y4, S3, v4, E, x4, b3, _4 = {
      point: k5,
      lineStart: H5,
      lineEnd: N4,
      polygonStart: R4,
      polygonEnd: A2
    };
    function k5(O3, P3) {
      s2(O3, P3) && h3.point(O3, P3);
    }
    function G5() {
      for (var O3 = 0, P3 = 0, $4 = p3.length; P3 < $4; ++P3)
        for (var C3 = p3[P3], V5 = 1, q4 = C3.length, X6 = C3[0], F4, Z5, rt5 = X6[0], j5 = X6[1]; V5 < q4; ++V5)
          F4 = rt5, Z5 = j5, X6 = C3[V5], rt5 = X6[0], j5 = X6[1], Z5 <= n2 ? j5 > n2 && (rt5 - F4) * (n2 - Z5) > (j5 - Z5) * (i10 - F4) && ++O3 : j5 <= n2 && (rt5 - F4) * (n2 - Z5) < (j5 - Z5) * (i10 - F4) && --O3;
      return O3;
    }
    function R4() {
      h3 = d2, u3 = [], p3 = [], b3 = true;
    }
    function A2() {
      var O3 = G5(), P3 = b3 && O3, $4 = (u3 = co2(u3)).length;
      (P3 || $4) && (l2.polygonStart(), P3 && (l2.lineStart(), a2(null, null, 1, l2), l2.lineEnd()), $4 && vo2(u3, o2, O3, a2, l2), l2.polygonEnd()), h3 = l2, u3 = p3 = f2 = null;
    }
    function H5() {
      _4.point = M4, p3 && p3.push(f2 = []), x4 = true, E = false, S3 = v4 = NaN;
    }
    function N4() {
      u3 && (M4(g3, m3), y4 && E && d2.rejoin(), u3.push(d2.result())), _4.point = k5, E && h3.lineEnd();
    }
    function M4(O3, P3) {
      var $4 = s2(O3, P3);
      if (p3 && f2.push([O3, P3]), x4)
        g3 = O3, m3 = P3, y4 = $4, x4 = false, $4 && (h3.lineStart(), h3.point(O3, P3));
      else if ($4 && E) h3.point(O3, P3);
      else {
        var C3 = [S3 = Math.max(Zn3, Math.min(Yn3, S3)), v4 = Math.max(Zn3, Math.min(Yn3, v4))], V5 = [O3 = Math.max(Zn3, Math.min(Yn3, O3)), P3 = Math.max(Zn3, Math.min(Yn3, P3))];
        du2(C3, V5, i10, t3, e2, n2) ? (E || (h3.lineStart(), h3.point(C3[0], C3[1])), h3.point(V5[0], V5[1]), $4 || h3.lineEnd(), b3 = false) : $4 && (h3.lineStart(), h3.point(O3, P3), b3 = false);
      }
      S3 = O3, v4 = P3, E = $4;
    }
    return _4;
  };
}
var Li3 = (i10) => i10;
var js2 = new De2();
var Ai3 = new De2();
var Eo2;
var xo2;
var Mi3;
var wi3;
var ye3 = {
  point: Qt,
  lineStart: Qt,
  lineEnd: Qt,
  polygonStart: function() {
    ye3.lineStart = fu2, ye3.lineEnd = mu2;
  },
  polygonEnd: function() {
    ye3.lineStart = ye3.lineEnd = ye3.point = Qt, js2.add(gt4(Ai3)), Ai3 = new De2();
  },
  result: function() {
    var i10 = js2 / 2;
    return js2 = new De2(), i10;
  }
};
function fu2() {
  ye3.point = gu2;
}
function gu2(i10, t3) {
  ye3.point = So2, Eo2 = Mi3 = i10, xo2 = wi3 = t3;
}
function So2(i10, t3) {
  Ai3.add(wi3 * i10 - Mi3 * t3), Mi3 = i10, wi3 = t3;
}
function mu2() {
  So2(Eo2, xo2);
}
var an3 = 1 / 0;
var ps2 = an3;
var Cn3 = -an3;
var fs2 = Cn3;
var gs2 = {
  point: vu2,
  lineStart: Qt,
  lineEnd: Qt,
  polygonStart: Qt,
  polygonEnd: Qt,
  result: function() {
    var i10 = [[an3, ps2], [Cn3, fs2]];
    return Cn3 = fs2 = -(ps2 = an3 = 1 / 0), i10;
  }
};
function vu2(i10, t3) {
  i10 < an3 && (an3 = i10), i10 > Cn3 && (Cn3 = i10), t3 < ps2 && (ps2 = t3), t3 > fs2 && (fs2 = t3);
}
var Ci3 = 0;
var ki3 = 0;
var En3 = 0;
var ms2 = 0;
var vs2 = 0;
var Qe3 = 0;
var _i3 = 0;
var Ii2 = 0;
var xn3 = 0;
var To2;
var bo2;
var ce2;
var ue3;
var Jt2 = {
  point: Pe3,
  lineStart: Ka2,
  lineEnd: Ja2,
  polygonStart: function() {
    Jt2.lineStart = xu2, Jt2.lineEnd = Su2;
  },
  polygonEnd: function() {
    Jt2.point = Pe3, Jt2.lineStart = Ka2, Jt2.lineEnd = Ja2;
  },
  result: function() {
    var i10 = xn3 ? [_i3 / xn3, Ii2 / xn3] : Qe3 ? [ms2 / Qe3, vs2 / Qe3] : En3 ? [Ci3 / En3, ki3 / En3] : [NaN, NaN];
    return Ci3 = ki3 = En3 = ms2 = vs2 = Qe3 = _i3 = Ii2 = xn3 = 0, i10;
  }
};
function Pe3(i10, t3) {
  Ci3 += i10, ki3 += t3, ++En3;
}
function Ka2() {
  Jt2.point = yu2;
}
function yu2(i10, t3) {
  Jt2.point = Eu2, Pe3(ce2 = i10, ue3 = t3);
}
function Eu2(i10, t3) {
  var e2 = i10 - ce2, n2 = t3 - ue3, s2 = ae2(e2 * e2 + n2 * n2);
  ms2 += s2 * (ce2 + i10) / 2, vs2 += s2 * (ue3 + t3) / 2, Qe3 += s2, Pe3(ce2 = i10, ue3 = t3);
}
function Ja2() {
  Jt2.point = Pe3;
}
function xu2() {
  Jt2.point = Tu2;
}
function Su2() {
  Oo2(To2, bo2);
}
function Tu2(i10, t3) {
  Jt2.point = Oo2, Pe3(To2 = ce2 = i10, bo2 = ue3 = t3);
}
function Oo2(i10, t3) {
  var e2 = i10 - ce2, n2 = t3 - ue3, s2 = ae2(e2 * e2 + n2 * n2);
  ms2 += s2 * (ce2 + i10) / 2, vs2 += s2 * (ue3 + t3) / 2, Qe3 += s2, s2 = ue3 * i10 - ce2 * t3, _i3 += s2 * (ce2 + i10), Ii2 += s2 * (ue3 + t3), xn3 += s2 * 3, Pe3(ce2 = i10, ue3 = t3);
}
function Lo2(i10) {
  this._context = i10;
}
Lo2.prototype = {
  _radius: 4.5,
  pointRadius: function(i10) {
    return this._radius = i10, this;
  },
  polygonStart: function() {
    this._line = 0;
  },
  polygonEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    this._line === 0 && this._context.closePath(), this._point = NaN;
  },
  point: function(i10, t3) {
    switch (this._point) {
      case 0: {
        this._context.moveTo(i10, t3), this._point = 1;
        break;
      }
      case 1: {
        this._context.lineTo(i10, t3);
        break;
      }
      default: {
        this._context.moveTo(i10 + this._radius, t3), this._context.arc(i10, t3, this._radius, 0, Yt2);
        break;
      }
    }
  },
  result: Qt
};
var Ri3 = new De2();
var Ks2;
var Ao2;
var Mo2;
var Sn3;
var Tn3;
var kn3 = {
  point: Qt,
  lineStart: function() {
    kn3.point = bu2;
  },
  lineEnd: function() {
    Ks2 && wo2(Ao2, Mo2), kn3.point = Qt;
  },
  polygonStart: function() {
    Ks2 = true;
  },
  polygonEnd: function() {
    Ks2 = null;
  },
  result: function() {
    var i10 = +Ri3;
    return Ri3 = new De2(), i10;
  }
};
function bu2(i10, t3) {
  kn3.point = wo2, Ao2 = Sn3 = i10, Mo2 = Tn3 = t3;
}
function wo2(i10, t3) {
  Sn3 -= i10, Tn3 -= t3, Ri3.add(ae2(Sn3 * Sn3 + Tn3 * Tn3)), Sn3 = i10, Tn3 = t3;
}
var Qa2;
var ys2;
var tr3;
var er3;
var nr3 = class {
  constructor(t3) {
    this._append = t3 == null ? Co2 : Ou2(t3), this._radius = 4.5, this._ = "";
  }
  pointRadius(t3) {
    return this._radius = +t3, this;
  }
  polygonStart() {
    this._line = 0;
  }
  polygonEnd() {
    this._line = NaN;
  }
  lineStart() {
    this._point = 0;
  }
  lineEnd() {
    this._line === 0 && (this._ += "Z"), this._point = NaN;
  }
  point(t3, e2) {
    switch (this._point) {
      case 0: {
        this._append`M${t3},${e2}`, this._point = 1;
        break;
      }
      case 1: {
        this._append`L${t3},${e2}`;
        break;
      }
      default: {
        if (this._append`M${t3},${e2}`, this._radius !== tr3 || this._append !== ys2) {
          const n2 = this._radius, s2 = this._;
          this._ = "", this._append`m0,${n2}a${n2},${n2} 0 1,1 0,${-2 * n2}a${n2},${n2} 0 1,1 0,${2 * n2}z`, tr3 = n2, ys2 = this._append, er3 = this._, this._ = s2;
        }
        this._ += er3;
        break;
      }
    }
  }
  result() {
    const t3 = this._;
    return this._ = "", t3.length ? t3 : null;
  }
};
function Co2(i10) {
  let t3 = 1;
  this._ += i10[0];
  for (const e2 = i10.length; t3 < e2; ++t3)
    this._ += arguments[t3] + i10[t3];
}
function Ou2(i10) {
  const t3 = Math.floor(i10);
  if (!(t3 >= 0)) throw new RangeError(`invalid digits: ${i10}`);
  if (t3 > 15) return Co2;
  if (t3 !== Qa2) {
    const e2 = 10 ** t3;
    Qa2 = t3, ys2 = function(s2) {
      let a2 = 1;
      this._ += s2[0];
      for (const r3 = s2.length; a2 < r3; ++a2)
        this._ += Math.round(arguments[a2] * e2) / e2 + s2[a2];
    };
  }
  return ys2;
}
function Lu2(i10, t3) {
  let e2 = 3, n2 = 4.5, s2, a2;
  function r3(o2) {
    return o2 && (typeof n2 == "function" && a2.pointRadius(+n2.apply(this, arguments)), Ze3(o2, s2(a2))), a2.result();
  }
  return r3.area = function(o2) {
    return Ze3(o2, s2(ye3)), ye3.result();
  }, r3.measure = function(o2) {
    return Ze3(o2, s2(kn3)), kn3.result();
  }, r3.bounds = function(o2) {
    return Ze3(o2, s2(gs2)), gs2.result();
  }, r3.centroid = function(o2) {
    return Ze3(o2, s2(Jt2)), Jt2.result();
  }, r3.projection = function(o2) {
    return arguments.length ? (s2 = o2 == null ? (i10 = null, Li3) : (i10 = o2).stream, r3) : i10;
  }, r3.context = function(o2) {
    return arguments.length ? (a2 = o2 == null ? (t3 = null, new nr3(e2)) : new Lo2(t3 = o2), typeof n2 != "function" && a2.pointRadius(n2), r3) : t3;
  }, r3.pointRadius = function(o2) {
    return arguments.length ? (n2 = typeof o2 == "function" ? o2 : (a2.pointRadius(+o2), +o2), r3) : n2;
  }, r3.digits = function(o2) {
    if (!arguments.length) return e2;
    if (o2 == null) e2 = null;
    else {
      const c2 = Math.floor(o2);
      if (!(c2 >= 0)) throw new RangeError(`invalid digits: ${o2}`);
      e2 = c2;
    }
    return t3 === null && (a2 = new nr3(e2)), r3;
  }, r3.projection(i10).digits(e2).context(t3);
}
function Wi3(i10) {
  return function(t3) {
    var e2 = new Di3();
    for (var n2 in i10) e2[n2] = i10[n2];
    return e2.stream = t3, e2;
  };
}
function Di3() {
}
Di3.prototype = {
  constructor: Di3,
  point: function(i10, t3) {
    this.stream.point(i10, t3);
  },
  sphere: function() {
    this.stream.sphere();
  },
  lineStart: function() {
    this.stream.lineStart();
  },
  lineEnd: function() {
    this.stream.lineEnd();
  },
  polygonStart: function() {
    this.stream.polygonStart();
  },
  polygonEnd: function() {
    this.stream.polygonEnd();
  }
};
function Xi3(i10, t3, e2) {
  var n2 = i10.clipExtent && i10.clipExtent();
  return i10.scale(150).translate([0, 0]), n2 != null && i10.clipExtent(null), Ze3(e2, i10.stream(gs2)), t3(gs2.result()), n2 != null && i10.clipExtent(n2), i10;
}
function ko2(i10, t3, e2) {
  return Xi3(i10, function(n2) {
    var s2 = t3[1][0] - t3[0][0], a2 = t3[1][1] - t3[0][1], r3 = Math.min(s2 / (n2[1][0] - n2[0][0]), a2 / (n2[1][1] - n2[0][1])), o2 = +t3[0][0] + (s2 - r3 * (n2[1][0] + n2[0][0])) / 2, c2 = +t3[0][1] + (a2 - r3 * (n2[1][1] + n2[0][1])) / 2;
    i10.scale(150 * r3).translate([o2, c2]);
  }, e2);
}
function Au2(i10, t3, e2) {
  return ko2(i10, [[0, 0], t3], e2);
}
function Mu2(i10, t3, e2) {
  return Xi3(i10, function(n2) {
    var s2 = +t3, a2 = s2 / (n2[1][0] - n2[0][0]), r3 = (s2 - a2 * (n2[1][0] + n2[0][0])) / 2, o2 = -a2 * n2[0][1];
    i10.scale(150 * a2).translate([r3, o2]);
  }, e2);
}
function wu2(i10, t3, e2) {
  return Xi3(i10, function(n2) {
    var s2 = +t3, a2 = s2 / (n2[1][1] - n2[0][1]), r3 = -a2 * n2[0][0], o2 = (s2 - a2 * (n2[1][1] + n2[0][1])) / 2;
    i10.scale(150 * a2).translate([r3, o2]);
  }, e2);
}
var sr3 = 16;
var Cu2 = mt4(30 * Ot3);
function ir3(i10, t3) {
  return +t3 ? _u2(i10, t3) : ku2(i10);
}
function ku2(i10) {
  return Wi3({
    point: function(t3, e2) {
      t3 = i10(t3, e2), this.stream.point(t3[0], t3[1]);
    }
  });
}
function _u2(i10, t3) {
  function e2(n2, s2, a2, r3, o2, c2, l2, h3, d2, u3, p3, f2, g3, m3) {
    var y4 = l2 - n2, S3 = h3 - s2, v4 = y4 * y4 + S3 * S3;
    if (v4 > 4 * t3 && g3--) {
      var E = r3 + u3, x4 = o2 + p3, b3 = c2 + f2, _4 = ae2(E * E + x4 * x4 + b3 * b3), k5 = xe3(b3 /= _4), G5 = gt4(gt4(b3) - 1) < vt4 || gt4(a2 - d2) < vt4 ? (a2 + d2) / 2 : Ne3(x4, E), R4 = i10(G5, k5), A2 = R4[0], H5 = R4[1], N4 = A2 - n2, M4 = H5 - s2, O3 = S3 * N4 - y4 * M4;
      (O3 * O3 / v4 > t3 || gt4((y4 * N4 + S3 * M4) / v4 - 0.5) > 0.3 || r3 * u3 + o2 * p3 + c2 * f2 < Cu2) && (e2(n2, s2, a2, r3, o2, c2, A2, H5, G5, E /= _4, x4 /= _4, b3, g3, m3), m3.point(A2, H5), e2(A2, H5, G5, E, x4, b3, l2, h3, d2, u3, p3, f2, g3, m3));
    }
  }
  return function(n2) {
    var s2, a2, r3, o2, c2, l2, h3, d2, u3, p3, f2, g3, m3 = {
      point: y4,
      lineStart: S3,
      lineEnd: E,
      polygonStart: function() {
        n2.polygonStart(), m3.lineStart = x4;
      },
      polygonEnd: function() {
        n2.polygonEnd(), m3.lineStart = S3;
      }
    };
    function y4(k5, G5) {
      k5 = i10(k5, G5), n2.point(k5[0], k5[1]);
    }
    function S3() {
      d2 = NaN, m3.point = v4, n2.lineStart();
    }
    function v4(k5, G5) {
      var R4 = sn3([k5, G5]), A2 = i10(k5, G5);
      e2(d2, u3, h3, p3, f2, g3, d2 = A2[0], u3 = A2[1], h3 = k5, p3 = R4[0], f2 = R4[1], g3 = R4[2], sr3, n2), n2.point(d2, u3);
    }
    function E() {
      m3.point = y4, n2.lineEnd();
    }
    function x4() {
      S3(), m3.point = b3, m3.lineEnd = _4;
    }
    function b3(k5, G5) {
      v4(s2 = k5, G5), a2 = d2, r3 = u3, o2 = p3, c2 = f2, l2 = g3, m3.point = v4;
    }
    function _4() {
      e2(d2, u3, h3, p3, f2, g3, a2, r3, s2, o2, c2, l2, sr3, n2), m3.lineEnd = E, E();
    }
    return m3;
  };
}
var Iu2 = Wi3({
  point: function(i10, t3) {
    this.stream.point(i10 * Ot3, t3 * Ot3);
  }
});
function Ru2(i10) {
  return Wi3({
    point: function(t3, e2) {
      var n2 = i10(t3, e2);
      return this.stream.point(n2[0], n2[1]);
    }
  });
}
function Du2(i10, t3, e2, n2, s2) {
  function a2(r3, o2) {
    return r3 *= n2, o2 *= s2, [t3 + i10 * r3, e2 - i10 * o2];
  }
  return a2.invert = function(r3, o2) {
    return [(r3 - t3) / i10 * n2, (e2 - o2) / i10 * s2];
  }, a2;
}
function ar3(i10, t3, e2, n2, s2, a2) {
  if (!a2) return Du2(i10, t3, e2, n2, s2);
  var r3 = mt4(a2), o2 = ft4(a2), c2 = r3 * i10, l2 = o2 * i10, h3 = r3 / i10, d2 = o2 / i10, u3 = (o2 * e2 - r3 * t3) / i10, p3 = (o2 * t3 + r3 * e2) / i10;
  function f2(g3, m3) {
    return g3 *= n2, m3 *= s2, [c2 * g3 - l2 * m3 + t3, e2 - l2 * g3 - c2 * m3];
  }
  return f2.invert = function(g3, m3) {
    return [n2 * (h3 * g3 - d2 * m3 + u3), s2 * (p3 - d2 * g3 - h3 * m3)];
  }, f2;
}
function Ms2(i10) {
  return _o2(function() {
    return i10;
  })();
}
function _o2(i10) {
  var t3, e2 = 150, n2 = 480, s2 = 250, a2 = 0, r3 = 0, o2 = 0, c2 = 0, l2 = 0, h3, d2 = 0, u3 = 1, p3 = 1, f2 = null, g3 = ja2, m3 = null, y4, S3, v4, E = Li3, x4 = 0.5, b3, _4, k5, G5, R4;
  function A2(O3) {
    return k5(O3[0] * Ot3, O3[1] * Ot3);
  }
  function H5(O3) {
    return O3 = k5.invert(O3[0], O3[1]), O3 && [O3[0] * Vt2, O3[1] * Vt2];
  }
  A2.stream = function(O3) {
    return G5 && R4 === O3 ? G5 : G5 = Iu2(Ru2(h3)(g3(b3(E(R4 = O3)))));
  }, A2.preclip = function(O3) {
    return arguments.length ? (g3 = O3, f2 = void 0, M4()) : g3;
  }, A2.postclip = function(O3) {
    return arguments.length ? (E = O3, m3 = y4 = S3 = v4 = null, M4()) : E;
  }, A2.clipAngle = function(O3) {
    return arguments.length ? (g3 = +O3 ? hu2(f2 = O3 * Ot3) : (f2 = null, ja2), M4()) : f2 * Vt2;
  }, A2.clipExtent = function(O3) {
    return arguments.length ? (E = O3 == null ? (m3 = y4 = S3 = v4 = null, Li3) : pu2(m3 = +O3[0][0], y4 = +O3[0][1], S3 = +O3[1][0], v4 = +O3[1][1]), M4()) : m3 == null ? null : [[m3, y4], [S3, v4]];
  }, A2.scale = function(O3) {
    return arguments.length ? (e2 = +O3, N4()) : e2;
  }, A2.translate = function(O3) {
    return arguments.length ? (n2 = +O3[0], s2 = +O3[1], N4()) : [n2, s2];
  }, A2.center = function(O3) {
    return arguments.length ? (a2 = O3[0] % 360 * Ot3, r3 = O3[1] % 360 * Ot3, N4()) : [a2 * Vt2, r3 * Vt2];
  }, A2.rotate = function(O3) {
    return arguments.length ? (o2 = O3[0] % 360 * Ot3, c2 = O3[1] % 360 * Ot3, l2 = O3.length > 2 ? O3[2] % 360 * Ot3 : 0, N4()) : [o2 * Vt2, c2 * Vt2, l2 * Vt2];
  }, A2.angle = function(O3) {
    return arguments.length ? (d2 = O3 % 360 * Ot3, N4()) : d2 * Vt2;
  }, A2.reflectX = function(O3) {
    return arguments.length ? (u3 = O3 ? -1 : 1, N4()) : u3 < 0;
  }, A2.reflectY = function(O3) {
    return arguments.length ? (p3 = O3 ? -1 : 1, N4()) : p3 < 0;
  }, A2.precision = function(O3) {
    return arguments.length ? (b3 = ir3(_4, x4 = O3 * O3), M4()) : ae2(x4);
  }, A2.fitExtent = function(O3, P3) {
    return ko2(A2, O3, P3);
  }, A2.fitSize = function(O3, P3) {
    return Au2(A2, O3, P3);
  }, A2.fitWidth = function(O3, P3) {
    return Mu2(A2, O3, P3);
  }, A2.fitHeight = function(O3, P3) {
    return wu2(A2, O3, P3);
  };
  function N4() {
    var O3 = ar3(e2, 0, 0, u3, p3, d2).apply(null, t3(a2, r3)), P3 = ar3(e2, n2 - O3[0], s2 - O3[1], u3, p3, d2);
    return h3 = go2(o2, c2, l2), _4 = bi3(t3, P3), k5 = bi3(h3, _4), b3 = ir3(_4, x4), M4();
  }
  function M4() {
    return G5 = R4 = null, A2;
  }
  return function() {
    return t3 = i10.apply(this, arguments), A2.invert = t3.invert && H5, N4();
  };
}
function Io2(i10) {
  var t3 = 0, e2 = ht4 / 3, n2 = _o2(i10), s2 = n2(t3, e2);
  return s2.parallels = function(a2) {
    return arguments.length ? n2(t3 = a2[0] * Ot3, e2 = a2[1] * Ot3) : [t3 * Vt2, e2 * Vt2];
  }, s2;
}
function Nu2(i10) {
  var t3 = mt4(i10);
  function e2(n2, s2) {
    return [n2 * t3, ft4(s2) / t3];
  }
  return e2.invert = function(n2, s2) {
    return [n2 / t3, xe3(s2 * t3)];
  }, e2;
}
function Pu2(i10, t3) {
  var e2 = ft4(i10), n2 = (e2 + ft4(t3)) / 2;
  if (gt4(n2) < vt4) return Nu2(i10);
  var s2 = 1 + e2 * (2 * n2 - e2), a2 = ae2(s2) / n2;
  function r3(o2, c2) {
    var l2 = ae2(s2 - 2 * n2 * ft4(c2)) / n2;
    return [l2 * ft4(o2 *= n2), a2 - l2 * mt4(o2)];
  }
  return r3.invert = function(o2, c2) {
    var l2 = a2 - c2, h3 = Ne3(o2, gt4(l2)) * be3(l2);
    return l2 * n2 < 0 && (h3 -= ht4 * be3(o2) * be3(l2)), [h3 / n2, xe3((s2 - (o2 * o2 + l2 * l2) * n2 * n2) / (2 * n2))];
  }, r3;
}
function Ro2() {
  return Io2(Pu2).scale(155.424).center([0, 33.6442]);
}
function $u2() {
  return Ro2().parallels([29.5, 45.5]).scale(1070).translate([480, 250]).rotate([96, 0]).center([-0.6, 38.7]);
}
function Yi3(i10, t3) {
  return [i10, tu2(eu2((Ft4 + t3) / 2))];
}
Yi3.invert = function(i10, t3) {
  return [i10, 2 * fo2(Qc2(t3)) - Ft4];
};
function Vu2() {
  return Gu2(Yi3).scale(961 / Yt2);
}
function Gu2(i10) {
  var t3 = Ms2(i10), e2 = t3.center, n2 = t3.scale, s2 = t3.translate, a2 = t3.clipExtent, r3 = null, o2, c2, l2;
  t3.scale = function(d2) {
    return arguments.length ? (n2(d2), h3()) : n2();
  }, t3.translate = function(d2) {
    return arguments.length ? (s2(d2), h3()) : s2();
  }, t3.center = function(d2) {
    return arguments.length ? (e2(d2), h3()) : e2();
  }, t3.clipExtent = function(d2) {
    return arguments.length ? (d2 == null ? r3 = o2 = c2 = l2 = null : (r3 = +d2[0][0], o2 = +d2[0][1], c2 = +d2[1][0], l2 = +d2[1][1]), h3()) : r3 == null ? null : [[r3, o2], [c2, l2]];
  };
  function h3() {
    var d2 = ht4 * n2(), u3 = t3(su2(t3.rotate()).invert([0, 0]));
    return a2(r3 == null ? [[u3[0] - d2, u3[1] - d2], [u3[0] + d2, u3[1] + d2]] : i10 === Yi3 ? [[Math.max(u3[0] - d2, r3), o2], [Math.min(u3[0] + d2, c2), l2]] : [[r3, Math.max(u3[1] - d2, o2)], [c2, Math.min(u3[1] + d2, l2)]]);
  }
  return h3();
}
function Es2(i10, t3) {
  return [i10, t3];
}
Es2.invert = Es2;
function Hu2() {
  return Ms2(Es2).scale(152.63);
}
function Bu2(i10, t3) {
  var e2 = mt4(i10), n2 = i10 === t3 ? ft4(i10) : (e2 - mt4(t3)) / (t3 - i10), s2 = e2 / n2 + i10;
  if (gt4(n2) < vt4) return Es2;
  function a2(r3, o2) {
    var c2 = s2 - o2, l2 = n2 * r3;
    return [c2 * ft4(l2), s2 - c2 * mt4(l2)];
  }
  return a2.invert = function(r3, o2) {
    var c2 = s2 - o2, l2 = Ne3(r3, gt4(c2)) * be3(c2);
    return c2 * n2 < 0 && (l2 -= ht4 * be3(r3) * be3(c2)), [l2 / n2, s2 - be3(n2) * ae2(r3 * r3 + c2 * c2)];
  }, a2;
}
function zu2() {
  return Io2(Bu2).scale(131.154).center([0, 13.9389]);
}
var On3 = 1.340264;
var Ln2 = -0.081106;
var An3 = 893e-6;
var Mn3 = 3796e-6;
var xs2 = ae2(3) / 2;
var Uu2 = 12;
function Do2(i10, t3) {
  var e2 = xe3(xs2 * ft4(t3)), n2 = e2 * e2, s2 = n2 * n2 * n2;
  return [
    i10 * mt4(e2) / (xs2 * (On3 + 3 * Ln2 * n2 + s2 * (7 * An3 + 9 * Mn3 * n2))),
    e2 * (On3 + Ln2 * n2 + s2 * (An3 + Mn3 * n2))
  ];
}
Do2.invert = function(i10, t3) {
  for (var e2 = t3, n2 = e2 * e2, s2 = n2 * n2 * n2, a2 = 0, r3, o2, c2; a2 < Uu2 && (o2 = e2 * (On3 + Ln2 * n2 + s2 * (An3 + Mn3 * n2)) - t3, c2 = On3 + 3 * Ln2 * n2 + s2 * (7 * An3 + 9 * Mn3 * n2), e2 -= r3 = o2 / c2, n2 = e2 * e2, s2 = n2 * n2 * n2, !(gt4(r3) < Jc2)); ++a2)
    ;
  return [
    xs2 * i10 * (On3 + 3 * Ln2 * n2 + s2 * (7 * An3 + 9 * Mn3 * n2)) / mt4(e2),
    xe3(ft4(e2) / xs2)
  ];
};
function Fu2() {
  return Ms2(Do2).scale(177.158);
}
function No2(i10, t3) {
  var e2 = t3 * t3, n2 = e2 * e2;
  return [
    i10 * (0.8707 - 0.131979 * e2 + n2 * (-0.013791 + n2 * (3971e-6 * e2 - 1529e-6 * n2))),
    t3 * (1.007226 + e2 * (0.015085 + n2 * (-0.044475 + 0.028874 * e2 - 5916e-6 * n2)))
  ];
}
No2.invert = function(i10, t3) {
  var e2 = t3, n2 = 25, s2;
  do {
    var a2 = e2 * e2, r3 = a2 * a2;
    e2 -= s2 = (e2 * (1.007226 + a2 * (0.015085 + r3 * (-0.044475 + 0.028874 * a2 - 5916e-6 * r3))) - t3) / (1.007226 + a2 * (0.015085 * 3 + r3 * (-0.044475 * 7 + 0.028874 * 9 * a2 - 5916e-6 * 11 * r3)));
  } while (gt4(s2) > vt4 && --n2 > 0);
  return [
    i10 / (0.8707 + (a2 = e2 * e2) * (-0.131979 + a2 * (-0.013791 + a2 * a2 * a2 * (3971e-6 - 1529e-6 * a2)))),
    e2
  ];
};
function Wu2() {
  return Ms2(No2).scale(175.295);
}
function Xu2(i10, t3) {
  return i10.parent === t3.parent ? 1 : 2;
}
function Yu2(i10) {
  return i10.reduce(Zu2, 0) / i10.length;
}
function Zu2(i10, t3) {
  return i10 + t3.x;
}
function qu2(i10) {
  return 1 + i10.reduce(ju2, 0);
}
function ju2(i10, t3) {
  return Math.max(i10, t3.y);
}
function Ku2(i10) {
  for (var t3; t3 = i10.children; ) i10 = t3[0];
  return i10;
}
function Ju2(i10) {
  for (var t3; t3 = i10.children; ) i10 = t3[t3.length - 1];
  return i10;
}
function Qu2() {
  var i10 = Xu2, t3 = 1, e2 = 1, n2 = false;
  function s2(a2) {
    var r3, o2 = 0;
    a2.eachAfter(function(u3) {
      var p3 = u3.children;
      p3 ? (u3.x = Yu2(p3), u3.y = qu2(p3)) : (u3.x = r3 ? o2 += i10(u3, r3) : 0, u3.y = 0, r3 = u3);
    });
    var c2 = Ku2(a2), l2 = Ju2(a2), h3 = c2.x - i10(c2, l2) / 2, d2 = l2.x + i10(l2, c2) / 2;
    return a2.eachAfter(n2 ? function(u3) {
      u3.x = (u3.x - a2.x) * t3, u3.y = (a2.y - u3.y) * e2;
    } : function(u3) {
      u3.x = (u3.x - h3) / (d2 - h3) * t3, u3.y = (1 - (a2.y ? u3.y / a2.y : 1)) * e2;
    });
  }
  return s2.separation = function(a2) {
    return arguments.length ? (i10 = a2, s2) : i10;
  }, s2.size = function(a2) {
    return arguments.length ? (n2 = false, t3 = +a2[0], e2 = +a2[1], s2) : n2 ? null : [t3, e2];
  }, s2.nodeSize = function(a2) {
    return arguments.length ? (n2 = true, t3 = +a2[0], e2 = +a2[1], s2) : n2 ? [t3, e2] : null;
  }, s2;
}
function th2(i10) {
  var t3 = 0, e2 = i10.children, n2 = e2 && e2.length;
  if (!n2) t3 = 1;
  else for (; --n2 >= 0; ) t3 += e2[n2].value;
  i10.value = t3;
}
function eh2() {
  return this.eachAfter(th2);
}
function nh2(i10, t3) {
  let e2 = -1;
  for (const n2 of this)
    i10.call(t3, n2, ++e2, this);
  return this;
}
function sh2(i10, t3) {
  for (var e2 = this, n2 = [e2], s2, a2, r3 = -1; e2 = n2.pop(); )
    if (i10.call(t3, e2, ++r3, this), s2 = e2.children)
      for (a2 = s2.length - 1; a2 >= 0; --a2)
        n2.push(s2[a2]);
  return this;
}
function ih2(i10, t3) {
  for (var e2 = this, n2 = [e2], s2 = [], a2, r3, o2, c2 = -1; e2 = n2.pop(); )
    if (s2.push(e2), a2 = e2.children)
      for (r3 = 0, o2 = a2.length; r3 < o2; ++r3)
        n2.push(a2[r3]);
  for (; e2 = s2.pop(); )
    i10.call(t3, e2, ++c2, this);
  return this;
}
function ah2(i10, t3) {
  let e2 = -1;
  for (const n2 of this)
    if (i10.call(t3, n2, ++e2, this))
      return n2;
}
function rh2(i10) {
  return this.eachAfter(function(t3) {
    for (var e2 = +i10(t3.data) || 0, n2 = t3.children, s2 = n2 && n2.length; --s2 >= 0; ) e2 += n2[s2].value;
    t3.value = e2;
  });
}
function oh2(i10) {
  return this.eachBefore(function(t3) {
    t3.children && t3.children.sort(i10);
  });
}
function lh2(i10) {
  for (var t3 = this, e2 = ch2(t3, i10), n2 = [t3]; t3 !== e2; )
    t3 = t3.parent, n2.push(t3);
  for (var s2 = n2.length; i10 !== e2; )
    n2.splice(s2, 0, i10), i10 = i10.parent;
  return n2;
}
function ch2(i10, t3) {
  if (i10 === t3) return i10;
  var e2 = i10.ancestors(), n2 = t3.ancestors(), s2 = null;
  for (i10 = e2.pop(), t3 = n2.pop(); i10 === t3; )
    s2 = i10, i10 = e2.pop(), t3 = n2.pop();
  return s2;
}
function uh2() {
  for (var i10 = this, t3 = [i10]; i10 = i10.parent; )
    t3.push(i10);
  return t3;
}
function hh2() {
  return Array.from(this);
}
function dh2() {
  var i10 = [];
  return this.eachBefore(function(t3) {
    t3.children || i10.push(t3);
  }), i10;
}
function ph2() {
  var i10 = this, t3 = [];
  return i10.each(function(e2) {
    e2 !== i10 && t3.push({ source: e2.parent, target: e2 });
  }), t3;
}
function* fh2() {
  var i10 = this, t3, e2 = [i10], n2, s2, a2;
  do
    for (t3 = e2.reverse(), e2 = []; i10 = t3.pop(); )
      if (yield i10, n2 = i10.children)
        for (s2 = 0, a2 = n2.length; s2 < a2; ++s2)
          e2.push(n2[s2]);
  while (e2.length);
}
function Rn2(i10, t3) {
  i10 instanceof Map ? (i10 = [void 0, i10], t3 === void 0 && (t3 = vh2)) : t3 === void 0 && (t3 = mh2);
  for (var e2 = new _n3(i10), n2, s2 = [e2], a2, r3, o2, c2; n2 = s2.pop(); )
    if ((r3 = t3(n2.data)) && (c2 = (r3 = Array.from(r3)).length))
      for (n2.children = r3, o2 = c2 - 1; o2 >= 0; --o2)
        s2.push(a2 = r3[o2] = new _n3(r3[o2])), a2.parent = n2, a2.depth = n2.depth + 1;
  return e2.eachBefore(Eh2);
}
function gh2() {
  return Rn2(this).eachBefore(yh2);
}
function mh2(i10) {
  return i10.children;
}
function vh2(i10) {
  return Array.isArray(i10) ? i10[1] : null;
}
function yh2(i10) {
  i10.data.value !== void 0 && (i10.value = i10.data.value), i10.data = i10.data.data;
}
function Eh2(i10) {
  var t3 = 0;
  do
    i10.height = t3;
  while ((i10 = i10.parent) && i10.height < ++t3);
}
function _n3(i10) {
  this.data = i10, this.depth = this.height = 0, this.parent = null;
}
_n3.prototype = Rn2.prototype = {
  constructor: _n3,
  count: eh2,
  each: nh2,
  eachAfter: ih2,
  eachBefore: sh2,
  find: ah2,
  sum: rh2,
  sort: oh2,
  path: lh2,
  ancestors: uh2,
  descendants: hh2,
  leaves: dh2,
  links: ph2,
  copy: gh2,
  [Symbol.iterator]: fh2
};
function xh2(i10) {
  return i10 == null ? null : Po2(i10);
}
function Po2(i10) {
  if (typeof i10 != "function") throw new Error();
  return i10;
}
function Ie3() {
  return 0;
}
function qe3(i10) {
  return function() {
    return i10;
  };
}
var Sh2 = 1664525;
var Th2 = 1013904223;
var rr3 = 4294967296;
function bh2() {
  let i10 = 1;
  return () => (i10 = (Sh2 * i10 + Th2) % rr3) / rr3;
}
function Oh2(i10) {
  return typeof i10 == "object" && "length" in i10 ? i10 : Array.from(i10);
}
function Lh2(i10, t3) {
  let e2 = i10.length, n2, s2;
  for (; e2; )
    s2 = t3() * e2-- | 0, n2 = i10[e2], i10[e2] = i10[s2], i10[s2] = n2;
  return i10;
}
function Ah2(i10, t3) {
  for (var e2 = 0, n2 = (i10 = Lh2(Array.from(i10), t3)).length, s2 = [], a2, r3; e2 < n2; )
    a2 = i10[e2], r3 && $o2(r3, a2) ? ++e2 : (r3 = wh2(s2 = Mh2(s2, a2)), e2 = 0);
  return r3;
}
function Mh2(i10, t3) {
  var e2, n2;
  if (Js2(t3, i10)) return [t3];
  for (e2 = 0; e2 < i10.length; ++e2)
    if (qn3(t3, i10[e2]) && Js2(bn3(i10[e2], t3), i10))
      return [i10[e2], t3];
  for (e2 = 0; e2 < i10.length - 1; ++e2)
    for (n2 = e2 + 1; n2 < i10.length; ++n2)
      if (qn3(bn3(i10[e2], i10[n2]), t3) && qn3(bn3(i10[e2], t3), i10[n2]) && qn3(bn3(i10[n2], t3), i10[e2]) && Js2(Vo2(i10[e2], i10[n2], t3), i10))
        return [i10[e2], i10[n2], t3];
  throw new Error();
}
function qn3(i10, t3) {
  var e2 = i10.r - t3.r, n2 = t3.x - i10.x, s2 = t3.y - i10.y;
  return e2 < 0 || e2 * e2 < n2 * n2 + s2 * s2;
}
function $o2(i10, t3) {
  var e2 = i10.r - t3.r + Math.max(i10.r, t3.r, 1) * 1e-9, n2 = t3.x - i10.x, s2 = t3.y - i10.y;
  return e2 > 0 && e2 * e2 > n2 * n2 + s2 * s2;
}
function Js2(i10, t3) {
  for (var e2 = 0; e2 < t3.length; ++e2)
    if (!$o2(i10, t3[e2]))
      return false;
  return true;
}
function wh2(i10) {
  switch (i10.length) {
    case 1:
      return Ch2(i10[0]);
    case 2:
      return bn3(i10[0], i10[1]);
    case 3:
      return Vo2(i10[0], i10[1], i10[2]);
  }
}
function Ch2(i10) {
  return {
    x: i10.x,
    y: i10.y,
    r: i10.r
  };
}
function bn3(i10, t3) {
  var e2 = i10.x, n2 = i10.y, s2 = i10.r, a2 = t3.x, r3 = t3.y, o2 = t3.r, c2 = a2 - e2, l2 = r3 - n2, h3 = o2 - s2, d2 = Math.sqrt(c2 * c2 + l2 * l2);
  return {
    x: (e2 + a2 + c2 / d2 * h3) / 2,
    y: (n2 + r3 + l2 / d2 * h3) / 2,
    r: (d2 + s2 + o2) / 2
  };
}
function Vo2(i10, t3, e2) {
  var n2 = i10.x, s2 = i10.y, a2 = i10.r, r3 = t3.x, o2 = t3.y, c2 = t3.r, l2 = e2.x, h3 = e2.y, d2 = e2.r, u3 = n2 - r3, p3 = n2 - l2, f2 = s2 - o2, g3 = s2 - h3, m3 = c2 - a2, y4 = d2 - a2, S3 = n2 * n2 + s2 * s2 - a2 * a2, v4 = S3 - r3 * r3 - o2 * o2 + c2 * c2, E = S3 - l2 * l2 - h3 * h3 + d2 * d2, x4 = p3 * f2 - u3 * g3, b3 = (f2 * E - g3 * v4) / (x4 * 2) - n2, _4 = (g3 * m3 - f2 * y4) / x4, k5 = (p3 * v4 - u3 * E) / (x4 * 2) - s2, G5 = (u3 * y4 - p3 * m3) / x4, R4 = _4 * _4 + G5 * G5 - 1, A2 = 2 * (a2 + b3 * _4 + k5 * G5), H5 = b3 * b3 + k5 * k5 - a2 * a2, N4 = -(Math.abs(R4) > 1e-6 ? (A2 + Math.sqrt(A2 * A2 - 4 * R4 * H5)) / (2 * R4) : H5 / A2);
  return {
    x: n2 + b3 + _4 * N4,
    y: s2 + k5 + G5 * N4,
    r: N4
  };
}
function or3(i10, t3, e2) {
  var n2 = i10.x - t3.x, s2, a2, r3 = i10.y - t3.y, o2, c2, l2 = n2 * n2 + r3 * r3;
  l2 ? (a2 = t3.r + e2.r, a2 *= a2, c2 = i10.r + e2.r, c2 *= c2, a2 > c2 ? (s2 = (l2 + c2 - a2) / (2 * l2), o2 = Math.sqrt(Math.max(0, c2 / l2 - s2 * s2)), e2.x = i10.x - s2 * n2 - o2 * r3, e2.y = i10.y - s2 * r3 + o2 * n2) : (s2 = (l2 + a2 - c2) / (2 * l2), o2 = Math.sqrt(Math.max(0, a2 / l2 - s2 * s2)), e2.x = t3.x + s2 * n2 - o2 * r3, e2.y = t3.y + s2 * r3 + o2 * n2)) : (e2.x = t3.x + e2.r, e2.y = t3.y);
}
function lr3(i10, t3) {
  var e2 = i10.r + t3.r - 1e-6, n2 = t3.x - i10.x, s2 = t3.y - i10.y;
  return e2 > 0 && e2 * e2 > n2 * n2 + s2 * s2;
}
function cr3(i10) {
  var t3 = i10._, e2 = i10.next._, n2 = t3.r + e2.r, s2 = (t3.x * e2.r + e2.x * t3.r) / n2, a2 = (t3.y * e2.r + e2.y * t3.r) / n2;
  return s2 * s2 + a2 * a2;
}
function jn3(i10) {
  this._ = i10, this.next = null, this.previous = null;
}
function kh2(i10, t3) {
  if (!(a2 = (i10 = Oh2(i10)).length)) return 0;
  var e2, n2, s2, a2, r3, o2, c2, l2, h3, d2, u3;
  if (e2 = i10[0], e2.x = 0, e2.y = 0, !(a2 > 1)) return e2.r;
  if (n2 = i10[1], e2.x = -n2.r, n2.x = e2.r, n2.y = 0, !(a2 > 2)) return e2.r + n2.r;
  or3(n2, e2, s2 = i10[2]), e2 = new jn3(e2), n2 = new jn3(n2), s2 = new jn3(s2), e2.next = s2.previous = n2, n2.next = e2.previous = s2, s2.next = n2.previous = e2;
  t: for (c2 = 3; c2 < a2; ++c2) {
    or3(e2._, n2._, s2 = i10[c2]), s2 = new jn3(s2), l2 = n2.next, h3 = e2.previous, d2 = n2._.r, u3 = e2._.r;
    do
      if (d2 <= u3) {
        if (lr3(l2._, s2._)) {
          n2 = l2, e2.next = n2, n2.previous = e2, --c2;
          continue t;
        }
        d2 += l2._.r, l2 = l2.next;
      } else {
        if (lr3(h3._, s2._)) {
          e2 = h3, e2.next = n2, n2.previous = e2, --c2;
          continue t;
        }
        u3 += h3._.r, h3 = h3.previous;
      }
    while (l2 !== h3.next);
    for (s2.previous = e2, s2.next = n2, e2.next = n2.previous = n2 = s2, r3 = cr3(e2); (s2 = s2.next) !== n2; )
      (o2 = cr3(s2)) < r3 && (e2 = s2, r3 = o2);
    n2 = e2.next;
  }
  for (e2 = [n2._], s2 = n2; (s2 = s2.next) !== n2; ) e2.push(s2._);
  for (s2 = Ah2(e2, t3), c2 = 0; c2 < a2; ++c2) e2 = i10[c2], e2.x -= s2.x, e2.y -= s2.y;
  return s2.r;
}
function _h2(i10) {
  return Math.sqrt(i10.value);
}
function Ih2() {
  var i10 = null, t3 = 1, e2 = 1, n2 = Ie3;
  function s2(a2) {
    const r3 = bh2();
    return a2.x = t3 / 2, a2.y = e2 / 2, i10 ? a2.eachBefore(ur3(i10)).eachAfter(Qs2(n2, 0.5, r3)).eachBefore(hr3(1)) : a2.eachBefore(ur3(_h2)).eachAfter(Qs2(Ie3, 1, r3)).eachAfter(Qs2(n2, a2.r / Math.min(t3, e2), r3)).eachBefore(hr3(Math.min(t3, e2) / (2 * a2.r))), a2;
  }
  return s2.radius = function(a2) {
    return arguments.length ? (i10 = xh2(a2), s2) : i10;
  }, s2.size = function(a2) {
    return arguments.length ? (t3 = +a2[0], e2 = +a2[1], s2) : [t3, e2];
  }, s2.padding = function(a2) {
    return arguments.length ? (n2 = typeof a2 == "function" ? a2 : qe3(+a2), s2) : n2;
  }, s2;
}
function ur3(i10) {
  return function(t3) {
    t3.children || (t3.r = Math.max(0, +i10(t3) || 0));
  };
}
function Qs2(i10, t3, e2) {
  return function(n2) {
    if (s2 = n2.children) {
      var s2, a2, r3 = s2.length, o2 = i10(n2) * t3 || 0, c2;
      if (o2) for (a2 = 0; a2 < r3; ++a2) s2[a2].r += o2;
      if (c2 = kh2(s2, e2), o2) for (a2 = 0; a2 < r3; ++a2) s2[a2].r -= o2;
      n2.r = c2 + o2;
    }
  };
}
function hr3(i10) {
  return function(t3) {
    var e2 = t3.parent;
    t3.r *= i10, e2 && (t3.x = e2.x + i10 * t3.x, t3.y = e2.y + i10 * t3.y);
  };
}
function Rh2(i10) {
  i10.x0 = Math.round(i10.x0), i10.y0 = Math.round(i10.y0), i10.x1 = Math.round(i10.x1), i10.y1 = Math.round(i10.y1);
}
function Dh2(i10, t3, e2, n2, s2) {
  for (var a2 = i10.children, r3, o2 = -1, c2 = a2.length, l2 = i10.value && (n2 - t3) / i10.value; ++o2 < c2; )
    r3 = a2[o2], r3.y0 = e2, r3.y1 = s2, r3.x0 = t3, r3.x1 = t3 += r3.value * l2;
}
function Nh2(i10, t3) {
  return i10.parent === t3.parent ? 1 : 2;
}
function ti3(i10) {
  var t3 = i10.children;
  return t3 ? t3[0] : i10.t;
}
function ei3(i10) {
  var t3 = i10.children;
  return t3 ? t3[t3.length - 1] : i10.t;
}
function Ph2(i10, t3, e2) {
  var n2 = e2 / (t3.i - i10.i);
  t3.c -= n2, t3.s += e2, i10.c += n2, t3.z += e2, t3.m += e2;
}
function $h2(i10) {
  for (var t3 = 0, e2 = 0, n2 = i10.children, s2 = n2.length, a2; --s2 >= 0; )
    a2 = n2[s2], a2.z += t3, a2.m += t3, t3 += a2.s + (e2 += a2.c);
}
function Vh2(i10, t3, e2) {
  return i10.a.parent === t3.parent ? i10.a : e2;
}
function ls2(i10, t3) {
  this._ = i10, this.parent = null, this.children = null, this.A = null, this.a = this, this.z = 0, this.m = 0, this.c = 0, this.s = 0, this.t = null, this.i = t3;
}
ls2.prototype = Object.create(_n3.prototype);
function Gh2(i10) {
  for (var t3 = new ls2(i10, 0), e2, n2 = [t3], s2, a2, r3, o2; e2 = n2.pop(); )
    if (a2 = e2._.children)
      for (e2.children = new Array(o2 = a2.length), r3 = o2 - 1; r3 >= 0; --r3)
        n2.push(s2 = e2.children[r3] = new ls2(a2[r3], r3)), s2.parent = e2;
  return (t3.parent = new ls2(null, 0)).children = [t3], t3;
}
function Hh2() {
  var i10 = Nh2, t3 = 1, e2 = 1, n2 = null;
  function s2(l2) {
    var h3 = Gh2(l2);
    if (h3.eachAfter(a2), h3.parent.m = -h3.z, h3.eachBefore(r3), n2) l2.eachBefore(c2);
    else {
      var d2 = l2, u3 = l2, p3 = l2;
      l2.eachBefore(function(S3) {
        S3.x < d2.x && (d2 = S3), S3.x > u3.x && (u3 = S3), S3.depth > p3.depth && (p3 = S3);
      });
      var f2 = d2 === u3 ? 1 : i10(d2, u3) / 2, g3 = f2 - d2.x, m3 = t3 / (u3.x + f2 + g3), y4 = e2 / (p3.depth || 1);
      l2.eachBefore(function(S3) {
        S3.x = (S3.x + g3) * m3, S3.y = S3.depth * y4;
      });
    }
    return l2;
  }
  function a2(l2) {
    var h3 = l2.children, d2 = l2.parent.children, u3 = l2.i ? d2[l2.i - 1] : null;
    if (h3) {
      $h2(l2);
      var p3 = (h3[0].z + h3[h3.length - 1].z) / 2;
      u3 ? (l2.z = u3.z + i10(l2._, u3._), l2.m = l2.z - p3) : l2.z = p3;
    } else u3 && (l2.z = u3.z + i10(l2._, u3._));
    l2.parent.A = o2(l2, u3, l2.parent.A || d2[0]);
  }
  function r3(l2) {
    l2._.x = l2.z + l2.parent.m, l2.m += l2.parent.m;
  }
  function o2(l2, h3, d2) {
    if (h3) {
      for (var u3 = l2, p3 = l2, f2 = h3, g3 = u3.parent.children[0], m3 = u3.m, y4 = p3.m, S3 = f2.m, v4 = g3.m, E; f2 = ei3(f2), u3 = ti3(u3), f2 && u3; )
        g3 = ti3(g3), p3 = ei3(p3), p3.a = l2, E = f2.z + S3 - u3.z - m3 + i10(f2._, u3._), E > 0 && (Ph2(Vh2(f2, l2, d2), l2, E), m3 += E, y4 += E), S3 += f2.m, m3 += u3.m, v4 += g3.m, y4 += p3.m;
      f2 && !ei3(p3) && (p3.t = f2, p3.m += S3 - y4), u3 && !ti3(g3) && (g3.t = u3, g3.m += m3 - v4, d2 = l2);
    }
    return d2;
  }
  function c2(l2) {
    l2.x *= t3, l2.y = l2.depth * e2;
  }
  return s2.separation = function(l2) {
    return arguments.length ? (i10 = l2, s2) : i10;
  }, s2.size = function(l2) {
    return arguments.length ? (n2 = false, t3 = +l2[0], e2 = +l2[1], s2) : n2 ? null : [t3, e2];
  }, s2.nodeSize = function(l2) {
    return arguments.length ? (n2 = true, t3 = +l2[0], e2 = +l2[1], s2) : n2 ? [t3, e2] : null;
  }, s2;
}
function Bh2(i10, t3, e2, n2, s2) {
  for (var a2 = i10.children, r3, o2 = -1, c2 = a2.length, l2 = i10.value && (s2 - e2) / i10.value; ++o2 < c2; )
    r3 = a2[o2], r3.x0 = t3, r3.x1 = n2, r3.y0 = e2, r3.y1 = e2 += r3.value * l2;
}
var zh2 = (1 + Math.sqrt(5)) / 2;
function Uh2(i10, t3, e2, n2, s2, a2) {
  for (var r3 = [], o2 = t3.children, c2, l2, h3 = 0, d2 = 0, u3 = o2.length, p3, f2, g3 = t3.value, m3, y4, S3, v4, E, x4, b3; h3 < u3; ) {
    p3 = s2 - e2, f2 = a2 - n2;
    do
      m3 = o2[d2++].value;
    while (!m3 && d2 < u3);
    for (y4 = S3 = m3, x4 = Math.max(f2 / p3, p3 / f2) / (g3 * i10), b3 = m3 * m3 * x4, E = Math.max(S3 / b3, b3 / y4); d2 < u3; ++d2) {
      if (m3 += l2 = o2[d2].value, l2 < y4 && (y4 = l2), l2 > S3 && (S3 = l2), b3 = m3 * m3 * x4, v4 = Math.max(S3 / b3, b3 / y4), v4 > E) {
        m3 -= l2;
        break;
      }
      E = v4;
    }
    r3.push(c2 = { value: m3, dice: p3 < f2, children: o2.slice(h3, d2) }), c2.dice ? Dh2(c2, e2, n2, s2, g3 ? n2 += f2 * m3 / g3 : a2) : Bh2(c2, e2, n2, g3 ? e2 += p3 * m3 / g3 : s2, a2), g3 -= m3, h3 = d2;
  }
  return r3;
}
var Fh2 = function i2(t3) {
  function e2(n2, s2, a2, r3, o2) {
    Uh2(t3, n2, s2, a2, r3, o2);
  }
  return e2.ratio = function(n2) {
    return i2((n2 = +n2) > 1 ? n2 : 1);
  }, e2;
}(zh2);
function Wh2() {
  var i10 = Fh2, t3 = false, e2 = 1, n2 = 1, s2 = [0], a2 = Ie3, r3 = Ie3, o2 = Ie3, c2 = Ie3, l2 = Ie3;
  function h3(u3) {
    return u3.x0 = u3.y0 = 0, u3.x1 = e2, u3.y1 = n2, u3.eachBefore(d2), s2 = [0], t3 && u3.eachBefore(Rh2), u3;
  }
  function d2(u3) {
    var p3 = s2[u3.depth], f2 = u3.x0 + p3, g3 = u3.y0 + p3, m3 = u3.x1 - p3, y4 = u3.y1 - p3;
    m3 < f2 && (f2 = m3 = (f2 + m3) / 2), y4 < g3 && (g3 = y4 = (g3 + y4) / 2), u3.x0 = f2, u3.y0 = g3, u3.x1 = m3, u3.y1 = y4, u3.children && (p3 = s2[u3.depth + 1] = a2(u3) / 2, f2 += l2(u3) - p3, g3 += r3(u3) - p3, m3 -= o2(u3) - p3, y4 -= c2(u3) - p3, m3 < f2 && (f2 = m3 = (f2 + m3) / 2), y4 < g3 && (g3 = y4 = (g3 + y4) / 2), i10(u3, f2, g3, m3, y4));
  }
  return h3.round = function(u3) {
    return arguments.length ? (t3 = !!u3, h3) : t3;
  }, h3.size = function(u3) {
    return arguments.length ? (e2 = +u3[0], n2 = +u3[1], h3) : [e2, n2];
  }, h3.tile = function(u3) {
    return arguments.length ? (i10 = Po2(u3), h3) : i10;
  }, h3.padding = function(u3) {
    return arguments.length ? h3.paddingInner(u3).paddingOuter(u3) : h3.paddingInner();
  }, h3.paddingInner = function(u3) {
    return arguments.length ? (a2 = typeof u3 == "function" ? u3 : qe3(+u3), h3) : a2;
  }, h3.paddingOuter = function(u3) {
    return arguments.length ? h3.paddingTop(u3).paddingRight(u3).paddingBottom(u3).paddingLeft(u3) : h3.paddingTop();
  }, h3.paddingTop = function(u3) {
    return arguments.length ? (r3 = typeof u3 == "function" ? u3 : qe3(+u3), h3) : r3;
  }, h3.paddingRight = function(u3) {
    return arguments.length ? (o2 = typeof u3 == "function" ? u3 : qe3(+u3), h3) : o2;
  }, h3.paddingBottom = function(u3) {
    return arguments.length ? (c2 = typeof u3 == "function" ? u3 : qe3(+u3), h3) : c2;
  }, h3.paddingLeft = function(u3) {
    return arguments.length ? (l2 = typeof u3 == "function" ? u3 : qe3(+u3), h3) : l2;
  }, h3;
}
function ws2(i10) {
  let t3 = 3;
  return i10.digits = function(e2) {
    if (!arguments.length) return t3;
    if (e2 == null)
      t3 = null;
    else {
      const n2 = Math.floor(e2);
      if (!(n2 >= 0)) throw new RangeError(`invalid digits: ${e2}`);
      t3 = n2;
    }
    return i10;
  }, () => new Fi3(t3);
}
function Xh2(i10) {
  return i10.innerRadius;
}
function Yh2(i10) {
  return i10.outerRadius;
}
function Zh2(i10) {
  return i10.startAngle;
}
function qh2(i10) {
  return i10.endAngle;
}
function jh2(i10) {
  return i10 && i10.padAngle;
}
function Kh2(i10, t3, e2, n2, s2, a2, r3, o2) {
  var c2 = e2 - i10, l2 = n2 - t3, h3 = r3 - s2, d2 = o2 - a2, u3 = d2 * c2 - h3 * l2;
  if (!(u3 * u3 < Bi2))
    return u3 = (h3 * (t3 - a2) - d2 * (i10 - s2)) / u3, [i10 + u3 * c2, t3 + u3 * l2];
}
function Kn3(i10, t3, e2, n2, s2, a2, r3) {
  var o2 = i10 - e2, c2 = t3 - n2, l2 = (r3 ? a2 : -a2) / _i2(o2 * o2 + c2 * c2), h3 = l2 * c2, d2 = -l2 * o2, u3 = i10 + h3, p3 = t3 + d2, f2 = e2 + h3, g3 = n2 + d2, m3 = (u3 + f2) / 2, y4 = (p3 + g3) / 2, S3 = f2 - u3, v4 = g3 - p3, E = S3 * S3 + v4 * v4, x4 = s2 - a2, b3 = u3 * g3 - f2 * p3, _4 = (v4 < 0 ? -1 : 1) * _i2(Wi2(0, x4 * x4 * E - b3 * b3)), k5 = (b3 * v4 - S3 * _4) / E, G5 = (-b3 * S3 - v4 * _4) / E, R4 = (b3 * v4 + S3 * _4) / E, A2 = (-b3 * S3 + v4 * _4) / E, H5 = k5 - m3, N4 = G5 - y4, M4 = R4 - m3, O3 = A2 - y4;
  return H5 * H5 + N4 * N4 > M4 * M4 + O3 * O3 && (k5 = R4, G5 = A2), {
    cx: k5,
    cy: G5,
    x01: -h3,
    y01: -d2,
    x11: k5 * (s2 / x4 - 1),
    y11: G5 * (s2 / x4 - 1)
  };
}
function In2() {
  var i10 = Xh2, t3 = Yh2, e2 = g2(0), n2 = null, s2 = Zh2, a2 = qh2, r3 = jh2, o2 = null, c2 = ws2(l2);
  function l2() {
    var h3, d2, u3 = +i10.apply(this, arguments), p3 = +t3.apply(this, arguments), f2 = s2.apply(this, arguments) - Ke2, g3 = a2.apply(this, arguments) - Ke2, m3 = Pi2(g3 - f2), y4 = g3 > f2;
    if (o2 || (o2 = h3 = c2()), p3 < u3 && (d2 = p3, p3 = u3, u3 = d2), !(p3 > Bi2)) o2.moveTo(0, 0);
    else if (m3 > Vi2 - Bi2)
      o2.moveTo(p3 * Oi2(f2), p3 * Yi2(f2)), o2.arc(0, 0, p3, f2, g3, !y4), u3 > Bi2 && (o2.moveTo(u3 * Oi2(g3), u3 * Yi2(g3)), o2.arc(0, 0, u3, g3, f2, y4));
    else {
      var S3 = f2, v4 = g3, E = f2, x4 = g3, b3 = m3, _4 = m3, k5 = r3.apply(this, arguments) / 2, G5 = k5 > Bi2 && (n2 ? +n2.apply(this, arguments) : _i2(u3 * u3 + p3 * p3)), R4 = $i2(Pi2(p3 - u3) / 2, +e2.apply(this, arguments)), A2 = R4, H5 = R4, N4, M4;
      if (G5 > Bi2) {
        var O3 = qi2(G5 / u3 * Yi2(k5)), P3 = qi2(G5 / p3 * Yi2(k5));
        (b3 -= O3 * 2) > Bi2 ? (O3 *= y4 ? 1 : -1, E += O3, x4 -= O3) : (b3 = 0, E = x4 = (f2 + g3) / 2), (_4 -= P3 * 2) > Bi2 ? (P3 *= y4 ? 1 : -1, S3 += P3, v4 -= P3) : (_4 = 0, S3 = v4 = (f2 + g3) / 2);
      }
      var $4 = p3 * Oi2(S3), C3 = p3 * Yi2(S3), V5 = u3 * Oi2(x4), q4 = u3 * Yi2(x4);
      if (R4 > Bi2) {
        var X6 = p3 * Oi2(v4), F4 = p3 * Yi2(v4), Z5 = u3 * Oi2(E), rt5 = u3 * Yi2(E), j5;
        if (m3 < Ie2)
          if (j5 = Kh2($4, C3, Z5, rt5, X6, F4, V5, q4)) {
            var Y6 = $4 - j5[0], K5 = C3 - j5[1], ot5 = X6 - j5[0], ct5 = F4 - j5[1], st4 = 1 / Yi2(zi2((Y6 * ot5 + K5 * ct5) / (_i2(Y6 * Y6 + K5 * K5) * _i2(ot5 * ot5 + ct5 * ct5))) / 2), it5 = _i2(j5[0] * j5[0] + j5[1] * j5[1]);
            A2 = $i2(R4, (u3 - it5) / (st4 - 1)), H5 = $i2(R4, (p3 - it5) / (st4 + 1));
          } else
            A2 = H5 = 0;
      }
      _4 > Bi2 ? H5 > Bi2 ? (N4 = Kn3(Z5, rt5, $4, C3, p3, H5, y4), M4 = Kn3(X6, F4, V5, q4, p3, H5, y4), o2.moveTo(N4.cx + N4.x01, N4.cy + N4.y01), H5 < R4 ? o2.arc(N4.cx, N4.cy, H5, ki2(N4.y01, N4.x01), ki2(M4.y01, M4.x01), !y4) : (o2.arc(N4.cx, N4.cy, H5, ki2(N4.y01, N4.x01), ki2(N4.y11, N4.x11), !y4), o2.arc(0, 0, p3, ki2(N4.cy + N4.y11, N4.cx + N4.x11), ki2(M4.cy + M4.y11, M4.cx + M4.x11), !y4), o2.arc(M4.cx, M4.cy, H5, ki2(M4.y11, M4.x11), ki2(M4.y01, M4.x01), !y4))) : (o2.moveTo($4, C3), o2.arc(0, 0, p3, S3, v4, !y4)) : o2.moveTo($4, C3), !(u3 > Bi2) || !(b3 > Bi2) ? o2.lineTo(V5, q4) : A2 > Bi2 ? (N4 = Kn3(V5, q4, X6, F4, u3, -A2, y4), M4 = Kn3($4, C3, Z5, rt5, u3, -A2, y4), o2.lineTo(N4.cx + N4.x01, N4.cy + N4.y01), A2 < R4 ? o2.arc(N4.cx, N4.cy, A2, ki2(N4.y01, N4.x01), ki2(M4.y01, M4.x01), !y4) : (o2.arc(N4.cx, N4.cy, A2, ki2(N4.y01, N4.x01), ki2(N4.y11, N4.x11), !y4), o2.arc(0, 0, u3, ki2(N4.cy + N4.y11, N4.cx + N4.x11), ki2(M4.cy + M4.y11, M4.cx + M4.x11), y4), o2.arc(M4.cx, M4.cy, A2, ki2(M4.y11, M4.x11), ki2(M4.y01, M4.x01), !y4))) : o2.arc(0, 0, u3, x4, E, y4);
    }
    if (o2.closePath(), h3) return o2 = null, h3 + "" || null;
  }
  return l2.centroid = function() {
    var h3 = (+i10.apply(this, arguments) + +t3.apply(this, arguments)) / 2, d2 = (+s2.apply(this, arguments) + +a2.apply(this, arguments)) / 2 - Ie2 / 2;
    return [Oi2(d2) * h3, Yi2(d2) * h3];
  }, l2.innerRadius = function(h3) {
    return arguments.length ? (i10 = typeof h3 == "function" ? h3 : g2(+h3), l2) : i10;
  }, l2.outerRadius = function(h3) {
    return arguments.length ? (t3 = typeof h3 == "function" ? h3 : g2(+h3), l2) : t3;
  }, l2.cornerRadius = function(h3) {
    return arguments.length ? (e2 = typeof h3 == "function" ? h3 : g2(+h3), l2) : e2;
  }, l2.padRadius = function(h3) {
    return arguments.length ? (n2 = h3 == null ? null : typeof h3 == "function" ? h3 : g2(+h3), l2) : n2;
  }, l2.startAngle = function(h3) {
    return arguments.length ? (s2 = typeof h3 == "function" ? h3 : g2(+h3), l2) : s2;
  }, l2.endAngle = function(h3) {
    return arguments.length ? (a2 = typeof h3 == "function" ? h3 : g2(+h3), l2) : a2;
  }, l2.padAngle = function(h3) {
    return arguments.length ? (r3 = typeof h3 == "function" ? h3 : g2(+h3), l2) : r3;
  }, l2.context = function(h3) {
    return arguments.length ? (o2 = h3 ?? null, l2) : o2;
  }, l2;
}
function Zi3(i10) {
  return i10[0];
}
function qi3(i10) {
  return i10[1];
}
function Dn3(i10, t3) {
  var e2 = g2(true), n2 = null, s2 = Gi2, a2 = null, r3 = ws2(o2);
  i10 = typeof i10 == "function" ? i10 : i10 === void 0 ? Zi3 : g2(i10), t3 = typeof t3 == "function" ? t3 : t3 === void 0 ? qi3 : g2(t3);
  function o2(c2) {
    var l2, h3 = (c2 = m2(c2)).length, d2, u3 = false, p3;
    for (n2 == null && (a2 = s2(p3 = r3())), l2 = 0; l2 <= h3; ++l2)
      !(l2 < h3 && e2(d2 = c2[l2], l2, c2)) === u3 && ((u3 = !u3) ? a2.lineStart() : a2.lineEnd()), u3 && a2.point(+i10(d2, l2, c2), +t3(d2, l2, c2));
    if (p3) return a2 = null, p3 + "" || null;
  }
  return o2.x = function(c2) {
    return arguments.length ? (i10 = typeof c2 == "function" ? c2 : g2(+c2), o2) : i10;
  }, o2.y = function(c2) {
    return arguments.length ? (t3 = typeof c2 == "function" ? c2 : g2(+c2), o2) : t3;
  }, o2.defined = function(c2) {
    return arguments.length ? (e2 = typeof c2 == "function" ? c2 : g2(!!c2), o2) : e2;
  }, o2.curve = function(c2) {
    return arguments.length ? (s2 = c2, n2 != null && (a2 = s2(n2)), o2) : s2;
  }, o2.context = function(c2) {
    return arguments.length ? (c2 == null ? n2 = a2 = null : a2 = s2(n2 = c2), o2) : n2;
  }, o2;
}
function ji3(i10, t3, e2) {
  var n2 = null, s2 = g2(true), a2 = null, r3 = Gi2, o2 = null, c2 = ws2(l2);
  i10 = typeof i10 == "function" ? i10 : i10 === void 0 ? Zi3 : g2(+i10), t3 = typeof t3 == "function" ? t3 : t3 === void 0 ? g2(0) : g2(+t3), e2 = typeof e2 == "function" ? e2 : e2 === void 0 ? qi3 : g2(+e2);
  function l2(d2) {
    var u3, p3, f2, g3 = (d2 = m2(d2)).length, m3, y4 = false, S3, v4 = new Array(g3), E = new Array(g3);
    for (a2 == null && (o2 = r3(S3 = c2())), u3 = 0; u3 <= g3; ++u3) {
      if (!(u3 < g3 && s2(m3 = d2[u3], u3, d2)) === y4)
        if (y4 = !y4)
          p3 = u3, o2.areaStart(), o2.lineStart();
        else {
          for (o2.lineEnd(), o2.lineStart(), f2 = u3 - 1; f2 >= p3; --f2)
            o2.point(v4[f2], E[f2]);
          o2.lineEnd(), o2.areaEnd();
        }
      y4 && (v4[u3] = +i10(m3, u3, d2), E[u3] = +t3(m3, u3, d2), o2.point(n2 ? +n2(m3, u3, d2) : v4[u3], e2 ? +e2(m3, u3, d2) : E[u3]));
    }
    if (S3) return o2 = null, S3 + "" || null;
  }
  function h3() {
    return Dn3().defined(s2).curve(r3).context(a2);
  }
  return l2.x = function(d2) {
    return arguments.length ? (i10 = typeof d2 == "function" ? d2 : g2(+d2), n2 = null, l2) : i10;
  }, l2.x0 = function(d2) {
    return arguments.length ? (i10 = typeof d2 == "function" ? d2 : g2(+d2), l2) : i10;
  }, l2.x1 = function(d2) {
    return arguments.length ? (n2 = d2 == null ? null : typeof d2 == "function" ? d2 : g2(+d2), l2) : n2;
  }, l2.y = function(d2) {
    return arguments.length ? (t3 = typeof d2 == "function" ? d2 : g2(+d2), e2 = null, l2) : t3;
  }, l2.y0 = function(d2) {
    return arguments.length ? (t3 = typeof d2 == "function" ? d2 : g2(+d2), l2) : t3;
  }, l2.y1 = function(d2) {
    return arguments.length ? (e2 = d2 == null ? null : typeof d2 == "function" ? d2 : g2(+d2), l2) : e2;
  }, l2.lineX0 = l2.lineY0 = function() {
    return h3().x(i10).y(t3);
  }, l2.lineY1 = function() {
    return h3().x(i10).y(e2);
  }, l2.lineX1 = function() {
    return h3().x(n2).y(t3);
  }, l2.defined = function(d2) {
    return arguments.length ? (s2 = typeof d2 == "function" ? d2 : g2(!!d2), l2) : s2;
  }, l2.curve = function(d2) {
    return arguments.length ? (r3 = d2, a2 != null && (o2 = r3(a2)), l2) : r3;
  }, l2.context = function(d2) {
    return arguments.length ? (d2 == null ? a2 = o2 = null : o2 = r3(a2 = d2), l2) : a2;
  }, l2;
}
function Jh2(i10, t3) {
  return t3 < i10 ? -1 : t3 > i10 ? 1 : t3 >= i10 ? 0 : NaN;
}
function Qh2(i10) {
  return i10;
}
function td2() {
  var i10 = Qh2, t3 = Jh2, e2 = null, n2 = g2(0), s2 = g2(Vi2), a2 = g2(0);
  function r3(o2) {
    var c2, l2 = (o2 = m2(o2)).length, h3, d2, u3 = 0, p3 = new Array(l2), f2 = new Array(l2), g3 = +n2.apply(this, arguments), m3 = Math.min(Vi2, Math.max(-Vi2, s2.apply(this, arguments) - g3)), y4, S3 = Math.min(Math.abs(m3) / l2, a2.apply(this, arguments)), v4 = S3 * (m3 < 0 ? -1 : 1), E;
    for (c2 = 0; c2 < l2; ++c2)
      (E = f2[p3[c2] = c2] = +i10(o2[c2], c2, o2)) > 0 && (u3 += E);
    for (t3 != null ? p3.sort(function(x4, b3) {
      return t3(f2[x4], f2[b3]);
    }) : e2 != null && p3.sort(function(x4, b3) {
      return e2(o2[x4], o2[b3]);
    }), c2 = 0, d2 = u3 ? (m3 - l2 * v4) / u3 : 0; c2 < l2; ++c2, g3 = y4)
      h3 = p3[c2], E = f2[h3], y4 = g3 + (E > 0 ? E * d2 : 0) + v4, f2[h3] = {
        data: o2[h3],
        index: c2,
        value: E,
        startAngle: g3,
        endAngle: y4,
        padAngle: S3
      };
    return f2;
  }
  return r3.value = function(o2) {
    return arguments.length ? (i10 = typeof o2 == "function" ? o2 : g2(+o2), r3) : i10;
  }, r3.sortValues = function(o2) {
    return arguments.length ? (t3 = o2, e2 = null, r3) : t3;
  }, r3.sort = function(o2) {
    return arguments.length ? (e2 = o2, t3 = null, r3) : e2;
  }, r3.startAngle = function(o2) {
    return arguments.length ? (n2 = typeof o2 == "function" ? o2 : g2(+o2), r3) : n2;
  }, r3.endAngle = function(o2) {
    return arguments.length ? (s2 = typeof o2 == "function" ? o2 : g2(+o2), r3) : s2;
  }, r3.padAngle = function(o2) {
    return arguments.length ? (a2 = typeof o2 == "function" ? o2 : g2(+o2), r3) : a2;
  }, r3;
}
var ed2 = Ho2(Gi2);
function Go2(i10) {
  this._curve = i10;
}
Go2.prototype = {
  areaStart: function() {
    this._curve.areaStart();
  },
  areaEnd: function() {
    this._curve.areaEnd();
  },
  lineStart: function() {
    this._curve.lineStart();
  },
  lineEnd: function() {
    this._curve.lineEnd();
  },
  point: function(i10, t3) {
    this._curve.point(t3 * Math.sin(i10), t3 * -Math.cos(i10));
  }
};
function Ho2(i10) {
  function t3(e2) {
    return new Go2(i10(e2));
  }
  return t3._curve = i10, t3;
}
function nd2(i10) {
  var t3 = i10.curve;
  return i10.angle = i10.x, delete i10.x, i10.radius = i10.y, delete i10.y, i10.curve = function(e2) {
    return arguments.length ? t3(Ho2(e2)) : t3()._curve;
  }, i10;
}
function sd2() {
  return nd2(Dn3().curve(ed2));
}
var id2 = class {
  constructor(t3, e2) {
    this._context = t3, this._x = e2;
  }
  areaStart() {
    this._line = 0;
  }
  areaEnd() {
    this._line = NaN;
  }
  lineStart() {
    this._point = 0;
  }
  lineEnd() {
    (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line;
  }
  point(t3, e2) {
    switch (t3 = +t3, e2 = +e2, this._point) {
      case 0: {
        this._point = 1, this._line ? this._context.lineTo(t3, e2) : this._context.moveTo(t3, e2);
        break;
      }
      case 1:
        this._point = 2;
      default: {
        this._x ? this._context.bezierCurveTo(this._x0 = (this._x0 + t3) / 2, this._y0, this._x0, e2, t3, e2) : this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + e2) / 2, t3, this._y0, t3, e2);
        break;
      }
    }
    this._x0 = t3, this._y0 = e2;
  }
};
function ad2(i10) {
  return new id2(i10, true);
}
function rd2(i10) {
  return i10.source;
}
function od2(i10) {
  return i10.target;
}
function ld2(i10) {
  let t3 = rd2, e2 = od2, n2 = Zi3, s2 = qi3, a2 = null, r3 = null, o2 = ws2(c2);
  function c2() {
    let l2;
    const h3 = k3.call(arguments), d2 = t3.apply(this, h3), u3 = e2.apply(this, h3);
    if (a2 == null && (r3 = i10(l2 = o2())), r3.lineStart(), h3[0] = d2, r3.point(+n2.apply(this, h3), +s2.apply(this, h3)), h3[0] = u3, r3.point(+n2.apply(this, h3), +s2.apply(this, h3)), r3.lineEnd(), l2) return r3 = null, l2 + "" || null;
  }
  return c2.source = function(l2) {
    return arguments.length ? (t3 = l2, c2) : t3;
  }, c2.target = function(l2) {
    return arguments.length ? (e2 = l2, c2) : e2;
  }, c2.x = function(l2) {
    return arguments.length ? (n2 = typeof l2 == "function" ? l2 : g2(+l2), c2) : n2;
  }, c2.y = function(l2) {
    return arguments.length ? (s2 = typeof l2 == "function" ? l2 : g2(+l2), c2) : s2;
  }, c2.context = function(l2) {
    return arguments.length ? (l2 == null ? a2 = r3 = null : r3 = i10(a2 = l2), c2) : a2;
  }, c2;
}
function cd2() {
  return ld2(ad2);
}
var dt4 = class {
  constructor(t3, e2, n2) {
    if (this.type = "", this.renderType = D.HTML, this.id = "", this.parent = void 0, this.configs = {}, this.model = t3, this.services = e2, n2 && (this.configs = n2, this.configs.id)) {
      const s2 = rt(this.model.getOptions(), "style", "prefix");
      this.id = `${s2}--${this.configs.id}`;
    }
    this.parent || this.setParent(
      D3(
        this.services.domUtils.getMainContainer()
      )
    );
  }
  init() {
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = true) {
    console.error("Error: Component did not provide the required render function.");
  }
  destroy() {
  }
  // Used to pass down information to the components
  setModel(t3) {
    this.model = t3;
  }
  // Used to pass down information to the components
  setServices(t3) {
    this.services = t3;
  }
  setParent(t3) {
    var n2;
    const e2 = this.parent;
    if (this.parent = t3, !(e2 && e2.node() === t3.node()) && this.type) {
      const s2 = rt(this.model.getOptions(), "style", "prefix");
      (n2 = this.parent) == null || n2.classed(`${bm}--${s2}--${this.type}`, true), e2 && e2.classed(`${bm}--${s2}--${this.type}`, false);
    }
  }
  getParent() {
    return this.parent;
  }
  getComponentContainer(t3 = { ariaLabel: null, isPresentational: false, withinChartClip: false }) {
    if (this.type) {
      const e2 = rt(this.model.getOptions(), "style", "prefix"), n2 = this.id ? `#${this.id}` : "", s2 = ve2.appendOrSelect(
        this.parent,
        `${this.renderType === D.SVG ? "svg" : "div"}${n2}.${bm}--${e2}--${this.type}`
      );
      if (t3.ariaLabel && s2.attr("aria-label", t3.ariaLabel), t3.isPresentational && s2.attr("role", "presentation"), t3.withinChartClip) {
        const a2 = this.model.get("chartClipId");
        if (a2) {
          const o2 = D3(`#${a2}`).select("rect");
          o2.size() !== 0 && parseFloat(o2.attr("height")) > 0 && s2.attr("clip-path", `url(#${a2})`);
        }
      }
      return s2.attr("width", "100%").attr("height", "100%");
    }
    return this.parent;
  }
  /**
   * graphs used in combo charts share a model with global options but can receive their own local options.
   * this function retrieves the global options and merges it with any options passed into this
   * component's config.options object.
   */
  getOptions() {
    return this.configs.options ? y2({}, this.model.getOptions(), this.configs.options) : this.model.getOptions();
  }
};
var {
  entries: Bo2,
  setPrototypeOf: dr3,
  isFrozen: ud2,
  getPrototypeOf: hd2,
  getOwnPropertyDescriptor: dd2
} = Object;
var {
  freeze: Ht3,
  seal: ee3,
  create: zo2
} = Object;
var {
  apply: Ni3,
  construct: Pi3
} = typeof Reflect < "u" && Reflect;
Ht3 || (Ht3 = function(t3) {
  return t3;
});
ee3 || (ee3 = function(t3) {
  return t3;
});
Ni3 || (Ni3 = function(t3, e2, n2) {
  return t3.apply(e2, n2);
});
Pi3 || (Pi3 = function(t3, e2) {
  return new t3(...e2);
});
var Jn3 = Bt3(Array.prototype.forEach);
var pd2 = Bt3(Array.prototype.lastIndexOf);
var pr3 = Bt3(Array.prototype.pop);
var hn3 = Bt3(Array.prototype.push);
var fd2 = Bt3(Array.prototype.splice);
var cs2 = Bt3(String.prototype.toLowerCase);
var ni3 = Bt3(String.prototype.toString);
var fr3 = Bt3(String.prototype.match);
var dn3 = Bt3(String.prototype.replace);
var gd2 = Bt3(String.prototype.indexOf);
var md2 = Bt3(String.prototype.trim);
var ie2 = Bt3(Object.prototype.hasOwnProperty);
var $t3 = Bt3(RegExp.prototype.test);
var pn3 = vd2(TypeError);
function Bt3(i10) {
  return function(t3) {
    for (var e2 = arguments.length, n2 = new Array(e2 > 1 ? e2 - 1 : 0), s2 = 1; s2 < e2; s2++)
      n2[s2 - 1] = arguments[s2];
    return Ni3(i10, t3, n2);
  };
}
function vd2(i10) {
  return function() {
    for (var t3 = arguments.length, e2 = new Array(t3), n2 = 0; n2 < t3; n2++)
      e2[n2] = arguments[n2];
    return Pi3(i10, e2);
  };
}
function ut2(i10, t3) {
  let e2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : cs2;
  dr3 && dr3(i10, null);
  let n2 = t3.length;
  for (; n2--; ) {
    let s2 = t3[n2];
    if (typeof s2 == "string") {
      const a2 = e2(s2);
      a2 !== s2 && (ud2(t3) || (t3[n2] = a2), s2 = a2);
    }
    i10[s2] = true;
  }
  return i10;
}
function yd2(i10) {
  for (let t3 = 0; t3 < i10.length; t3++)
    ie2(i10, t3) || (i10[t3] = null);
  return i10;
}
function ke2(i10) {
  const t3 = zo2(null);
  for (const [e2, n2] of Bo2(i10))
    ie2(i10, e2) && (Array.isArray(n2) ? t3[e2] = yd2(n2) : n2 && typeof n2 == "object" && n2.constructor === Object ? t3[e2] = ke2(n2) : t3[e2] = n2);
  return t3;
}
function fn3(i10, t3) {
  for (; i10 !== null; ) {
    const n2 = dd2(i10, t3);
    if (n2) {
      if (n2.get)
        return Bt3(n2.get);
      if (typeof n2.value == "function")
        return Bt3(n2.value);
    }
    i10 = hd2(i10);
  }
  function e2() {
    return null;
  }
  return e2;
}
var gr3 = Ht3(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dialog", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"]);
var si3 = Ht3(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "view", "vkern"]);
var ii3 = Ht3(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feDropShadow", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"]);
var Ed2 = Ht3(["animate", "color-profile", "cursor", "discard", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignobject", "hatch", "hatchpath", "mesh", "meshgradient", "meshpatch", "meshrow", "missing-glyph", "script", "set", "solidcolor", "unknown", "use"]);
var ai3 = Ht3(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover", "mprescripts"]);
var xd2 = Ht3(["maction", "maligngroup", "malignmark", "mlongdiv", "mscarries", "mscarry", "msgroup", "mstack", "msline", "msrow", "semantics", "annotation", "annotation-xml", "mprescripts", "none"]);
var mr3 = Ht3(["#text"]);
var vr3 = Ht3(["accept", "action", "align", "alt", "autocapitalize", "autocomplete", "autopictureinpicture", "autoplay", "background", "bgcolor", "border", "capture", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "controls", "controlslist", "coords", "crossorigin", "datetime", "decoding", "default", "dir", "disabled", "disablepictureinpicture", "disableremoteplayback", "download", "draggable", "enctype", "enterkeyhint", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "inputmode", "integrity", "ismap", "kind", "label", "lang", "list", "loading", "loop", "low", "max", "maxlength", "media", "method", "min", "minlength", "multiple", "muted", "name", "nonce", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "playsinline", "popover", "popovertarget", "popovertargetaction", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "translate", "type", "usemap", "valign", "value", "width", "wrap", "xmlns", "slot"]);
var ri3 = Ht3(["accent-height", "accumulate", "additive", "alignment-baseline", "amplitude", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clippathunits", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "exponent", "fill", "fill-opacity", "fill-rule", "filter", "filterunits", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "intercept", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "primitiveunits", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "slope", "specularconstant", "specularexponent", "spreadmethod", "startoffset", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "systemlanguage", "tabindex", "tablevalues", "targetx", "targety", "transform", "transform-origin", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"]);
var yr3 = Ht3(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "encoding", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"]);
var Qn3 = Ht3(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"]);
var Sd2 = ee3(/\{\{[\w\W]*|[\w\W]*\}\}/gm);
var Td2 = ee3(/<%[\w\W]*|[\w\W]*%>/gm);
var bd2 = ee3(/\$\{[\w\W]*/gm);
var Od2 = ee3(/^data-[\-\w.\u00B7-\uFFFF]+$/);
var Ld2 = ee3(/^aria-[\-\w]+$/);
var Uo2 = ee3(
  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i
  // eslint-disable-line no-useless-escape
);
var Ad2 = ee3(/^(?:\w+script|data):/i);
var Md2 = ee3(
  /[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g
  // eslint-disable-line no-control-regex
);
var Fo2 = ee3(/^html$/i);
var wd2 = ee3(/^[a-z][.\w]*(-[.\w]+)+$/i);
var Er3 = Object.freeze({
  __proto__: null,
  ARIA_ATTR: Ld2,
  ATTR_WHITESPACE: Md2,
  CUSTOM_ELEMENT: wd2,
  DATA_ATTR: Od2,
  DOCTYPE_NAME: Fo2,
  ERB_EXPR: Td2,
  IS_ALLOWED_URI: Uo2,
  IS_SCRIPT_OR_DATA: Ad2,
  MUSTACHE_EXPR: Sd2,
  TMPLIT_EXPR: bd2
});
var gn3 = {
  element: 1,
  text: 3,
  // Deprecated
  progressingInstruction: 7,
  comment: 8,
  document: 9
};
var Cd2 = function() {
  return typeof window > "u" ? null : window;
};
var kd2 = function(t3, e2) {
  if (typeof t3 != "object" || typeof t3.createPolicy != "function")
    return null;
  let n2 = null;
  const s2 = "data-tt-policy-suffix";
  e2 && e2.hasAttribute(s2) && (n2 = e2.getAttribute(s2));
  const a2 = "dompurify" + (n2 ? "#" + n2 : "");
  try {
    return t3.createPolicy(a2, {
      createHTML(r3) {
        return r3;
      },
      createScriptURL(r3) {
        return r3;
      }
    });
  } catch {
    return console.warn("TrustedTypes policy " + a2 + " could not be created."), null;
  }
};
var xr3 = function() {
  return {
    afterSanitizeAttributes: [],
    afterSanitizeElements: [],
    afterSanitizeShadowDOM: [],
    beforeSanitizeAttributes: [],
    beforeSanitizeElements: [],
    beforeSanitizeShadowDOM: [],
    uponSanitizeAttribute: [],
    uponSanitizeElement: [],
    uponSanitizeShadowNode: []
  };
};
function Wo2() {
  let i10 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : Cd2();
  const t3 = (tt5) => Wo2(tt5);
  if (t3.version = "3.2.4", t3.removed = [], !i10 || !i10.document || i10.document.nodeType !== gn3.document || !i10.Element)
    return t3.isSupported = false, t3;
  let {
    document: e2
  } = i10;
  const n2 = e2, s2 = n2.currentScript, {
    DocumentFragment: a2,
    HTMLTemplateElement: r3,
    Node: o2,
    Element: c2,
    NodeFilter: l2,
    NamedNodeMap: h3 = i10.NamedNodeMap || i10.MozNamedAttrMap,
    HTMLFormElement: d2,
    DOMParser: u3,
    trustedTypes: p3
  } = i10, f2 = c2.prototype, g3 = fn3(f2, "cloneNode"), m3 = fn3(f2, "remove"), y4 = fn3(f2, "nextSibling"), S3 = fn3(f2, "childNodes"), v4 = fn3(f2, "parentNode");
  if (typeof r3 == "function") {
    const tt5 = e2.createElement("template");
    tt5.content && tt5.content.ownerDocument && (e2 = tt5.content.ownerDocument);
  }
  let E, x4 = "";
  const {
    implementation: b3,
    createNodeIterator: _4,
    createDocumentFragment: k5,
    getElementsByTagName: G5
  } = e2, {
    importNode: R4
  } = n2;
  let A2 = xr3();
  t3.isSupported = typeof Bo2 == "function" && typeof v4 == "function" && b3 && b3.createHTMLDocument !== void 0;
  const {
    MUSTACHE_EXPR: H5,
    ERB_EXPR: N4,
    TMPLIT_EXPR: M4,
    DATA_ATTR: O3,
    ARIA_ATTR: P3,
    IS_SCRIPT_OR_DATA: $4,
    ATTR_WHITESPACE: C3,
    CUSTOM_ELEMENT: V5
  } = Er3;
  let {
    IS_ALLOWED_URI: q4
  } = Er3, X6 = null;
  const F4 = ut2({}, [...gr3, ...si3, ...ii3, ...ai3, ...mr3]);
  let Z5 = null;
  const rt5 = ut2({}, [...vr3, ...ri3, ...yr3, ...Qn3]);
  let j5 = Object.seal(zo2(null, {
    tagNameCheck: {
      writable: true,
      configurable: false,
      enumerable: true,
      value: null
    },
    attributeNameCheck: {
      writable: true,
      configurable: false,
      enumerable: true,
      value: null
    },
    allowCustomizedBuiltInElements: {
      writable: true,
      configurable: false,
      enumerable: true,
      value: false
    }
  })), Y6 = null, K5 = null, ot5 = true, ct5 = true, st4 = false, it5 = true, B5 = false, z5 = true, U3 = false, Mt4 = false, Se3 = false, et4 = false, yt5 = false, Zt = false, Wt2 = true, rn3 = false;
  const on3 = "user-content-";
  let Oe2 = true, ne4 = false, $e2 = {}, Ve3 = null;
  const ea2 = ut2({}, ["annotation-xml", "audio", "colgroup", "desc", "foreignobject", "head", "iframe", "math", "mi", "mn", "mo", "ms", "mtext", "noembed", "noframes", "noscript", "plaintext", "script", "style", "svg", "template", "thead", "title", "video", "xmp"]);
  let na2 = null;
  const sa3 = ut2({}, ["audio", "video", "img", "source", "image", "track"]);
  let ks3 = null;
  const ia2 = ut2({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "role", "summary", "title", "value", "style", "xmlns"]), Nn3 = "http://www.w3.org/1998/Math/MathML", Pn3 = "http://www.w3.org/2000/svg", de4 = "http://www.w3.org/1999/xhtml";
  let Ge2 = de4, _s3 = false, Is3 = null;
  const Ko2 = ut2({}, [Nn3, Pn3, de4], ni3);
  let $n3 = ut2({}, ["mi", "mo", "mn", "ms", "mtext"]), Vn3 = ut2({}, ["annotation-xml"]);
  const Jo2 = ut2({}, ["title", "style", "font", "a", "script"]);
  let ln3 = null;
  const Qo2 = ["application/xhtml+xml", "text/html"], tl2 = "text/html";
  let wt6 = null, He3 = null;
  const el2 = e2.createElement("form"), aa2 = function(w3) {
    return w3 instanceof RegExp || w3 instanceof Function;
  }, Rs2 = function() {
    let w3 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    if (!(He3 && He3 === w3)) {
      if ((!w3 || typeof w3 != "object") && (w3 = {}), w3 = ke2(w3), ln3 = // eslint-disable-next-line unicorn/prefer-includes
      Qo2.indexOf(w3.PARSER_MEDIA_TYPE) === -1 ? tl2 : w3.PARSER_MEDIA_TYPE, wt6 = ln3 === "application/xhtml+xml" ? ni3 : cs2, X6 = ie2(w3, "ALLOWED_TAGS") ? ut2({}, w3.ALLOWED_TAGS, wt6) : F4, Z5 = ie2(w3, "ALLOWED_ATTR") ? ut2({}, w3.ALLOWED_ATTR, wt6) : rt5, Is3 = ie2(w3, "ALLOWED_NAMESPACES") ? ut2({}, w3.ALLOWED_NAMESPACES, ni3) : Ko2, ks3 = ie2(w3, "ADD_URI_SAFE_ATTR") ? ut2(ke2(ia2), w3.ADD_URI_SAFE_ATTR, wt6) : ia2, na2 = ie2(w3, "ADD_DATA_URI_TAGS") ? ut2(ke2(sa3), w3.ADD_DATA_URI_TAGS, wt6) : sa3, Ve3 = ie2(w3, "FORBID_CONTENTS") ? ut2({}, w3.FORBID_CONTENTS, wt6) : ea2, Y6 = ie2(w3, "FORBID_TAGS") ? ut2({}, w3.FORBID_TAGS, wt6) : {}, K5 = ie2(w3, "FORBID_ATTR") ? ut2({}, w3.FORBID_ATTR, wt6) : {}, $e2 = ie2(w3, "USE_PROFILES") ? w3.USE_PROFILES : false, ot5 = w3.ALLOW_ARIA_ATTR !== false, ct5 = w3.ALLOW_DATA_ATTR !== false, st4 = w3.ALLOW_UNKNOWN_PROTOCOLS || false, it5 = w3.ALLOW_SELF_CLOSE_IN_ATTR !== false, B5 = w3.SAFE_FOR_TEMPLATES || false, z5 = w3.SAFE_FOR_XML !== false, U3 = w3.WHOLE_DOCUMENT || false, et4 = w3.RETURN_DOM || false, yt5 = w3.RETURN_DOM_FRAGMENT || false, Zt = w3.RETURN_TRUSTED_TYPE || false, Se3 = w3.FORCE_BODY || false, Wt2 = w3.SANITIZE_DOM !== false, rn3 = w3.SANITIZE_NAMED_PROPS || false, Oe2 = w3.KEEP_CONTENT !== false, ne4 = w3.IN_PLACE || false, q4 = w3.ALLOWED_URI_REGEXP || Uo2, Ge2 = w3.NAMESPACE || de4, $n3 = w3.MATHML_TEXT_INTEGRATION_POINTS || $n3, Vn3 = w3.HTML_INTEGRATION_POINTS || Vn3, j5 = w3.CUSTOM_ELEMENT_HANDLING || {}, w3.CUSTOM_ELEMENT_HANDLING && aa2(w3.CUSTOM_ELEMENT_HANDLING.tagNameCheck) && (j5.tagNameCheck = w3.CUSTOM_ELEMENT_HANDLING.tagNameCheck), w3.CUSTOM_ELEMENT_HANDLING && aa2(w3.CUSTOM_ELEMENT_HANDLING.attributeNameCheck) && (j5.attributeNameCheck = w3.CUSTOM_ELEMENT_HANDLING.attributeNameCheck), w3.CUSTOM_ELEMENT_HANDLING && typeof w3.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements == "boolean" && (j5.allowCustomizedBuiltInElements = w3.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements), B5 && (ct5 = false), yt5 && (et4 = true), $e2 && (X6 = ut2({}, mr3), Z5 = [], $e2.html === true && (ut2(X6, gr3), ut2(Z5, vr3)), $e2.svg === true && (ut2(X6, si3), ut2(Z5, ri3), ut2(Z5, Qn3)), $e2.svgFilters === true && (ut2(X6, ii3), ut2(Z5, ri3), ut2(Z5, Qn3)), $e2.mathMl === true && (ut2(X6, ai3), ut2(Z5, yr3), ut2(Z5, Qn3))), w3.ADD_TAGS && (X6 === F4 && (X6 = ke2(X6)), ut2(X6, w3.ADD_TAGS, wt6)), w3.ADD_ATTR && (Z5 === rt5 && (Z5 = ke2(Z5)), ut2(Z5, w3.ADD_ATTR, wt6)), w3.ADD_URI_SAFE_ATTR && ut2(ks3, w3.ADD_URI_SAFE_ATTR, wt6), w3.FORBID_CONTENTS && (Ve3 === ea2 && (Ve3 = ke2(Ve3)), ut2(Ve3, w3.FORBID_CONTENTS, wt6)), Oe2 && (X6["#text"] = true), U3 && ut2(X6, ["html", "head", "body"]), X6.table && (ut2(X6, ["tbody"]), delete Y6.tbody), w3.TRUSTED_TYPES_POLICY) {
        if (typeof w3.TRUSTED_TYPES_POLICY.createHTML != "function")
          throw pn3('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');
        if (typeof w3.TRUSTED_TYPES_POLICY.createScriptURL != "function")
          throw pn3('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');
        E = w3.TRUSTED_TYPES_POLICY, x4 = E.createHTML("");
      } else
        E === void 0 && (E = kd2(p3, s2)), E !== null && typeof x4 == "string" && (x4 = E.createHTML(""));
      Ht3 && Ht3(w3), He3 = w3;
    }
  }, ra2 = ut2({}, [...si3, ...ii3, ...Ed2]), oa2 = ut2({}, [...ai3, ...xd2]), nl2 = function(w3) {
    let W3 = v4(w3);
    (!W3 || !W3.tagName) && (W3 = {
      namespaceURI: Ge2,
      tagName: "template"
    });
    const Q4 = cs2(w3.tagName), St6 = cs2(W3.tagName);
    return Is3[w3.namespaceURI] ? w3.namespaceURI === Pn3 ? W3.namespaceURI === de4 ? Q4 === "svg" : W3.namespaceURI === Nn3 ? Q4 === "svg" && (St6 === "annotation-xml" || $n3[St6]) : !!ra2[Q4] : w3.namespaceURI === Nn3 ? W3.namespaceURI === de4 ? Q4 === "math" : W3.namespaceURI === Pn3 ? Q4 === "math" && Vn3[St6] : !!oa2[Q4] : w3.namespaceURI === de4 ? W3.namespaceURI === Pn3 && !Vn3[St6] || W3.namespaceURI === Nn3 && !$n3[St6] ? false : !oa2[Q4] && (Jo2[Q4] || !ra2[Q4]) : !!(ln3 === "application/xhtml+xml" && Is3[w3.namespaceURI]) : false;
  }, re4 = function(w3) {
    hn3(t3.removed, {
      element: w3
    });
    try {
      v4(w3).removeChild(w3);
    } catch {
      m3(w3);
    }
  }, Gn3 = function(w3, W3) {
    try {
      hn3(t3.removed, {
        attribute: W3.getAttributeNode(w3),
        from: W3
      });
    } catch {
      hn3(t3.removed, {
        attribute: null,
        from: W3
      });
    }
    if (W3.removeAttribute(w3), w3 === "is")
      if (et4 || yt5)
        try {
          re4(W3);
        } catch {
        }
      else
        try {
          W3.setAttribute(w3, "");
        } catch {
        }
  }, la2 = function(w3) {
    let W3 = null, Q4 = null;
    if (Se3)
      w3 = "<remove></remove>" + w3;
    else {
      const Ct5 = fr3(w3, /^[\r\n\t ]+/);
      Q4 = Ct5 && Ct5[0];
    }
    ln3 === "application/xhtml+xml" && Ge2 === de4 && (w3 = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + w3 + "</body></html>");
    const St6 = E ? E.createHTML(w3) : w3;
    if (Ge2 === de4)
      try {
        W3 = new u3().parseFromString(St6, ln3);
      } catch {
      }
    if (!W3 || !W3.documentElement) {
      W3 = b3.createDocument(Ge2, "template", null);
      try {
        W3.documentElement.innerHTML = _s3 ? x4 : St6;
      } catch {
      }
    }
    const It2 = W3.body || W3.documentElement;
    return w3 && Q4 && It2.insertBefore(e2.createTextNode(Q4), It2.childNodes[0] || null), Ge2 === de4 ? G5.call(W3, U3 ? "html" : "body")[0] : U3 ? W3.documentElement : It2;
  }, ca2 = function(w3) {
    return _4.call(
      w3.ownerDocument || w3,
      w3,
      // eslint-disable-next-line no-bitwise
      l2.SHOW_ELEMENT | l2.SHOW_COMMENT | l2.SHOW_TEXT | l2.SHOW_PROCESSING_INSTRUCTION | l2.SHOW_CDATA_SECTION,
      null
    );
  }, Ds3 = function(w3) {
    return w3 instanceof d2 && (typeof w3.nodeName != "string" || typeof w3.textContent != "string" || typeof w3.removeChild != "function" || !(w3.attributes instanceof h3) || typeof w3.removeAttribute != "function" || typeof w3.setAttribute != "function" || typeof w3.namespaceURI != "string" || typeof w3.insertBefore != "function" || typeof w3.hasChildNodes != "function");
  }, ua2 = function(w3) {
    return typeof o2 == "function" && w3 instanceof o2;
  };
  function pe3(tt5, w3, W3) {
    Jn3(tt5, (Q4) => {
      Q4.call(t3, w3, W3, He3);
    });
  }
  const ha2 = function(w3) {
    let W3 = null;
    if (pe3(A2.beforeSanitizeElements, w3, null), Ds3(w3))
      return re4(w3), true;
    const Q4 = wt6(w3.nodeName);
    if (pe3(A2.uponSanitizeElement, w3, {
      tagName: Q4,
      allowedTags: X6
    }), w3.hasChildNodes() && !ua2(w3.firstElementChild) && $t3(/<[/\w]/g, w3.innerHTML) && $t3(/<[/\w]/g, w3.textContent) || w3.nodeType === gn3.progressingInstruction || z5 && w3.nodeType === gn3.comment && $t3(/<[/\w]/g, w3.data))
      return re4(w3), true;
    if (!X6[Q4] || Y6[Q4]) {
      if (!Y6[Q4] && pa2(Q4) && (j5.tagNameCheck instanceof RegExp && $t3(j5.tagNameCheck, Q4) || j5.tagNameCheck instanceof Function && j5.tagNameCheck(Q4)))
        return false;
      if (Oe2 && !Ve3[Q4]) {
        const St6 = v4(w3) || w3.parentNode, It2 = S3(w3) || w3.childNodes;
        if (It2 && St6) {
          const Ct5 = It2.length;
          for (let zt3 = Ct5 - 1; zt3 >= 0; --zt3) {
            const oe4 = g3(It2[zt3], true);
            oe4.__removalCount = (w3.__removalCount || 0) + 1, St6.insertBefore(oe4, y4(w3));
          }
        }
      }
      return re4(w3), true;
    }
    return w3 instanceof c2 && !nl2(w3) || (Q4 === "noscript" || Q4 === "noembed" || Q4 === "noframes") && $t3(/<\/no(script|embed|frames)/i, w3.innerHTML) ? (re4(w3), true) : (B5 && w3.nodeType === gn3.text && (W3 = w3.textContent, Jn3([H5, N4, M4], (St6) => {
      W3 = dn3(W3, St6, " ");
    }), w3.textContent !== W3 && (hn3(t3.removed, {
      element: w3.cloneNode()
    }), w3.textContent = W3)), pe3(A2.afterSanitizeElements, w3, null), false);
  }, da2 = function(w3, W3, Q4) {
    if (Wt2 && (W3 === "id" || W3 === "name") && (Q4 in e2 || Q4 in el2))
      return false;
    if (!(ct5 && !K5[W3] && $t3(O3, W3))) {
      if (!(ot5 && $t3(P3, W3))) {
        if (!Z5[W3] || K5[W3]) {
          if (
            // First condition does a very basic check if a) it's basically a valid custom element tagname AND
            // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck
            // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck
            !(pa2(w3) && (j5.tagNameCheck instanceof RegExp && $t3(j5.tagNameCheck, w3) || j5.tagNameCheck instanceof Function && j5.tagNameCheck(w3)) && (j5.attributeNameCheck instanceof RegExp && $t3(j5.attributeNameCheck, W3) || j5.attributeNameCheck instanceof Function && j5.attributeNameCheck(W3)) || // Alternative, second condition checks if it's an `is`-attribute, AND
            // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck
            W3 === "is" && j5.allowCustomizedBuiltInElements && (j5.tagNameCheck instanceof RegExp && $t3(j5.tagNameCheck, Q4) || j5.tagNameCheck instanceof Function && j5.tagNameCheck(Q4)))
          ) return false;
        } else if (!ks3[W3]) {
          if (!$t3(q4, dn3(Q4, C3, ""))) {
            if (!((W3 === "src" || W3 === "xlink:href" || W3 === "href") && w3 !== "script" && gd2(Q4, "data:") === 0 && na2[w3])) {
              if (!(st4 && !$t3($4, dn3(Q4, C3, "")))) {
                if (Q4)
                  return false;
              }
            }
          }
        }
      }
    }
    return true;
  }, pa2 = function(w3) {
    return w3 !== "annotation-xml" && fr3(w3, V5);
  }, fa2 = function(w3) {
    pe3(A2.beforeSanitizeAttributes, w3, null);
    const {
      attributes: W3
    } = w3;
    if (!W3 || Ds3(w3))
      return;
    const Q4 = {
      attrName: "",
      attrValue: "",
      keepAttr: true,
      allowedAttributes: Z5,
      forceKeepAttr: void 0
    };
    let St6 = W3.length;
    for (; St6--; ) {
      const It2 = W3[St6], {
        name: Ct5,
        namespaceURI: zt3,
        value: oe4
      } = It2, cn3 = wt6(Ct5);
      let Pt3 = Ct5 === "value" ? oe4 : md2(oe4);
      if (Q4.attrName = cn3, Q4.attrValue = Pt3, Q4.keepAttr = true, Q4.forceKeepAttr = void 0, pe3(A2.uponSanitizeAttribute, w3, Q4), Pt3 = Q4.attrValue, rn3 && (cn3 === "id" || cn3 === "name") && (Gn3(Ct5, w3), Pt3 = on3 + Pt3), z5 && $t3(/((--!?|])>)|<\/(style|title)/i, Pt3)) {
        Gn3(Ct5, w3);
        continue;
      }
      if (Q4.forceKeepAttr || (Gn3(Ct5, w3), !Q4.keepAttr))
        continue;
      if (!it5 && $t3(/\/>/i, Pt3)) {
        Gn3(Ct5, w3);
        continue;
      }
      B5 && Jn3([H5, N4, M4], (ma2) => {
        Pt3 = dn3(Pt3, ma2, " ");
      });
      const ga2 = wt6(w3.nodeName);
      if (da2(ga2, cn3, Pt3)) {
        if (E && typeof p3 == "object" && typeof p3.getAttributeType == "function" && !zt3)
          switch (p3.getAttributeType(ga2, cn3)) {
            case "TrustedHTML": {
              Pt3 = E.createHTML(Pt3);
              break;
            }
            case "TrustedScriptURL": {
              Pt3 = E.createScriptURL(Pt3);
              break;
            }
          }
        try {
          zt3 ? w3.setAttributeNS(zt3, Ct5, Pt3) : w3.setAttribute(Ct5, Pt3), Ds3(w3) ? re4(w3) : pr3(t3.removed);
        } catch {
        }
      }
    }
    pe3(A2.afterSanitizeAttributes, w3, null);
  }, sl2 = function tt5(w3) {
    let W3 = null;
    const Q4 = ca2(w3);
    for (pe3(A2.beforeSanitizeShadowDOM, w3, null); W3 = Q4.nextNode(); )
      pe3(A2.uponSanitizeShadowNode, W3, null), ha2(W3), fa2(W3), W3.content instanceof a2 && tt5(W3.content);
    pe3(A2.afterSanitizeShadowDOM, w3, null);
  };
  return t3.sanitize = function(tt5) {
    let w3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, W3 = null, Q4 = null, St6 = null, It2 = null;
    if (_s3 = !tt5, _s3 && (tt5 = "<!-->"), typeof tt5 != "string" && !ua2(tt5))
      if (typeof tt5.toString == "function") {
        if (tt5 = tt5.toString(), typeof tt5 != "string")
          throw pn3("dirty is not a string, aborting");
      } else
        throw pn3("toString is not a function");
    if (!t3.isSupported)
      return tt5;
    if (Mt4 || Rs2(w3), t3.removed = [], typeof tt5 == "string" && (ne4 = false), ne4) {
      if (tt5.nodeName) {
        const oe4 = wt6(tt5.nodeName);
        if (!X6[oe4] || Y6[oe4])
          throw pn3("root node is forbidden and cannot be sanitized in-place");
      }
    } else if (tt5 instanceof o2)
      W3 = la2("<!---->"), Q4 = W3.ownerDocument.importNode(tt5, true), Q4.nodeType === gn3.element && Q4.nodeName === "BODY" || Q4.nodeName === "HTML" ? W3 = Q4 : W3.appendChild(Q4);
    else {
      if (!et4 && !B5 && !U3 && // eslint-disable-next-line unicorn/prefer-includes
      tt5.indexOf("<") === -1)
        return E && Zt ? E.createHTML(tt5) : tt5;
      if (W3 = la2(tt5), !W3)
        return et4 ? null : Zt ? x4 : "";
    }
    W3 && Se3 && re4(W3.firstChild);
    const Ct5 = ca2(ne4 ? tt5 : W3);
    for (; St6 = Ct5.nextNode(); )
      ha2(St6), fa2(St6), St6.content instanceof a2 && sl2(St6.content);
    if (ne4)
      return tt5;
    if (et4) {
      if (yt5)
        for (It2 = k5.call(W3.ownerDocument); W3.firstChild; )
          It2.appendChild(W3.firstChild);
      else
        It2 = W3;
      return (Z5.shadowroot || Z5.shadowrootmode) && (It2 = R4.call(n2, It2, true)), It2;
    }
    let zt3 = U3 ? W3.outerHTML : W3.innerHTML;
    return U3 && X6["!doctype"] && W3.ownerDocument && W3.ownerDocument.doctype && W3.ownerDocument.doctype.name && $t3(Fo2, W3.ownerDocument.doctype.name) && (zt3 = "<!DOCTYPE " + W3.ownerDocument.doctype.name + `>
` + zt3), B5 && Jn3([H5, N4, M4], (oe4) => {
      zt3 = dn3(zt3, oe4, " ");
    }), E && Zt ? E.createHTML(zt3) : zt3;
  }, t3.setConfig = function() {
    let tt5 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    Rs2(tt5), Mt4 = true;
  }, t3.clearConfig = function() {
    He3 = null, Mt4 = false;
  }, t3.isValidAttribute = function(tt5, w3, W3) {
    He3 || Rs2({});
    const Q4 = wt6(tt5), St6 = wt6(w3);
    return da2(Q4, St6, W3);
  }, t3.addHook = function(tt5, w3) {
    typeof w3 == "function" && hn3(A2[tt5], w3);
  }, t3.removeHook = function(tt5, w3) {
    if (w3 !== void 0) {
      const W3 = pd2(A2[tt5], w3);
      return W3 === -1 ? void 0 : fd2(A2[tt5], W3, 1)[0];
    }
    return pr3(A2[tt5]);
  }, t3.removeHooks = function(tt5) {
    A2[tt5] = [];
  }, t3.removeAllHooks = function() {
    A2 = xr3();
  }, t3;
}
var Ki2 = Wo2();
var ts2 = (i10) => Ki2.sanitize(i10, {
  USE_PROFILES: {
    html: true,
    svg: true,
    svgFilters: true
  }
});
var _d2 = (i10) => Ki2.sanitize(i10, {
  NAMESPACE: "http://www.w3.org/2000/svg",
  USE_PROFILES: {
    html: true,
    svg: true,
    svgFilters: true
  }
});
var he3 = (i10) => Ki2.sanitize(i10, { ALLOWED_TAGS: [] });
var Ts2 = class Ts3 extends dt4 {
  constructor() {
    super(...arguments), this.type = "toolbar", this.renderType = D.HTML;
  }
  init() {
    const t3 = () => this.updateOverflowMenu(false);
    this.services.events.addEventListener(_E.Toolbar.SHOW_OVERFLOW_MENU, () => {
      this.renderOverflowMenu(), document.body.addEventListener("click", t3);
    }), this.services.events.addEventListener(_E.Toolbar.HIDE_OVERFLOW_MENU, () => {
      document.body.removeEventListener("click", t3);
    });
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = true) {
    const e2 = this.getComponentContainer({
      ariaLabel: "toolbar"
    }).attr("role", "group");
    if (rt(this.getOptions(), "data", "loading"))
      e2.html(""), this.overflowMenu = null;
    else {
      this.overflowMenu || (this.overflowMenu = e2.append("div").attr(
        "class",
        "cds--overflow-menu-options cds--overflow-menu--flip cds--overflow-menu-options cds--overflow-menu--flip"
      ).attr("tabindex", -1).html("<ul role='menu'></ul>"));
      const { buttonList: s2, overflowMenuItemList: a2 } = this.getControlConfigs();
      a2 && s2.push(this.getOverflowButtonConfig());
      const r3 = e2.selectAll("div.toolbar-control").data(s2, (l2) => l2.id);
      r3.exit().remove();
      const o2 = r3.enter().append("div").attr("class", "toolbar-control cds--overflow-menu cds--overflow-menu"), c2 = this;
      o2.merge(r3).classed("disabled", (l2) => l2.shouldBeDisabled()).attr("role", "button").attr("aria-disabled", (l2) => l2.shouldBeDisabled()).attr("aria-label", (l2) => l2.title).html((l2) => `
			<button
				class="cds--overflow-menu__trigger cds--overflow-menu__trigger"
				aria-haspopup="true" aria-expanded="false" id="${this.services.domUtils.generateElementIDString(
        `control-${he3(l2.id)}`
      )}" aria-label="${he3(l2.title)}">
				<svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" class="cds--overflow-menu__icon cds--overflow-menu__icon" viewBox="0 0 32 32" aria-hidden="true">
					${_d2(l2.iconSVG.content)}
				</svg>
			</button>`).each(function(l2, h3) {
        D3(this).select("svg").style("pointer-events", "none").style("will-change", "transform").style("width", l2.iconSVG.width !== void 0 ? l2.iconSVG.width : "20px").style("height", l2.iconSVG.height !== void 0 ? l2.iconSVG.height : "20px"), D3(this).select("button").on("mouseover focus", function(d2) {
          const u3 = D3(this);
          u3.classed("hovered", true), c2.services.events.dispatchEvent(_E.Toolbar.SHOW_TOOLTIP, {
            event: d2,
            hoveredElement: u3,
            content: l2.title,
            noWrap: true,
            placements: ["top", "bottom"]
          });
        }).on("mouseout blur", function() {
          c2.services.events.dispatchEvent(_E.Toolbar.HIDE_TOOLTIP);
        }).on("click", (d2) => {
          l2.shouldBeDisabled() || c2.triggerFunctionAndEvent(l2, d2, this);
        }).on("keydown", (d2) => {
          d2.key && d2.key === "Enter" || d2.key === " " ? (d2.preventDefault(), c2.triggerFunctionAndEvent(l2, d2, this)) : d2.key && d2.key === "ArrowLeft" ? c2.focusOnPreviousEnabledToolbarItem(h3) : d2.key && d2.key === "ArrowRight" && c2.focusOnNextEnabledToolbarItem(h3);
        });
      }), this.overflowButton = this.getComponentContainer().select(
        `button.cds--overflow-menu__trigger#${this.services.domUtils.generateElementIDString(
          "control-toolbar-overflow-menu"
        )}`
      );
    }
  }
  renderOverflowMenu() {
    const { overflowMenuItemList: t3 } = this.getControlConfigs(), e2 = this.overflowMenu.select("ul").selectAll("li.cds--overflow-menu-options__option").data(t3, (s2) => rt(s2, "id"));
    e2.exit().remove();
    const n2 = e2.enter().append("li").attr("id", (s2) => this.services.domUtils.generateElementIDString(`control-${s2.id}`)).attr("class", "cds--overflow-menu-options__option cds--overflow-menu-options__option").attr("role", "menuitem").attr("tabindex", 1);
    n2.append("button").attr("class", "cds--overflow-menu-options__btn cds--overflow-menu-options__btn"), n2.merge(e2).classed("cds--overflow-menu-options__option--disabled", (s2) => s2.shouldBeDisabled()).classed("cds--overflow-menu-options__option--disabled", (s2) => s2.shouldBeDisabled()).attr("aria-disabled", (s2) => s2.shouldBeDisabled()).selectAll("button").text((s2) => s2.title);
  }
  isOverflowMenuOpen() {
    return this.overflowMenu.classed("is-open");
  }
  // show/hide overflow menu
  updateOverflowMenu(t3) {
    this.overflowMenu && (this.overflowMenu.classed("is-open", t3), this.overflowButton && (this.overflowButton.attr("aria-expanded", t3), D3(this.overflowButton.node().parentNode).classed("cds--overflow-menu--open", t3).classed("cds--overflow-menu--open", t3)), t3 ? this.services.events.dispatchEvent(_E.Toolbar.SHOW_OVERFLOW_MENU) : this.services.events.dispatchEvent(_E.Toolbar.HIDE_OVERFLOW_MENU));
  }
  // Toolbar controllers
  focusOnPreviousEnabledToolbarItem(t3) {
    const e2 = this.getToolbarButtonItems();
    let n2 = e2.length;
    for (let s2 = t3 - 1; s2 >= 0; s2--)
      if (!e2[s2].shouldBeDisabled()) {
        n2 = s2;
        break;
      }
    if (n2 < e2.length) {
      const s2 = D3(
        `button#${this.services.domUtils.generateElementIDString(
          `control-${e2[n2].id}`
        )}`
      ).node();
      "focus" in s2 && s2.focus();
    }
  }
  focusOnNextEnabledToolbarItem(t3) {
    const e2 = this.getToolbarButtonItems();
    let n2 = -1;
    for (let s2 = t3 + 1; s2 < e2.length; s2++)
      if (!e2[s2].shouldBeDisabled()) {
        n2 = s2;
        break;
      }
    if (n2 > -1) {
      const s2 = D3(
        `button#${this.services.domUtils.generateElementIDString(
          `control-${e2[n2].id}`
        )}`
      ).node();
      "focus" in s2 && s2.focus();
    }
  }
  focusOnPreviousEnabledMenuItem(t3) {
    const e2 = this.getOverflowMenuItems();
    let n2 = e2.length;
    for (let s2 = t3 - 1; s2 >= 0; s2--)
      if (!e2[s2].shouldBeDisabled()) {
        n2 = s2;
        break;
      }
    if (n2 < e2.length) {
      const s2 = D3(
        `#${this.services.domUtils.generateElementIDString(
          `control-${e2[n2].id}`
        )} button`
      ).node();
      "focus" in s2 && s2.focus();
    }
  }
  focusOnNextEnabledMenuItem(t3) {
    const e2 = this.getOverflowMenuItems();
    let n2 = -1;
    for (let s2 = t3 + 1; s2 < e2.length; s2++)
      if (!e2[s2].shouldBeDisabled()) {
        n2 = s2;
        break;
      }
    if (n2 > -1) {
      const s2 = D3(
        `#${this.services.domUtils.generateElementIDString(
          `control-${e2[n2].id}`
        )} button`
      ).node();
      "focus" in s2 && s2.focus();
    }
  }
  toggleOverflowMenu(t3) {
    if (this.isOverflowMenuOpen())
      this.updateOverflowMenu(false);
    else {
      this.updateOverflowMenu(true);
      const e2 = this;
      this.getOverflowMenuItems().forEach((s2, a2) => {
        const r3 = D3(
          `#${this.services.domUtils.generateElementIDString(`control-${s2.id}`)}`
        );
        r3 !== null && (r3.on("click", () => {
          e2.triggerFunctionAndEvent(s2, t3, r3.node()), e2.updateOverflowMenu(false);
        }), r3.on("keydown", (o2) => {
          o2 && o2.key === "Enter" ? e2.triggerFunctionAndEvent(s2, t3, r3.node()) : o2 && o2.key === "ArrowUp" ? e2.focusOnPreviousEnabledMenuItem(a2) : o2 && o2.key === "ArrowDown" ? e2.focusOnNextEnabledMenuItem(a2) : o2 && o2.key === "Escape" && e2.updateOverflowMenu(false), o2.preventDefault();
        }));
      }), e2.focusOnNextEnabledMenuItem(-1);
    }
    t3 && t3.stopImmediatePropagation();
  }
  // Calls passed function && dispatches event
  triggerFunctionAndEvent(t3, e2, n2) {
    typeof t3.shouldBeDisabled == "function" && t3.shouldBeDisabled() || (typeof t3.clickFunction == "function" && t3.clickFunction(e2), this.services.events.dispatchEvent(_E.Toolbar.BUTTON_CLICK, {
      control: t3,
      event: e2,
      element: n2
    }));
  }
  getControlConfigs() {
    const t3 = rt(this.getOptions(), "toolbar", "numberOfIcons") - 1, e2 = rt(this.getOptions(), "toolbar", "controls"), n2 = [], s2 = [], a2 = [];
    return e2.forEach((r3) => {
      let o2 = null;
      if (r3.type === y.CUSTOM)
        rt(r3, "id") === null && (r3.id = `toolbar-button-${Ts3.buttonID++}`), rt(r3, "shouldBeDisabled") === null && (r3.shouldBeDisabled = () => false), o2 = r3;
      else {
        const c2 = this.services.domUtils.isFullScreenMode();
        r3.type === y.MAKE_FULLSCREEN && c2 ? r3.type = y.EXIT_FULLSCREEN : r3.type === y.EXIT_FULLSCREEN && !c2 && (r3.type = y.MAKE_FULLSCREEN), o2 = this.getControlConfigByType(r3.type);
      }
      o2 && (o2.text = r3.text ? r3.text : r3.type, o2.id.indexOf("toolbar-export") !== -1 ? n2.push(o2) : s2.length < t3 ? rt(o2, "iconSVG", "content") === null ? a2.push(o2) : s2.push(o2) : a2.push(o2));
    }), a2.push(...n2), a2.length ? {
      buttonList: s2,
      overflowMenuItemList: a2
    } : {
      buttonList: s2
    };
  }
  getToolbarButtonItems() {
    const { buttonList: t3, overflowMenuItemList: e2 } = this.getControlConfigs();
    return e2 && t3.push(this.getOverflowButtonConfig()), t3 || [];
  }
  getOverflowMenuItems() {
    const { overflowMenuItemList: t3 } = this.getControlConfigs();
    return t3 || [];
  }
  // special button config for overflow button
  getOverflowButtonConfig() {
    const { moreOptions: t3 } = rt(
      this.model.getOptions(),
      "locale",
      "translations",
      "toolbar"
    );
    return {
      id: "toolbar-overflow-menu",
      title: t3,
      shouldBeDisabled: () => false,
      iconSVG: {
        content: `<circle cx="16" cy="8" r="2"></circle>
				<circle cx="16" cy="16" r="2"></circle>
				<circle cx="16" cy="24" r="2"></circle>`
      },
      clickFunction: (e2) => this.toggleOverflowMenu(e2)
    };
  }
  getControlConfigByType(t3) {
    const e2 = this.services.zoom && this.services.zoom.isZoomBarEnabled() && !this.services.zoom.isEmptyState(), n2 = this.model.getDisplayData(), s2 = this.model.getOptions(), {
      exportAsCSV: a2,
      exportAsJPG: r3,
      exportAsPNG: o2,
      zoomIn: c2,
      zoomOut: l2,
      resetZoom: h3,
      makeFullScreen: d2,
      exitFullScreen: u3,
      showAsTable: p3
    } = rt(s2, "locale", "translations", "toolbar");
    let f2;
    switch (t3) {
      case y.ZOOM_IN:
        e2 && (f2 = {
          id: "toolbar-zoomIn",
          title: c2,
          shouldBeDisabled: () => this.services.zoom.isMinZoomDomain(),
          iconSVG: {
            content: this.getControlIconByType(t3)
          },
          clickFunction: () => this.services.zoom.zoomIn()
        });
        break;
      case y.ZOOM_OUT:
        e2 && (f2 = {
          id: "toolbar-zoomOut",
          title: l2,
          shouldBeDisabled: () => this.services.zoom.isMaxZoomDomain(),
          iconSVG: {
            content: this.getControlIconByType(t3)
          },
          clickFunction: () => this.services.zoom.zoomOut()
        });
        break;
      case y.RESET_ZOOM:
        e2 && (f2 = {
          id: "toolbar-resetZoom",
          title: h3,
          shouldBeDisabled: () => this.services.zoom.isMaxZoomDomain(),
          iconSVG: {
            content: this.getControlIconByType(t3)
          },
          clickFunction: () => this.services.zoom.resetZoomDomain()
        });
        break;
      case y.MAKE_FULLSCREEN:
        f2 = {
          id: "toolbar-makefullscreen",
          iconSVG: {
            content: this.getControlIconByType(t3),
            width: "15px",
            height: "15px"
          },
          title: d2,
          shouldBeDisabled: () => false,
          clickFunction: () => {
            this.services.domUtils.toggleFullscreen();
          }
        };
        break;
      case y.EXIT_FULLSCREEN:
        f2 = {
          id: "toolbar-exitfullscreen",
          iconSVG: {
            content: this.getControlIconByType(t3),
            width: "15px",
            height: "15px"
          },
          title: u3,
          shouldBeDisabled: () => false,
          clickFunction: () => {
            this.services.domUtils.toggleFullscreen();
          }
        };
        break;
      case y.SHOW_AS_DATATABLE:
        f2 = {
          id: "toolbar-showasdatatable",
          iconSVG: {
            content: this.getControlIconByType(t3)
          },
          title: p3,
          shouldBeDisabled: () => n2.length === 0,
          clickFunction: () => this.services.events.dispatchEvent(_E.Modal.SHOW)
        };
        break;
      case y.EXPORT_CSV:
        f2 = {
          id: "toolbar-export-CSV",
          title: a2,
          shouldBeDisabled: () => false,
          iconSVG: {
            content: this.getControlIconByType(t3)
          },
          clickFunction: () => this.model.exportToCSV()
        };
        break;
      case y.EXPORT_PNG:
        f2 = {
          id: "toolbar-export-PNG",
          title: o2,
          shouldBeDisabled: () => false,
          iconSVG: {
            content: this.getControlIconByType(t3)
          },
          clickFunction: () => this.services.domUtils.exportToPNG()
        };
        break;
      case y.EXPORT_JPG:
        f2 = {
          id: "toolbar-export-JPG",
          title: r3,
          shouldBeDisabled: () => false,
          iconSVG: {
            content: this.getControlIconByType(t3)
          },
          clickFunction: () => this.services.domUtils.exportToJPG()
        };
        break;
      default:
        throw Error("Not supported toolbar control type: " + t3);
    }
    return f2;
  }
  getControlIconByType(t3) {
    switch (t3) {
      case y.ZOOM_IN:
        return `<polygon points="19 13 15 13 15 9 13 9 13 13 9 13 9 15 13 15 13 19 15 19 15 15 19 15 19 13"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;
      case y.ZOOM_OUT:
        return `<rect x="9" y="13" width="10" height="2"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;
      case y.RESET_ZOOM:
        return '<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';
      case y.MAKE_FULLSCREEN:
        return '<polygon points="21 2 21 4 26.59 4 17 13.58 18.41 15 28 5.41 28 11 30 11 30 2 21 2"/><polygon points="15 18.42 13.59 17 4 26.59 4 21 2 21 2 30 11 30 11 28 5.41 28 15 18.42"/>';
      case y.EXIT_FULLSCREEN:
        return '<polygon points="4 18 4 20 10.586 20 2 28.582 3.414 30 12 21.414 12 28 14 28 14 18 4 18"/><polygon points="30 3.416 28.592 2 20 10.586 20 4 18 4 18 14 28 14 28 12 21.414 12 30 3.416"/>';
      case y.SHOW_AS_DATATABLE:
        return '<rect x="4" y="6" width="18" height="2"/><rect x="4" y="12" width="18" height="2"/><rect x="4" y="18" width="18" height="2"/><rect x="4" y="24" width="18" height="2"/><rect x="26" y="6" width="2" height="2"/><rect x="26" y="12" width="2" height="2"/><rect x="26" y="18" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/>';
      case y.EXPORT_CSV:
        return '<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';
      case y.EXPORT_JPG:
        return '<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';
      case y.EXPORT_PNG:
        return '<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';
      default:
        throw Error("Not supported toolbar control type: " + t3);
    }
  }
};
Ts2.buttonID = 0;
var Sr3 = Ts2;
var bs2 = class bs3 extends dt4 {
  constructor(t3, e2, n2, s2) {
    super(t3, e2, s2), this.type = "layout", this.configs = s2, this.children = n2, this._instanceID = bs3.instanceID++, this.init();
  }
  init() {
    this.children.forEach((t3) => {
      t3.components.forEach((e2) => {
        e2.init();
      });
    });
  }
  getPreferedAndFixedSizeSum() {
    const t3 = this.parent;
    let e2 = 0;
    return t3.selectAll(`div.layout-child-${this._instanceID}`).filter((n2) => {
      const s2 = rt(n2, "growth");
      return s2 === z.PREFERRED || s2 === z.FIXED;
    }).each(function(n2) {
      e2 += n2.size;
    }), e2;
  }
  getNumOfStretchChildren() {
    return this.parent.selectAll(`div.layout-child-${this._instanceID}`).filter((e2) => rt(e2, "growth") === z.STRETCH).size();
  }
  render(t3 = true) {
    const e2 = this.model.getOptions(), n2 = this.parent, { width: s2, height: a2 } = ve2.getHTMLElementSize(n2.node()), r3 = this.configs.direction === W.ROW || this.configs.direction === W.ROW_REVERSE, o2 = rt(this.model.getOptions(), "style", "prefix"), c2 = n2.classed(
      `${bm}--${o2}--layout-row`,
      this.configs.direction === W.ROW
    ).classed(
      `${bm}--${o2}--layout-row-reverse`,
      this.configs.direction === W.ROW_REVERSE
    ).classed(
      `${bm}--${o2}--layout-column`,
      this.configs.direction === W.COLUMN
    ).classed(
      `${bm}--${o2}--layout-column-reverse`,
      this.configs.direction === W.COLUMN_REVERSE
    ).classed(
      `${bm}--${o2}--layout-alignitems-center`,
      this.configs.alignItems === q.CENTER
    ).selectAll(`div.layout-child-${this._instanceID}`).data(this.children, (d2) => d2.id);
    c2.enter().append("div").merge(n2.selectAll(`div.layout-child-${this._instanceID}`)).attr("class", (d2) => `layout-child layout-child-${this._instanceID} ${d2.id}`).each(function(d2) {
      d2.components.forEach((u3) => {
        var y4;
        const p3 = D3(this), g3 = rt(d2, "renderType") === D.SVG;
        u3.setParent(
          g3 ? ve2.appendOrSelect(p3, "svg.layout-svg-wrapper").attr("width", "100%").attr("height", "100%") : p3
        ), g3 && !p3.select("svg.layout-svg-wrapper").attr("aria-label") && p3.select("svg.layout-svg-wrapper").attr("aria-label", ((y4 = e2 == null ? void 0 : e2.accessibility) == null ? void 0 : y4.svgAriaLabel) || (e2 == null ? void 0 : e2.title));
        const m3 = rt(d2, "growth");
        (m3 === z.PREFERRED || m3 === z.FIXED) && u3.render(t3);
      });
    }), n2.selectAll(`div.layout-child-${this._instanceID}`).style("height", null).style("width", null).each(function(d2) {
      const u3 = rt(d2, "growth"), f2 = rt(d2, "renderType") === D.SVG ? ve2.getSVGElementSize(D3(this).select("svg.layout-svg-wrapper"), {
        useBBox: true
      }) : ve2.getHTMLElementSize(this);
      if (u3 === z.PREFERRED) {
        const g3 = r3 ? f2.width : f2.height, m3 = r3 ? s2 : a2;
        d2.size = g3 / m3 * 100;
      }
    }), c2.exit().remove(), this.children.filter((d2) => rt(d2, "growth") === z.STRETCH).forEach((d2) => {
      d2.size = (100 - +this.getPreferedAndFixedSizeSum()) / +this.getNumOfStretchChildren();
    });
    const h3 = n2.selectAll(`div.layout-child-${this._instanceID}`).data(this.children, (d2) => d2.id);
    r3 ? h3.style("width", (d2) => `${d2.size / 100 * s2}px`).style("height", "100%") : h3.style("height", (d2) => `${d2.size / 100 * a2}px`).style("width", "100%"), h3.each(function(d2) {
      d2.components.forEach((u3) => {
        rt(d2, "growth") === z.STRETCH && u3.render(t3);
      });
    });
  }
  // Pass on model to children as well
  setModel(t3) {
    super.setModel(t3), this.children.forEach((e2) => {
      e2.components.forEach((n2) => n2.setModel(t3));
    });
  }
  // Pass on essentials to children as well
  setServices(t3) {
    super.setServices(t3), this.children.forEach((e2) => {
      e2.components.forEach((n2) => n2.setServices(t3));
    });
  }
  destroy() {
    this.children.forEach((t3) => {
      t3.components.forEach((e2) => e2.destroy());
    });
  }
};
bs2.instanceID = Math.floor(Math.random() * 99999999999);
var Tr3 = bs2;
var rm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "spacer";
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = false) {
    this.getComponentContainer({
      isPresentational: true
    }).style("width", `${this.configs.size || Dm.default.size}px`).style("height", `${this.configs.size || Dm.default.size}px`).attr("opacity", 0);
  }
};
var om2 = class extends dt4 {
  constructor(t3, e2, n2) {
    super(t3, e2, n2), this.type = "modal", this.isEventListenerAdded = false, this.handleShowModal = () => {
      const s2 = this.services.domUtils.getChartID();
      this.modal.attr("data-modal", true).attr("class", "cds--modal").attr("role", "dialog").attr("aria-modal", true).attr("aria-labelledby", `${s2}__modal-title`).attr("aria-describedby", `${s2}__modal-description`).attr("tabindex", -1).style("opacity", 1).style("visibility", "visible"), this.modal.html(this.getModalHTML()), this.modal.select("div.cds--modal-footer button.cds--btn").on("click", () => this.model.exportToCSV()), this.modal.on("click", this.handleHideModal), this.modal.select(".cds--modal-container").on("click", (a2) => {
        a2.stopPropagation();
      }), this.modal.select(".cds--modal-close").on("click", this.handleHideModal), typeof window < "u" && window.addEventListener("keydown", this.handleEscapeKey);
    }, this.handleEscapeKey = (s2) => {
      s2.key === "Escape" && this.handleHideModal();
    }, this.handleHideModal = () => {
      this.modal.attr("role", null).attr("aria-modal", null).attr("aria-labelledby", null).attr("aria-describedby", null).attr("tabindex", null).style("opacity", 0).style("visibility", "hidden"), this.modal.on("click", null), this.modal.select(".cds--modal-container").on("click", null), this.modal.select(".cds--modal-close").on("click", null), typeof window < "u" && window.removeEventListener("keydown", this.handleEscapeKey);
    }, this.init();
  }
  addEventListeners() {
    this.services.events.addEventListener(_E.Modal.SHOW, this.handleShowModal);
  }
  removeEventListeners() {
    this.services.events.removeEventListener(_E.Modal.SHOW, this.handleShowModal);
  }
  getModalHTML() {
    const t3 = this.services.domUtils.getChartID(), e2 = this.model.getOptions(), { title: n2, downloadAsCSV: s2 } = rt(e2, "locale", "translations", "tabularRep"), a2 = rt(e2, "style", "prefix"), r3 = this.model.getTabularDataArray();
    return `
		<div class="cds--modal-container">
			<div class="cds--modal-header">

				<p class="cds--modal-header__label cds--type-delta" id="modal-title">${n2}</p>

				<p class="cds--modal-header__heading cds--type-beta" id="${t3}__modal-description">${he3(
      e2.title
    )}</p>

				<button class="cds--modal-close" type="button" data-modal-close aria-label="close modal"  data-modal-primary-focus>
					<svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" aria-label="Close" width="20" height="20" viewBox="0 0 32 32" role="img" class="cds--modal-close__icon">
						<path d="M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"></path>
					</svg>
				</button>
			</div>

			<div class="cds--modal-content">
				<table class="cds--data-table cds--data-table--no-border">
					<thead>
						<tr>
							${Pu(r3, 0).map(
      (o2) => `<th scope="col">
								<div class="cds--table-header-label">${he3(o2)}</div>
							</th>`
    ).join("")}
						</tr>
					</thead>

					<tbody>${r3.slice(1).map(
      (o2) => `
							<tr>
								${o2.map((c2) => `<td>${he3(c2)}</td>`).join("")}
							</tr>`
    ).join("")}
					</tbody>
				</table>
			</div>

			<div class="cds--modal-footer">
			  <div class="${bm}--${a2}-modal-footer-spacer"></div>
			  <button class="cds--btn cds--btn--primary" type="button" data-modal-primary-focus>${s2}</button>
			</div>
		</div>`;
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = false) {
    const e2 = this.model.getOptions();
    if (!this.isEventListenerAdded) {
      const n2 = D3(this.services.domUtils.getHolder()), s2 = rt(e2, "style", "prefix");
      this.modal = ve2.appendOrSelect(n2, `div.${bm}--${s2}--modal`), this.addEventListeners(), this.isEventListenerAdded = true;
    }
  }
  destroy() {
    this.removeEventListeners(), this.isEventListenerAdded = false;
  }
};
var Id2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "title", this.renderType = D.HTML;
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = false) {
    const e2 = this.getComponentContainer(), n2 = rt(this.getOptions(), "title"), s2 = e2.selectAll("p.title").data([n2]);
    if (s2.enter().append("p").classed("title", true).attr("role", "heading").attr("aria-level", 2).merge(s2).html((a2) => he3(a2)), s2.node() && s2.node().offsetWidth < s2.node().scrollWidth) {
      const a2 = this;
      s2.on("mouseover", function(r3) {
        a2.services.events.dispatchEvent(_E.Tooltip.SHOW, {
          event: r3,
          hoveredElement: s2,
          content: s2.text()
        });
      }).on("mousemove", function(r3) {
        a2.services.events.dispatchEvent(_E.Tooltip.MOVE, {
          event: r3
        });
      }).on("mouseout", function() {
        a2.services.events.dispatchEvent(_E.Tooltip.HIDE);
      });
    }
    s2.exit().remove();
  }
  /**
   * Truncates title creating ellipses and attaching tooltip for exposing full title.
   */
  truncateTitle(t3, e2) {
    if (e2 <= 0)
      return;
    const n2 = t3.text();
    if (t3.node().getComputedTextLength() > e2) {
      t3.append("tspan").text("...");
      const s2 = ve2.appendOrSelect(t3, "tspan").node().getComputedTextLength(), a2 = t3.text(), r3 = this.getSubstringIndex(
        t3.node(),
        0,
        a2.length - 1,
        e2 - s2
      );
      t3.html(a2.substring(0, r3 - 1)).append("tspan").text("...");
      const o2 = this;
      t3.on("mouseover", function(c2) {
        o2.services.events.dispatchEvent(_E.Tooltip.SHOW, {
          event: c2,
          hoveredElement: t3,
          content: n2
        });
      }).on("mousemove", function(c2) {
        o2.services.events.dispatchEvent(_E.Tooltip.MOVE, {
          event: c2
        });
      }).on("mouseout", function() {
        o2.services.events.dispatchEvent(_E.Tooltip.HIDE);
      });
    }
  }
  // computes the maximum space a title can take
  getMaxTitleWidth() {
    return ve2.getSVGElementSize(this.parent.node(), {
      useAttrs: true
    }).width;
  }
  /**
   * Returns the index for a maximum length substring that is less than the width parameter.
   * @param title the title node used for getting the text lengths of substrings
   * @param start the start index for the binary search
   * @param end the end index for the binary search
   * @param width the width of the svg container that holds the title
   */
  getSubstringIndex(t3, e2, n2, s2) {
    const a2 = Math.floor((n2 + e2) / 2);
    return t3.getSubStringLength(0, a2) > s2 ? this.getSubstringIndex(t3, e2, a2, s2) : t3.getSubStringLength(0, a2) < s2 ? t3.getSubStringLength(0, a2 + 1) > s2 ? a2 : this.getSubstringIndex(t3, a2, n2, s2) : a2;
  }
};
var Rd2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "legend", this.renderType = D.HTML;
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = false) {
    const e2 = this.getOptions(), n2 = rt(e2, "legend"), s2 = rt(n2, "alignment"), a2 = rt(e2, "legend", "orientation");
    let r3 = this.model.getDataGroups();
    const { DISABLED: o2 } = Am.items.status, c2 = r3.some((S3) => S3.status === o2), l2 = rt(n2, "order"), h3 = this.getComponentContainer().classed("center-aligned", s2 === k.CENTER).classed("right-aligned", s2 === k.RIGHT).classed(a2, true).classed("has-deactivated-items", c2).attr("role", r2.GROUP).attr("aria-label", "Data groups").attr("data-name", "legend-items");
    l2 && (r3 = this.sortDataGroups(r3, l2));
    const d2 = h3.selectAll("div.legend-item").data(r3, (S3) => S3.name), u3 = d2.enter().append("div").attr("class", "legend-item");
    u3.merge(h3.selectAll("div.legend-item")).classed("active", function(S3) {
      return S3.status === Am.items.status.ACTIVE;
    });
    const p3 = rt(this.getOptions(), "legend", "clickable");
    h3.classed("clickable", p3 && r3.length > 1);
    const f2 = Am.checkbox.radius, g3 = u3.append("div").classed("checkbox", true), m3 = g3.merge(d2.select("div.checkbox")).attr("role", r2.CHECKBOX).attr("tabindex", p3 ? 0 : -1).attr(
      "aria-labelledby",
      (S3, v4) => this.services.domUtils.generateElementIDString(`legend-datagroup-${v4}-title`)
    ).attr("aria-checked", ({ status: S3 }) => S3 === Am.items.status.ACTIVE).attr("width", f2 * 2).attr("height", f2 * 2).attr(
      "class",
      (S3) => this.model.getColorClassName({
        classNameTypes: [h.BACKGROUND],
        dataGroupName: S3.name,
        originalClassName: "checkbox"
      })
    ).style(
      "background",
      (S3) => S3.status === Am.items.status.ACTIVE ? this.model.getFillColor(S3.name) || this.model.getStrokeColor(S3.name) : null
    ).classed("active", function(S3) {
      return S3.status === Am.items.status.ACTIVE;
    });
    g3.append("svg").attr("focusable", false).attr("preserveAspectRatio", "xMidYMid meet").attr("xmlns", "http://www.w3.org/2000/svg").attr("width", "11").attr("height", "11").attr("viewBox", "0 0 31 28").attr("aria-hidden", true).style("will-change", "transform").append("path").attr("d", "M13 21.2l-7.1-7.1-1.4 1.4 7.1 7.1L13 24 27.1 9.9l-1.4-1.5z"), u3.append("p").merge(d2.select("p"));
    const y4 = rt(e2, "legend", "additionalItems");
    if (y4 && r3.length) {
      const S3 = this, v4 = h3.selectAll("div.additional-item").data(y4);
      v4.exit().remove();
      const E = v4.enter().append("div").merge(v4).classed("legend-item", true).classed("additional", true).attr(
        "aria-labelledby",
        (_4, k5) => this.services.domUtils.generateElementIDString(
          `legend-datagroup-${m3.size() + k5}-title`
        )
      );
      E.selectAll("*").remove();
      let x4, b3 = 1;
      E.append("svg").classed("icon", true).each(function(_4) {
        const k5 = D3(this);
        !x4 || x4 != _4.type ? (x4 = _4.type, b3 = 1) : b3++, S3.addAdditionalItem(k5, _4, b3);
      }), E.append("p").merge(E.select("p")), this.truncateLegendText();
    }
    d2.exit().on("mouseover", null).on("click", null).on("mouseout", null).remove(), p3 && u3.size() > 1 && this.addEventListeners();
  }
  sortDataGroups(t3, e2) {
    if (t3.sort(
      (n2, s2) => e2.indexOf(n2.name) - e2.indexOf(s2.name)
    ), e2.length < t3.length) {
      const n2 = t3.length - e2.length;
      return t3.slice(n2).concat(t3.slice(0, n2));
    }
    return t3;
  }
  addAdditionalItem(t3, e2, n2) {
    const { width: s2, height: a2 } = Am.area;
    if (e2.type === rE.RADIUS ? t3.style("width", `${a2}px`).style("height", `${a2}px`) : t3.style("width", `${s2}px`).style("height", `${a2}px`), e2.type === rE.RADIUS) {
      const { iconData: r3, fill: o2, stroke: c2 } = Am.radius;
      t3.attr("fill", "none").selectAll("circle").data(r3).enter().append("circle").classed("radius", true).attr("role", r2.IMG).attr("aria-label", "radius").attr("cx", (h3) => h3.cx).attr("cy", (h3) => h3.cy).attr("r", (h3) => h3.r).style("fill", e2.fill ? e2.fill : o2).style("stroke", e2.stroke ? e2.stroke : c2);
    } else if (e2.type === rE.LINE) {
      const r3 = Am.line;
      t3.select("line.line").empty() && t3.append("line").classed(`line-${n2}`, true).attr("role", r2.IMG).attr("aria-label", "line").attr("x1", 0).attr("y1", r3.yPosition).attr("x2", s2).attr("y2", r3.yPosition).style("stroke", e2.stroke ? e2.stroke : r3.stroke).style("stroke-width", r3.strokeWidth);
    } else if (e2.type === rE.AREA)
      t3.select("rect.area").empty() && t3.append("rect").classed(`area-${n2}`, true).attr("role", r2.IMG).attr("aria-label", "area").attr("width", s2).attr("height", a2).style(
        "fill",
        n2 > 3 && !e2.fill ? Am.area.fill : e2.fill
      ).style("stroke", e2.stroke);
    else if (e2.type === rE.SIZE) {
      const { iconData: r3, fill: o2, stroke: c2 } = Am.size;
      t3.attr("fill", "none").attr("role", r2.IMG).attr("aria-label", "size").selectAll("rect").data(r3).enter().append("rect").classed("size", true).attr("width", (h3) => h3.width).attr("height", (h3) => h3.height).attr("y", () => 0).style("fill", e2.fill ? e2.fill : o2).style("stroke", e2.stroke ? e2.stroke : c2).style("stroke-width", 1);
    } else if (e2.type === rE.QUARTILE) {
      const { iconData: r3 } = Am.quartile;
      t3.selectAll("rect").attr("role", r2.IMG).attr("aria-label", "quartile").data(r3).enter().append("rect").attr("class", (c2, l2) => `quartile-${l2 === 0 ? "wrapper" : "line"}`).attr("x", (c2) => c2.x).attr("y", (c2) => c2.y).attr("width", (c2) => c2.width).attr("height", (c2) => c2.height);
    } else if (e2.type === rE.ZOOM) {
      const { iconData: r3, color: o2 } = rt(Am, "zoom"), c2 = t3.attr("role", r2.IMG).attr("aria-label", "zoom").selectAll("g.icon").data(r3).enter();
      c2.append("g").attr("x", (l2) => l2.x).attr("y", (l2) => l2.y).attr("width", (l2) => l2.width).attr("height", (l2) => l2.height).append("polygon").attr(
        "points",
        "7.7 4.82 5.78 4.82 5.78 2.89 4.82 2.89 4.82 4.82 2.89 4.82 2.89 5.78 4.82 5.78 4.82 7.7 5.78 7.7 5.78 5.78 7.7 5.78 7.7 4.82"
      ).attr("fill", () => e2.color ? e2.color : o2), c2.append("path").attr(
        "d",
        "M9.36,8.67A5.22,5.22,0,0,0,10.59,5.3,5.3,5.3,0,1,0,5.3,10.59,5.22,5.22,0,0,0,8.67,9.36L12.32,13l.68-.68Zm-4.06,1A4.34,4.34,0,1,1,9.63,5.3,4.33,4.33,0,0,1,5.3,9.63Z"
      ).attr("fill", () => e2.color ? e2.color : o2);
    }
  }
  truncateLegendText() {
    const t3 = this.getComponentContainer(), e2 = rt(this.getOptions(), "legend", "truncation"), n2 = rt(e2, "type"), s2 = rt(e2, "threshold"), a2 = rt(e2, "numCharacter"), r3 = t3.selectAll("div.legend-item p");
    r3.attr("id", function() {
      return (this.parentNode.querySelector("div.checkbox") || this.parentNode).getAttribute("aria-labelledby");
    }), n2 !== K.NONE ? r3.html(function(o2) {
      const c2 = he3(o2.name);
      return c2.length > s2 && c2.length !== a2 ? Q0(c2, n2, a2) : c2;
    }) : r3.html((o2) => he3(o2.name));
  }
  addEventListeners() {
    const t3 = this, e2 = this.getComponentContainer(), n2 = this.getOptions(), s2 = rt(n2, "legend"), a2 = rt(s2, "truncation");
    e2.selectAll("div.legend-item").on("mouseover", function(r3) {
      t3.services.events.dispatchEvent(_E.Legend.ITEM_HOVER, {
        hoveredElement: D3(this)
      });
      const o2 = D3(this);
      o2.select("div.checkbox").classed("hovered", true);
      const c2 = o2.datum();
      c2.name.length > a2.threshold && a2.numCharacter < c2.name.length && a2.type !== K.NONE && t3.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: r3,
        hoveredElement: o2,
        content: c2.name
      });
    }).on("mousemove", function(r3) {
      D3(this).datum().name.length > a2.threshold && a2.type !== K.NONE && t3.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: r3
      });
    }).on("click", function() {
      t3.services.events.dispatchEvent(_E.Legend.ITEM_CLICK, {
        clickedElement: D3(this)
      });
      const o2 = D3(this).datum();
      t3.model.toggleDataLabel(o2.name);
    }).on("mouseout", function() {
      const r3 = D3(this);
      r3.select("div.checkbox").classed("hovered", false), r3.datum().name.length > a2.threshold && a2.type !== K.NONE && t3.services.events.dispatchEvent(_E.Tooltip.HIDE), t3.services.events.dispatchEvent(_E.Legend.ITEM_MOUSEOUT, {
        hoveredElement: r3
      });
    }), e2.selectAll("div.legend-item div.checkbox").on("keyup", function(r3) {
      r3.key && r3.key === "Tab" && t3.services.events.dispatchEvent(_E.Legend.ITEM_HOVER, {
        hoveredElement: D3(this)
      });
    }), e2.selectAll("div.legend-item div.checkbox").on("keydown", function(r3, o2) {
      r3.key && r3.key === " " ? (r3.preventDefault(), t3.model.toggleDataLabel(o2.name)) : r3.key && r3.key === "Tab" && t3.services.events.dispatchEvent(_E.Legend.ITEM_MOUSEOUT, {
        hoveredElement: D3(this)
      });
    }), e2.selectAll("g.additional-item").on("mouseover", function(r3) {
      const o2 = D3(this), c2 = o2.datum();
      c2.name.length > a2.threshold && t3.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: r3,
        hoveredElement: o2,
        content: c2.name
      });
    });
  }
};
var Dd2 = class extends dt4 {
  constructor(t3, e2, n2) {
    super(t3, e2, n2), this.type = "chart-clip", this.renderType = D.SVG, this.chartClipId = "chart-clip-id-" + Math.floor(Math.random() * 99999999999), this.init();
  }
  init() {
    this.model.set({ chartClipId: this.chartClipId }, { skipUpdate: true });
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = true) {
    this.createClipPath();
  }
  createClipPath() {
    const t3 = this.parent, { cartesianScales: e2 } = this.services;
    if (!e2) throw new Error("Service cartesianScales was undefined");
    const n2 = e2.getMainXScale(), s2 = e2.getMainYScale(), [a2, r3] = n2.range(), [o2, c2] = s2.range();
    if (!t3)
      throw new Error("svg is undefined");
    this.chartClipPath = ve2.appendOrSelect(
      t3,
      `clipPath.${this.type}`
    ).attr("id", this.chartClipId);
    const l2 = ve2.appendOrSelect(this.chartClipPath, `rect.${this.type}`);
    r3 - a2 > 0 && l2.attr("x", a2).attr("y", c2).attr("width", r3 - a2).attr("height", o2 - c2), this.chartClipPath.merge(l2).lower();
  }
};
var lm2 = class extends Dd2 {
  constructor() {
    super(...arguments), this.type = "canvas-chart-clip", this.chartClipId = "canvas-chart-clip-id-" + Math.floor(Math.random() * 99999999999);
  }
  createClipPath() {
    const t3 = this.parent, { width: e2, height: n2 } = ve2.getSVGElementSize(this.parent, {
      useAttrs: true
    });
    this.chartClipPath = ve2.appendOrSelect(t3, `clipPath.${this.type}`).attr(
      "id",
      this.chartClipId
    );
    const s2 = ve2.appendOrSelect(this.chartClipPath, `rect.${this.type}`);
    s2.attr("x", 0).attr("y", 0).attr("width", e2).attr("height", n2), this.chartClipPath.merge(s2).lower();
  }
};
var Xe3;
var Lt3;
(function(i10) {
  i10.LEFT = "left", i10.RIGHT = "right", i10.TOP = "top", i10.BOTTOM = "bottom";
})(Lt3 || (Lt3 = {}));
var br3 = (Xe3 = {}, Xe3[Lt3.LEFT] = function(i10, t3, e2) {
  return {
    top: i10.top - Math.round(t3.offsetHeight / 2) + Math.round(e2.height / 2),
    left: Math.round(i10.left - t3.offsetWidth)
  };
}, Xe3[Lt3.RIGHT] = function(i10, t3, e2) {
  return {
    top: i10.top - Math.round(t3.offsetHeight / 2) + Math.round(e2.height / 2),
    left: Math.round(i10.left + e2.width)
  };
}, Xe3[Lt3.TOP] = function(i10, t3, e2) {
  return {
    top: Math.round(i10.top - t3.offsetHeight),
    left: i10.left - Math.round(t3.offsetWidth / 2) + Math.round(e2.width / 2)
  };
}, Xe3[Lt3.BOTTOM] = function(i10, t3, e2) {
  return {
    top: Math.round(i10.top + e2.height),
    left: i10.left - Math.round(t3.offsetWidth / 2) + Math.round(e2.width / 2)
  };
}, Xe3);
var Or3 = typeof window < "u" ? window : {
  innerHeight: 0,
  innerWidth: 0
};
var Cs2 = (
  /** @class */
  function() {
    function i10(t3) {
      t3 === void 0 && (t3 = {}), this.positions = br3, this.positions = Object.assign({}, br3, t3);
    }
    return i10.prototype.getRelativeOffset = function(t3) {
      for (var e2 = {
        left: t3.offsetLeft,
        top: t3.offsetTop
      }; t3.offsetParent && getComputedStyle(t3.offsetParent).position === "static"; )
        e2.left += t3.offsetLeft, e2.top += t3.offsetTop, t3 = t3.offsetParent;
      return e2;
    }, i10.prototype.getAbsoluteOffset = function(t3) {
      for (var e2 = t3, n2 = {
        top: 0,
        left: 0
      }; e2.offsetParent; ) {
        var s2 = getComputedStyle(e2.offsetParent);
        s2.position === "static" && s2.marginLeft && s2.marginTop && (parseInt(s2.marginTop, 10) && (n2.top += parseInt(s2.marginTop, 10)), parseInt(s2.marginLeft, 10) && (n2.left += parseInt(s2.marginLeft, 10))), e2 = e2.offsetParent;
      }
      var a2 = t3.getBoundingClientRect(), r3 = document.body.getBoundingClientRect();
      return {
        top: a2.top - r3.top + n2.top,
        left: a2.left - r3.left + n2.left
      };
    }, i10.prototype.findRelative = function(t3, e2, n2) {
      var s2 = this.getRelativeOffset(t3), a2 = t3.getBoundingClientRect();
      return this.calculatePosition(s2, a2, e2, n2);
    }, i10.prototype.findAbsolute = function(t3, e2, n2) {
      var s2 = this.getAbsoluteOffset(t3), a2 = t3.getBoundingClientRect();
      return this.calculatePosition(s2, a2, e2, n2);
    }, i10.prototype.findPosition = function(t3, e2, n2, s2) {
      s2 === void 0 && (s2 = this.getAbsoluteOffset.bind(this));
      var a2 = s2(t3), r3 = t3.getBoundingClientRect();
      return this.calculatePosition(a2, r3, e2, n2);
    }, i10.prototype.findPositionAt = function(t3, e2, n2) {
      return this.calculatePosition(t3, { top: 0, left: 0, height: 0, width: 0 }, e2, n2);
    }, i10.prototype.getPlacementBox = function(t3, e2) {
      var n2 = t3.offsetHeight + e2.top, s2 = t3.offsetWidth + e2.left;
      return {
        top: e2.top,
        bottom: n2,
        left: e2.left,
        right: s2
      };
    }, i10.prototype.addOffset = function(t3, e2, n2) {
      return e2 === void 0 && (e2 = 0), n2 === void 0 && (n2 = 0), Object.assign({}, t3, {
        top: t3.top + e2,
        left: t3.left + n2
      });
    }, i10.prototype.setElement = function(t3, e2) {
      t3.style.top = e2.top + "px", t3.style.left = e2.left + "px";
    }, i10.prototype.findBestPlacement = function(t3, e2, n2, s2, a2) {
      var r3 = this;
      s2 === void 0 && (s2 = this.defaultContainerFunction.bind(this)), a2 === void 0 && (a2 = this.findPosition.bind(this));
      var o2 = n2.map(function(c2) {
        var l2 = a2(t3, e2, c2), h3 = r3.getPlacementBox(e2, l2), d2 = 0, u3 = 0, p3 = s2();
        h3.top < p3.top ? d2 = p3.top - h3.top : h3.bottom > p3.height && (d2 = h3.bottom - p3.height), h3.left < p3.left ? u3 = p3.left - h3.left : h3.right > p3.width && (u3 = h3.right - p3.width), d2 && !u3 ? u3 = 1 : u3 && !d2 && (d2 = 1);
        var f2 = e2.offsetHeight * e2.offsetWidth, g3 = d2 * u3, m3 = f2 - g3, y4 = m3 / f2;
        return {
          placement: c2,
          weight: y4
        };
      });
      return o2.sort(function(c2, l2) {
        return l2.weight - c2.weight;
      }), o2[0].placement;
    }, i10.prototype.findBestPlacementAt = function(t3, e2, n2, s2) {
      var a2 = this;
      s2 === void 0 && (s2 = this.defaultContainerFunction.bind(this));
      var r3 = function(o2, c2, l2) {
        return a2.findPositionAt(t3, c2, l2);
      };
      return this.findBestPlacement(null, e2, n2, s2, r3);
    }, i10.prototype.defaultContainerFunction = function() {
      return {
        // we go with window here, because that's going to be the simple/common case
        top: 0,
        left: 0,
        height: Or3.innerHeight,
        width: Or3.innerWidth
      };
    }, i10.prototype.calculatePosition = function(t3, e2, n2, s2) {
      return this.positions[s2] ? this.positions[s2](t3, n2, e2) : (console.error("No function found for placement, defaulting to 0,0"), { left: 0, top: 0 });
    }, i10;
  }()
);
new Cs2();
var Nd2 = class extends dt4 {
  constructor(t3, e2, n2) {
    super(t3, e2, n2), this.type = "tooltip", this.renderType = D.HTML, this.isEventListenerAdded = false, this.lastTriggeredEventType = "", this.positionService = new Cs2(), this.handleShowTooltip = (s2) => {
      const a2 = s2.detail.data || s2.detail.items, r3 = D3(s2.detail.event.target).datum();
      let o2;
      const c2 = this.formatItems(this.getItems(s2));
      s2.detail.content ? o2 = `<div class="title-tooltip"><p>${ts2(s2.detail.content)}</p></div>` : o2 = ts2(this.getTooltipHTML(c2));
      const l2 = ve2.appendOrSelect(this.tooltip, "div.content-box");
      if (rt(this.getOptions(), "tooltip", "customHTML"))
        if (s2.detail.content) {
          const h3 = `<div class="title-tooltip"><p>${ts2(
            s2.detail.content
          )}</p></div>`;
          l2.html(h3);
        } else
          l2.html(
            `<div class="title-tooltip"><p>${ts2(
              this.model.getOptions().tooltip.customHTML(a2, o2, r3)
            )}</p></div>`
          );
      else
        l2.html(o2);
      l2.selectAll(".datapoint-tooltip").each(function(h3, d2) {
        const u3 = c2[d2];
        c2[d2] && c2[d2].color && D3(this).select(".tooltip-color").attr("class", "tooltip-color").style("background-color", u3.color);
      }), this.positionTooltip(s2), this.tooltip.classed("hidden", false).attr("aria-hidden", false), this.lastTriggeredEventType = s2.type;
    }, this.handleHideTooltip = () => {
      this.tooltip.classed("hidden", true).attr("aria-hidden", true);
    }, this.init();
  }
  addTooltipEventListener() {
    this.services.events.addEventListener(_E.Tooltip.MOVE, (t3) => {
      this.lastTriggeredEventType !== _E.Toolbar.SHOW_TOOLTIP && this.tooltip.classed("hidden") === false && this.positionTooltip(t3);
    }), this.services.events.addEventListener(_E.Tooltip.SHOW, this.handleShowTooltip), this.services.events.addEventListener(_E.Tooltip.HIDE, this.handleHideTooltip), this.services.events.addEventListener(_E.Chart.MOUSEOUT, this.handleHideTooltip), this.services.events.addEventListener(_E.Toolbar.SHOW_TOOLTIP, this.handleShowTooltip), this.services.events.addEventListener(_E.Toolbar.HIDE_TOOLTIP, this.handleHideTooltip);
  }
  removeTooltipEventListener() {
    this.services.events.removeEventListener(_E.Tooltip.MOVE, null), this.services.events.removeEventListener(_E.Tooltip.SHOW, this.handleShowTooltip), this.services.events.removeEventListener(_E.Tooltip.HIDE, this.handleHideTooltip), this.services.events.removeEventListener(_E.Chart.MOUSEOUT, this.handleHideTooltip), this.services.events.removeEventListener(_E.Toolbar.SHOW_TOOLTIP, this.handleShowTooltip), this.services.events.removeEventListener(_E.Toolbar.HIDE_TOOLTIP, this.handleHideTooltip);
  }
  getItems(t3) {
    return t3.detail.items ? t3.detail.items : [];
  }
  formatItems(t3) {
    const e2 = this.getOptions(), n2 = rt(e2, "tooltip", "truncation", "type"), s2 = rt(e2, "tooltip", "truncation", "threshold"), a2 = rt(e2, "tooltip", "truncation", "numCharacter");
    return n2 !== K.NONE ? t3.map((r3) => {
      const o2 = r3.labelIcon ? 12 : 0;
      return r3.value = r3.value ? this.valueFormatter(r3.value, r3.label) : r3.value, r3.label && r3.label.length + o2 > s2 && (r3.label = Q0(r3.label, n2, a2)), r3.value && r3.value.length > s2 && (r3.value = Q0(r3.value, n2, a2)), r3;
    }) : t3.map((r3) => (r3.value = r3.value ? this.valueFormatter(r3.value, r3.label) : r3.value, r3));
  }
  getTooltipHTML(t3) {
    return '<ul class="multi-tooltip">' + t3.map(
      (e2) => `<li>
					<div class="datapoint-tooltip${e2.bold ? " bold" : ""}">
						${e2.class || e2.color ? `<div class="tooltip-color ${e2.class}"></div>` : ""}
						<div class="label">
						<p>${e2.label || ""}</p>
						${e2.labelIcon ? `<span class="label-icon"/>${e2.labelIcon}</span>` : ""}
						</div>
						${e2.value === void 0 || e2.value === null ? "" : `<p class="value"/>${e2.value}</p>`}
					</div>
				</li>`
    ).join("") + "</ul>";
  }
  isDate(t3) {
    return t3 instanceof Date;
  }
  valueFormatter(t3, e2) {
    const n2 = this.getOptions(), s2 = rt(n2, "tooltip", "valueFormatter"), {
      code: a2,
      number: r3,
      date: o2
    } = rt(n2, "locale");
    if (s2)
      return s2(t3, e2);
    if (this.isDate(t3))
      return o2(t3, a2, { month: "short", day: "numeric", year: "numeric" });
    try {
      if (typeof t3 == "string" && /\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/.test(t3)) {
        const c2 = new Date(t3);
        return o2(c2, a2, {
          month: "short",
          day: "numeric",
          year: "numeric"
        });
      }
    } catch {
    }
    return r3(t3, a2);
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = false) {
    const e2 = this.getOptions(), n2 = rt(e2, "tooltip", "enabled");
    if (n2) {
      const s2 = D3(this.services.domUtils.getHolder()), a2 = rt(e2, "style", "prefix");
      this.tooltip = ve2.appendOrSelect(s2, `div.${bm}--${a2}--tooltip`), this.tooltip.style("max-width", null).attr("role", "tooltip"), this.isEventListenerAdded || (this.addTooltipEventListener(), this.isEventListenerAdded = true), this.tooltip.classed("hidden", true);
    } else !n2 && this.isEventListenerAdded && (this.removeTooltipEventListener(), this.isEventListenerAdded = false);
  }
  addOffsetByPlacement(t3, e2, n2) {
    const s2 = Object.assign({}, t3);
    return e2 == Lt3.LEFT ? s2.left -= n2 : e2 == Lt3.RIGHT ? s2.left += n2 : e2 == Lt3.TOP ? s2.top -= n2 : e2 == Lt3.BOTTOM && (s2.top += n2), s2;
  }
  positionTooltip(t3) {
    const e2 = this.services.domUtils.getHolder(), n2 = e2.offsetWidth, s2 = e2.offsetHeight, a2 = this.tooltip.node(), r3 = this.getOptions(), o2 = rt(r3, "zoomBar", "top", "enabled"), c2 = !!rt(t3, "detail", "noWrap"), l2 = Array.isArray(rt(t3, "detail", "placements")), h3 = l2 ? rt(t3, "detail", "placements") : [Lt3.RIGHT, Lt3.LEFT, Lt3.TOP, Lt3.BOTTOM];
    let d2, { horizontalOffset: u3 } = Im;
    const { defaultOffset: p3 } = Im;
    if (this.tooltip.select("div.title-tooltip").classed("title-tooltip-nowrap", c2), l2) {
      const m3 = rt(t3, "detail", "event", "target"), y4 = this.services.domUtils.getElementOffset(m3, true);
      d2 = this.positionService.findBestPlacementAt(
        y4,
        a2,
        h3,
        () => ({
          top: 0,
          left: 0,
          width: n2,
          height: s2
        })
      );
      let S3 = this.positionService.findPosition(
        m3,
        a2,
        d2,
        () => this.services.domUtils.getElementOffset(m3)
      );
      S3 = this.addOffsetByPlacement(S3, d2, p3), this.positionService.setElement(a2, S3);
      return;
    }
    let f2 = rt(t3, "detail", "mousePosition");
    if (!f2)
      f2 = dd(rt(t3, "detail", "event"), e2);
    else {
      const m3 = rt(r3, "zoomBar", "top", "type"), y4 = Lm.height[m3];
      o2 && (f2[1] += y4 + Lm.spacerHeight);
    }
    f2[0] / n2 > 0.9 ? d2 = Lt3.LEFT : f2[0] / n2 < 0.1 ? d2 = Lt3.RIGHT : d2 = this.positionService.findBestPlacementAt(
      {
        left: f2[0],
        top: f2[1]
      },
      a2,
      h3,
      () => ({
        top: void 0,
        // properties were never set to optional (probably should)
        left: void 0,
        // ditto
        width: n2,
        height: s2
      })
    ), d2 === Lt3.LEFT && (u3 *= -1);
    const g3 = this.positionService.findPositionAt(
      {
        left: f2[0] + u3,
        top: f2[1]
      },
      a2,
      d2
    );
    this.positionService.setElement(a2, g3);
  }
};
var tn2 = class tn3 extends dt4 {
  constructor() {
    super(...arguments), this.type = "grid-brush", this.renderType = D.SVG, this.selectionSelector = "rect.selection", this.frontSelectionSelector = "rect.frontSelection";
  }
  // needs to match the class name in _grid-brush.scss
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = true) {
    const e2 = this.parent, n2 = this.getComponentContainer({
      isPresentational: true
    });
    if (!e2) throw new Error("SVG was not defined");
    const s2 = ve2.appendOrSelect(
      e2,
      "svg.chart-grid-backdrop"
    ), a2 = ve2.appendOrSelect(s2, `g.${this.type}`), r3 = ve2.appendOrSelect(a2, this.selectionSelector), { width: o2, height: c2 } = ve2.getSVGElementSize(s2, {
      useAttrs: true
    }), { cartesianScales: l2 } = this.services, h3 = l2.getMainXScaleType(), d2 = l2.getMainXScale(), [u3] = d2.range();
    n2.attr("transform", `translate(${u3},0)`);
    const p3 = ve2.appendOrSelect(n2, this.frontSelectionSelector);
    if (d2 && h3 === F.TIME) {
      let f2 = this.model.get("zoomDomain");
      f2 === void 0 && (f2 = this.services.zoom.getDefaultZoomBarDomain(), f2 && this.model.set({ zoomDomain: f2 }, { animate: false }));
      const g3 = (x4) => {
        const b3 = x4[1] - x4[0];
        let _4 = "0," + b3.toString();
        const k5 = Math.floor(c2 / tn3.DASH_LENGTH), G5 = k5 * tn3.DASH_LENGTH;
        for (let R4 = 0; R4 < k5; R4++)
          _4 += "," + tn3.DASH_LENGTH;
        _4 += "," + (c2 - G5), k5 % 2 === 1 && (_4 += ",0"), _4 += "," + b3.toString(), _4 += "," + c2.toString(), p3.attr("stroke-dasharray", _4);
      }, m3 = (x4) => {
        const b3 = x4.selection;
        b3 === null || b3[0] === b3[1] || (p3.attr("x", parseFloat(r3.attr("x")) + parseFloat(s2.attr("x"))).attr("y", r3.attr("y")).attr("width", r3.attr("width")).attr("height", r3.attr("height")).style("cursor", "pointer").style("display", null), g3(b3));
      }, y4 = (x4, b3) => {
        const _4 = Ai2().range([0, o2]).domain(f2);
        let k5 = [_4.invert(x4), _4.invert(b3)];
        k5[0].valueOf() === k5[1].valueOf() && (k5 = this.services.zoom.getDefaultZoomBarDomain()), (f2[0].valueOf() !== k5[0].valueOf() || f2[1].valueOf() !== k5[1].valueOf()) && this.services.zoom.handleDomainChange(k5);
      };
      let S3;
      const v4 = (x4) => {
        const b3 = x4.selection;
        b3 !== null && (y4(b3[0], b3[1]), a2.call(S3.move, null), p3.style("display", "none"));
      };
      c2 != 0 && o2 != 0 && (S3 = ho2().extent([
        [0, 0],
        [o2 - 1, c2]
      ]).on("start brush end", m3).on("end.brushed", v4), a2.call(S3));
      const E = this.services.zoom.getZoomRatio();
      s2.on("click", function(x4) {
        if (x4.shiftKey) {
          const b3 = this.services.domUtils.getHolder(), _4 = dd(a2.node(), b3)[0];
          let k5 = _4 - o2 * E / 2;
          k5 < 0 && (k5 = 0);
          let G5 = _4 + o2 * E / 2;
          G5 > o2 && (G5 = o2), y4(k5, G5);
        }
      });
    }
  }
};
tn2.DASH_LENGTH = 4;
var Lr3 = tn2;
var cm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "zoom-bar", this.renderType = D.SVG, this.MIN_SELECTION_DIFF = 9e-10, this.brushSelector = "g.zoom-bar-brush", this.clipId = "zoomBarClip-" + Math.floor(Math.random() * 99999999999), this.brush = ho2(), this.highlightStrokeWidth = 1;
  }
  init() {
    this.services.events.addEventListener(_E.ZoomBar.UPDATE, this.render.bind(this));
    const t3 = rt(this.getOptions(), "zoomBar", b.TOP, "data");
    this.model.setZoomBarData(t3);
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = true) {
    const e2 = this.getComponentContainer({
      ariaLabel: "zoom bar"
    }), n2 = this.services.zoom.isZoomBarLoading(b.TOP), s2 = this.services.zoom.isZoomBarLocked(b.TOP), a2 = rt(this.getOptions(), "zoomBar", b.TOP, "type"), r3 = rt(this.getOptions(), "axes", b.BOTTOM, "highlights"), o2 = Lm.height[a2], { width: c2 } = ve2.getSVGElementSize(this.parent, {
      useAttrs: true
    });
    if (c2 === 0)
      return;
    let l2 = 0;
    const h3 = this.model.get("axesMargins");
    h3 && h3.left && (l2 = h3.left);
    const d2 = ve2.appendOrSelect(e2, "svg.zoom-container").attr("width", "100%").attr("height", o2).attr("opacity", 1);
    if (ve2.appendOrSelect(e2, "rect.zoom-spacer").attr("x", 0).attr("y", o2).attr("width", "100%").attr("height", Lm.spacerHeight).attr("opacity", 1).attr("fill", "none"), a2 === f.GRAPH_VIEW ? ve2.appendOrSelect(d2, "rect.zoom-bg").attr("x", l2).attr("y", 0).attr("width", c2 - l2).attr("height", "100%").classed("zoom-bg-skeleton", n2).style(
      "stroke",
      n2 ? `url(#${this.services.domUtils.generateElementIDString("shimmer-lines")})` : null
    ) : a2 === f.SLIDER_VIEW && ve2.appendOrSelect(d2, "rect.zoom-slider-bg").attr("x", l2).attr("y", o2 / 2 - 1).attr("width", c2 - l2).attr("height", 2).classed("zoom-slider-bg-skeleton", n2).style(
      "stroke",
      n2 ? `url(#${this.services.domUtils.generateElementIDString("shimmer-lines")})` : null
    ), n2) {
      this.renderSkeleton(d2, l2, c2);
      return;
    }
    const { cartesianScales: u3 } = this.services, p3 = u3.getMainXScale(), f2 = u3.getMainYScale(), g3 = u3.getMainXScaleType();
    if (p3 && g3 === F.TIME) {
      let m3 = this.services.zoom.getZoomBarData();
      if (ll(m3) || m3.length === 1)
        return;
      this.xScale = p3.copy(), this.yScale = f2.copy();
      const y4 = this.services.zoom.getDefaultZoomBarDomain(m3);
      m3 = this.compensateDataForDefaultDomain(m3, y4);
      const S3 = this.model.get("initialZoomDomain"), v4 = rt(
        this.getOptions(),
        "zoomBar",
        b.TOP,
        "initialZoomDomain"
      );
      v4 && v4[0] && v4[1] && (v4[0] = new Date(v4[0]), v4[1] = new Date(v4[1])), v4 && !(S3 && S3[0].valueOf() === v4[0].valueOf() && S3[1].valueOf() === v4[1].valueOf()) ? this.model.set(
        {
          // use a new object instead of newInitialZoomDomain
          initialZoomDomain: y2([], v4),
          zoomDomain: v4 ? y2([], v4) : y4
        },
        { skipUpdate: true }
      ) : v4 === null && S3 !== null && this.model.set(
        {
          initialZoomDomain: null,
          zoomDomain: y2([], y4)
        },
        { skipUpdate: true }
      ), this.xScale.range([l2, c2]).domain(y4), this.maxSelectionRange = this.xScale.range(), this.yScale.range([0, o2 - 6]).domain(_l(m3, (b3) => b3.value));
      const E = this.model.get("zoomDomain");
      if (a2 === f.GRAPH_VIEW && (this.renderZoomBarArea(d2, "path.zoom-graph-area-unselected", m3, null), this.updateClipPath(e2, this.clipId, 0, 0, 0, 0), this.renderZoomBarArea(d2, "path.zoom-graph-area", m3, this.clipId), this.renderZoomBarBaseline(d2, l2, c2), r3)) {
        const b3 = r3.highlightStartMapsTo, _4 = r3.highlightEndMapsTo, k5 = r3.color, G5 = r3.labelMapsTo;
        r3.data.forEach((R4, A2) => {
          ve2.appendOrSelect(d2, `rect.highlight-${A2}`).attr("height", o2 - 2 * this.highlightStrokeWidth).attr("y", this.highlightStrokeWidth).attr("x", this.xScale(R4[b3])).attr(
            "width",
            this.xScale(R4[_4]) - this.xScale(R4[b3])
          ).style(
            "fill",
            k5 && k5.scale[R4[G5]] ? k5.scale[R4[G5]] : null
          ).style("fill-opacity", 0.1).style(
            "stroke",
            k5 && k5.scale[R4[G5]] ? k5.scale[R4[G5]] : null
          ).style("stroke-dasharray", "2, 2").attr("stroke-width", "1px");
        });
      }
      this.addBrushEventListener(E, l2, c2);
      const x4 = ve2.appendOrSelect(e2, this.brushSelector).call(this.brush);
      if (E !== void 0) if (E[0].valueOf() === E[1].valueOf())
        x4.call(this.brush.move, this.xScale.range()), this.updateBrushHandle(this.getComponentContainer(), this.xScale.range());
      else {
        const b3 = E.map((_4) => this.xScale(_4));
        b3[1] - b3[0] < this.MIN_SELECTION_DIFF || (x4.call(this.brush.move, b3), this.updateBrushHandle(this.getComponentContainer(), b3));
      }
      s2 && (this.brush.filter(() => false), x4.selectAll("rect").attr("cursor", "auto"));
    }
  }
  addBrushEventListener(t3, e2, n2) {
    const s2 = (o2) => {
      const c2 = o2.selection;
      c2 === null ? this.handleBrushedEvent(o2, t3, this.xScale, this.xScale.range()) : c2[0] === c2[1] || this.handleBrushedEvent(o2, t3, this.xScale, c2);
    }, a2 = rt(this.getOptions(), "zoomBar", b.TOP, "type"), r3 = Lm.height[a2];
    this.brush.extent([
      [e2, 0],
      [n2, r3]
    ]).on("start brush end", null).on("start brush end", s2);
  }
  // brush event listener
  handleBrushedEvent(t3, e2, n2, s2) {
    const a2 = [n2.invert(s2[0]), n2.invert(s2[1])];
    if (this.updateBrushHandle(this.getComponentContainer(), s2), t3.sourceEvent != null && (t3.sourceEvent.type === "mousemove" || t3.sourceEvent.type === "mouseup" || t3.sourceEvent.type === "mousedown" || t3.sourceEvent.type === "touchstart" || t3.sourceEvent.type === "touchmove" || t3.sourceEvent.type === "touchend")) {
      (e2 === void 0 || e2[0] !== a2[0] || e2[1] !== a2[1]) && this.services.zoom.handleDomainChange(a2, {
        dispatchEvent: false
      });
      let r3;
      t3.type === "start" ? r3 = _E.ZoomBar.SELECTION_START : t3.type === "brush" ? r3 = _E.ZoomBar.SELECTION_IN_PROGRESS : t3.type === "end" && (r3 = _E.ZoomBar.SELECTION_END, this.services.events.dispatchEvent(_E.ZoomDomain.CHANGE, {
        newDomain: a2
      })), this.services.events.dispatchEvent(r3, {
        selection: s2,
        newDomain: a2
      });
    }
  }
  updateBrushHandle(t3, e2) {
    const n2 = this, s2 = Lm.handleWidth, a2 = rt(this.getOptions(), "zoomBar", b.TOP, "type"), r3 = Lm.height[a2], o2 = -s2 / 2, c2 = Lm.handleBarWidth, l2 = a2 === f.GRAPH_VIEW ? Lm.handleBarHeight : 6, h3 = -c2 / 2, d2 = (r3 - l2) / 2;
    t3.select(this.brushSelector).selectAll("rect.handle").data([{ type: "w" }, { type: "e" }]).attr("x", function(p3) {
      if (p3.type === "w")
        return Math.max(e2[0] + o2, n2.maxSelectionRange[0]);
      if (p3.type === "e")
        return Math.min(e2[1] + o2, n2.maxSelectionRange[1] - s2);
    }).attr("y", 0).attr("width", s2).attr("height", r3).attr("cursor", "ew-resize").style("display", null);
    const u3 = t3.select(this.brushSelector).selectAll("rect.handle-bar").data([{ type: "w" }, { type: "e" }]);
    u3.enter().append("rect").attr("class", function(p3) {
      return "handle-bar handle-bar--" + p3.type;
    }), u3.attr("x", function(p3) {
      if (p3.type === "w")
        return Math.max(
          e2[0] + h3,
          n2.maxSelectionRange[0] - o2 + h3
        );
      if (p3.type === "e")
        return Math.min(
          e2[1] + h3,
          n2.maxSelectionRange[1] + o2 + h3
        );
    }).attr("y", d2).attr("width", c2).attr("height", l2).attr("cursor", "ew-resize"), a2 === f.SLIDER_VIEW && this.updateSliderSelectedArea(e2), this.updateClipPath(
      t3,
      this.clipId,
      e2[0],
      0,
      e2[1] - e2[0],
      r3
    );
  }
  updateSliderSelectedArea(t3) {
    const e2 = rt(this.getOptions(), "zoomBar", b.TOP, "type"), n2 = Lm.height[e2], a2 = this.getComponentContainer().select("svg.zoom-container");
    ve2.appendOrSelect(a2, "rect.zoom-slider-selected-area").attr("x", t3[0]).attr("y", n2 / 2 - 1).attr("width", t3[1] - t3[0]).attr("height", 2);
  }
  renderZoomBarArea(t3, e2, n2, s2) {
    const { cartesianScales: a2 } = this.services, r3 = a2.getMainXAxisPosition(), o2 = a2.getMainYAxisPosition(), c2 = a2.getMainXScaleType(), l2 = a2.getMainYScaleType(), h3 = (y4, S3, v4) => (E) => a2.getValueFromScale(y4, S3, v4, E), d2 = h3(this.xScale, c2, r3), u3 = h3(this.yScale, l2, o2), p3 = rt(this.getOptions(), "zoomBar", b.TOP, "type"), f2 = Lm.height[p3], g3 = ji3().x((y4) => d2(y4)).y0(f2).y1((y4) => f2 - u3(y4)), m3 = ve2.appendOrSelect(t3, e2).datum(n2).attr("d", g3);
    s2 && m3.attr("clip-path", `url(#${s2})`);
  }
  updateClipPath(t3, e2, n2, s2, a2, r3) {
    const o2 = ve2.appendOrSelect(t3, "clipPath").attr("id", e2);
    ve2.appendOrSelect(o2, "rect").attr("x", n2).attr("y", s2).attr("width", a2).attr("height", r3);
  }
  // assume the domains in data are already sorted
  compensateDataForDefaultDomain(t3, e2) {
    if (!t3 || t3.length < 2)
      return;
    const n2 = hf(t3), s2 = this.services.cartesianScales.getDomainIdentifier(), a2 = this.services.cartesianScales.getRangeIdentifier();
    if (Number(e2[0]) < Number(n2[0][s2])) {
      const r3 = {};
      r3[s2] = e2[0], r3[a2] = 0, n2.unshift(r3);
    }
    if (Number(e2[1]) > Number(n2[n2.length - 1][s2])) {
      const r3 = {};
      r3[s2] = e2[1], r3[a2] = 0, n2.push(r3);
    }
    return n2;
  }
  renderZoomBarBaseline(t3, e2, n2, s2 = false) {
    const a2 = rt(
      this.model.getOptions(),
      "zoomBar",
      b.TOP,
      "type"
    ), r3 = Lm.height[a2], o2 = Dn3()([
      [e2, r3],
      [n2, r3]
    ]);
    ve2.appendOrSelect(t3, "path.zoom-bg-baseline").attr("d", o2).classed("zoom-bg-baseline-skeleton", s2).style(
      "stroke",
      s2 ? `url(#${this.services.domUtils.generateElementIDString("shimmer-lines")})` : null
    );
  }
  renderSkeleton(t3, e2, n2) {
    this.renderZoomBarArea(t3, "path.zoom-graph-area-unselected", [], null), this.renderZoomBarArea(t3, "path.zoom-graph-area", [], this.clipId), this.brush.on("start brush end", null), ve2.appendOrSelect(this.getComponentContainer(), this.brushSelector).html(null), rt(this.getOptions(), "zoomBar", b.TOP, "type") === f.GRAPH_VIEW && this.renderZoomBarBaseline(t3, e2, n2, true);
  }
  destroy() {
    this.brush.on("start brush end", null), this.services.events.removeEventListener(_E.ZoomBar.UPDATE, this.render.bind(this));
  }
};
var um2 = class extends dt4 {
  constructor(t3, e2) {
    super(t3, e2), this.type = "threshold", this.renderType = D.SVG, this.positionService = new Cs2();
  }
  render(t3 = false) {
    const e2 = rt(this.getOptions(), "axes"), n2 = [];
    Object.keys(e2).forEach((u3) => {
      if (Object.values(b).includes(u3)) {
        const p3 = e2[u3];
        p3.thresholds && p3.thresholds.length > 0 && n2.push({
          axisPosition: u3,
          thresholds: p3.thresholds,
          correspondingDatasets: p3 == null ? void 0 : p3.correspondingDatasets,
          mapsTo: p3 == null ? void 0 : p3.mapsTo
        });
      }
    });
    const a2 = this.getComponentContainer({
      ariaLabel: "threshold lines",
      withinChartClip: true
    }).selectAll("g.axis-thresholds").data(n2, (u3) => u3.axisPosition);
    a2.exit().attr("opacity", 0).remove();
    const o2 = a2.enter().append("g").merge(a2);
    o2.attr("class", (u3) => `axis-thresholds ${u3.axisPosition}`);
    const c2 = o2.selectAll("g.threshold-group").data(
      (u3) => u3.thresholds.map((p3) => (p3.axisPosition = u3.axisPosition, p3.datum = this.constructDatumObj(u3, p3), p3))
    );
    c2.exit().attr("opacity", 0).remove();
    const l2 = c2.enter().append("g");
    l2.append("line").attr("class", "threshold-line"), l2.append("rect").attr("class", "threshold-hoverable-area"), l2.merge(c2).attr("class", "threshold-group");
    const d2 = this;
    o2.each(function({ axisPosition: u3 }) {
      const p3 = d2.services.cartesianScales.getScaleByPosition(
        u3
      ), f2 = d2.services.cartesianScales.getScaleTypeByPosition(u3);
      let g3 = null, m3 = null;
      u3 === b.LEFT || u3 === b.RIGHT ? (m3 = p3, g3 = d2.services.cartesianScales.getMainXScale()) : (g3 = p3, m3 = d2.services.cartesianScales.getMainYScale());
      const y4 = f2 === F.LABELS, [S3, v4] = g3.range(), [E, x4] = m3.range(), { cartesianScales: b3 } = d2.services, _4 = b3.getOrientation(), k5 = (N4) => b3.getDomainValue(N4), G5 = (N4) => b3.getRangeValue(N4), [R4, A2] = Z0(
        k5,
        G5,
        _4
      ), H5 = D3(this);
      u3 === b.TOP || u3 === b.BOTTOM ? (H5.selectAll("line.threshold-line").transition().call(
        (N4) => d2.services.transitions.setupTransition({
          transition: N4,
          name: "threshold-line-update",
          animate: t3
        })
      ).attr("y1", x4).attr("y2", E).attr(
        "x1",
        ({ datum: N4 }) => R4(N4) + (y4 ? p3.step() / 2 : 0)
      ).attr(
        "x2",
        ({ datum: N4 }) => R4(N4) + (y4 ? p3.step() / 2 : 0)
      ).style("stroke", ({ fillColor: N4 }) => N4), H5.selectAll("rect.threshold-hoverable-area").attr("x", 0).attr("y", ({ datum: N4 }) => -R4(N4)).attr("width", Math.abs(E - x4)).classed("rotate", true)) : (H5.selectAll("line.threshold-line").transition().call(
        (N4) => d2.services.transitions.setupTransition({
          transition: N4,
          name: "threshold-line-update",
          animate: t3
        })
      ).attr("x1", S3).attr("x2", v4).attr(
        "y1",
        ({ datum: N4 }) => A2(N4) + (y4 ? p3.step() / 2 : 0)
      ).attr(
        "y2",
        ({ datum: N4 }) => A2(N4) + (y4 ? p3.step() / 2 : 0)
      ).style("stroke", ({ fillColor: N4 }) => N4), H5.selectAll("rect.threshold-hoverable-area").attr("x", S3).attr("y", ({ datum: N4 }) => A2(N4)).attr("width", Math.abs(v4 - S3)).classed("rotate", false));
    }), this.services.events.addEventListener(_E.Threshold.SHOW, (u3) => {
      this.setThresholdLabelPosition(u3.detail), this.label.classed("hidden", false);
    }), this.services.events.addEventListener(_E.Threshold.HIDE, () => {
      this.label.classed("hidden", true);
    }), this.appendThresholdLabel(), this.addEventListeners();
  }
  getFormattedValue(t3) {
    const { value: e2, axisPosition: n2 } = t3, s2 = this.getOptions(), a2 = this.services.cartesianScales.getScaleTypeByPosition(n2), { code: r3, number: o2 } = rt(s2, "locale");
    if (a2 === F.TIME) {
      const c2 = [b.LEFT, b.RIGHT].includes(n2), l2 = this.services.cartesianScales.getMainXScale(), h3 = this.services.cartesianScales.getMainYScale(), d2 = c2 ? h3 : l2, u3 = rt(s2, "timeScale"), p3 = tp(
        d2.ticks(),
        rt(u3, "timeInterval")
      );
      return J0(e2, 0, d2.ticks(), p3, u3, s2.locale);
    }
    return o2(e2, r3);
  }
  appendThresholdLabel() {
    const t3 = D3(this.services.domUtils.getHolder()), e2 = rt(this.getOptions(), "style", "prefix");
    this.label = ve2.appendOrSelect(
      t3,
      `div.${bm}--${e2}--threshold--label`
    ).classed("hidden", true);
  }
  setThresholdLabelPosition({ event: t3, datum: e2 }) {
    const n2 = this.services.domUtils.getHolder(), s2 = dd(t3, n2), a2 = e2.valueFormatter ? e2.valueFormatter(e2.value) : this.getFormattedValue(e2);
    this.label.html(he3(`${e2.label || "Threshold"}: ${a2}`)).style("background-color", e2.fillColor);
    const r3 = this.label.node(), o2 = this.positionService.findBestPlacementAt(
      {
        left: s2[0],
        top: s2[1]
      },
      r3,
      [Lt3.RIGHT, Lt3.LEFT, Lt3.TOP, Lt3.BOTTOM],
      () => ({
        top: void 0,
        // other package lists this as non-optional
        left: void 0,
        // ditto
        width: n2.offsetWidth,
        height: n2.offsetHeight
      })
    ), c2 = this.positionService.findPositionAt(
      {
        left: s2[0],
        top: s2[1]
      },
      r3,
      o2
    );
    this.positionService.setElement(r3, c2);
  }
  // Constructs object to pass in scale functions
  constructDatumObj(t3, e2) {
    const n2 = {};
    return t3.correspondingDatasets && (n2.group = rt(t3, "correspondingDatasets", 0)), n2[t3.mapsTo] = e2.value, n2;
  }
  addEventListeners() {
    const t3 = this;
    this.getComponentContainer({ withinChartClip: true }).selectAll("rect.threshold-hoverable-area").on("mouseover mousemove", function(n2) {
      D3(this.parentNode).select("line.threshold-line").classed("active", true), t3.services.events.dispatchEvent(_E.Threshold.SHOW, {
        event: n2,
        hoveredElement: D3(this),
        datum: D3(this).datum()
      });
    }).on("mouseout", function(n2) {
      D3(this.parentNode).select("line.threshold-line").classed("active", false), t3.services.events.dispatchEvent(_E.Threshold.HIDE, {
        event: n2,
        hoveredElement: D3(this),
        datum: D3(this).datum()
      });
    });
  }
};
var hm2 = class extends dt4 {
  constructor(t3, e2) {
    super(t3, e2), this.type = "highlight", this.renderType = D.SVG, this.positionService = new Cs2(), this.highlightStrokeWidth = 1;
  }
  render(t3 = false) {
    const e2 = rt(this.getOptions(), "axes"), n2 = [];
    Object.keys(e2).forEach((u3) => {
      if (Object.values(b).includes(u3)) {
        const p3 = e2[u3];
        p3.highlights && p3.highlights.data.length > 0 && n2.push({
          axisPosition: u3,
          highlightStartMapsTo: p3.highlights.highlightStartMapsTo,
          highlightEndMapsTo: p3.highlights.highlightEndMapsTo,
          labelMapsTo: p3.highlights.labelMapsTo,
          highlight: p3.highlights.data,
          color: p3.highlights.color
        });
      }
    });
    const a2 = this.getComponentContainer({
      ariaLabel: "highlight areas",
      withinChartClip: true
    }).selectAll("g.axis-highlight").data(n2, (u3) => u3.axisPosition);
    a2.exit().attr("opacity", 0).remove();
    const o2 = a2.enter().append("g").merge(a2);
    o2.attr("class", (u3) => `axis-highlight ${u3.axisPosition}`);
    const c2 = o2.selectAll("g.highlight-group").data(
      (u3) => u3.highlight.map((p3) => (p3.axisPosition = u3.axisPosition, p3.highlightStartMapsTo = u3.highlightStartMapsTo, p3.labelMapsTo = u3.labelMapsTo, p3.color = u3.color, p3.highlightEndMapsTo = u3.highlightEndMapsTo, p3))
    );
    c2.exit().attr("opacity", 0).remove();
    const l2 = c2.enter().append("g");
    l2.append("rect").attr("class", "highlight-bar"), l2.append("line").attr("class", "highlight-line"), l2.merge(c2).attr("class", "highlight-group");
    const d2 = this;
    o2.each(function({ axisPosition: u3 }) {
      const p3 = d2.services.cartesianScales.getMainXScale(), f2 = d2.services.cartesianScales.getMainYScale(), [g3, m3] = p3.range(), [y4, S3] = f2.range(), { cartesianScales: v4 } = d2.services, E = v4.getOrientation(), x4 = (R4) => v4.getDomainValue(R4), b3 = (R4) => v4.getRangeValue(R4), [_4, k5] = Z0(
        x4,
        b3,
        E
      ), G5 = D3(this);
      u3 === b.TOP || u3 === b.BOTTOM ? G5.selectAll("rect.highlight-bar").transition().call(
        (R4) => d2.services.transitions.setupTransition({
          transition: R4,
          name: "highlight-bar-update",
          animate: t3
        })
      ).attr("y", Math.max(S3 + d2.highlightStrokeWidth, 0)).attr("height", Math.max(y4 - 2 * d2.highlightStrokeWidth, 0)).attr("x", ({ highlightStartMapsTo: R4, ...A2 }) => _4(A2[R4])).attr(
        "width",
        ({ highlightStartMapsTo: R4, highlightEndMapsTo: A2, ...H5 }) => Math.max(_4(H5[A2]) - _4(H5[R4]), 0)
      ).style("stroke", ({ color: R4, labelMapsTo: A2, ...H5 }) => R4 && R4.scale[H5[A2]] ? R4.scale[H5[A2]] : null).style("stroke-dasharray", "2, 2").attr("stroke-width", d2.highlightStrokeWidth + "px").style("fill-opacity", 0.1).style("fill", ({ color: R4, labelMapsTo: A2, ...H5 }) => R4 && R4.scale[H5[A2]] ? R4.scale[H5[A2]] : null) : G5.selectAll("rect.highlight-bar").transition().call(
        (R4) => d2.services.transitions.setupTransition({
          transition: R4,
          name: "highlight-bar-update",
          animate: t3
        })
      ).attr("x", g3).attr("width", Math.max(m3 - g3, 0)).attr("y", ({ highlightEndMapsTo: R4, ...A2 }) => k5(A2[R4])).attr(
        "height",
        ({ highlightStartMapsTo: R4, highlightEndMapsTo: A2, ...H5 }) => Math.max(k5(H5[R4]) - k5(H5[A2]), 0)
      ).style("stroke", ({ color: R4, labelMapsTo: A2, ...H5 }) => R4 && R4.scale[H5[A2]] ? R4.scale[H5[A2]] : null).style("stroke-dasharray", "2, 2").attr("stroke-width", d2.highlightStrokeWidth + "px").style("fill-opacity", 0.1).style("fill", ({ color: R4, labelMapsTo: A2, ...H5 }) => R4 && R4.scale[H5[A2]] ? R4.scale[H5[A2]] : null);
    });
  }
};
var dm2 = class extends Nd2 {
  getItems(t3) {
    if (t3.detail.items)
      return t3.detail.items;
    const { data: e2 } = t3.detail;
    if (!e2 || !e2.length || !e2[0])
      return [];
    const n2 = this.getOptions(), { cartesianScales: s2 } = this.services, a2 = s2.getDomainIdentifier(), r3 = s2.isDualAxes(), { groupMapsTo: o2 } = n2.data, c2 = s2.getDomainLabel();
    let l2 = s2.getRangeLabel();
    const h3 = e2[0][a2];
    let d2;
    if (e2.length === 1) {
      const u3 = e2[0], p3 = s2.getRangeIdentifier(u3);
      if (r3) {
        const g3 = s2.getRangeAxisPosition({
          datum: u3,
          groups: [u3[o2]]
        });
        l2 = s2.getScaleLabel(g3);
      }
      const f2 = u3[p3];
      d2 = [
        {
          label: c2,
          value: h3
        },
        ...Array.isArray(f2) && f2.length === 2 ? [
          {
            label: "Start",
            value: f2[0]
          },
          {
            label: "End",
            value: f2[1]
          }
        ] : [
          {
            label: l2,
            value: u3[p3]
          }
        ]
      ], t3.detail.additionalItems && t3.detail.additionalItems.forEach(
        (g3) => d2.push({
          label: g3.label,
          value: g3.value
        })
      ), d2.push({
        label: Pu(n2, "locale.translations.group") || Pu(n2, "tooltip.groupLabel"),
        value: u3[o2],
        color: this.model.getFillColor(u3[o2]),
        class: this.model.getColorClassName({
          classNameTypes: [h.TOOLTIP],
          dataGroupName: u3[o2]
        })
      });
    } else if (e2.length > 1 && (d2 = [
      {
        label: c2,
        value: h3
      }
    ], d2 = d2.concat(
      e2.map((u3) => {
        const p3 = u3[s2.getRangeIdentifier(u3)];
        return {
          label: u3[o2],
          value: Array.isArray(p3) && p3.length === 2 ? `${p3[0]} - ${p3[1]}` : p3,
          color: this.model.getFillColor(u3[o2]),
          class: this.model.getColorClassName({
            classNameTypes: [h.TOOLTIP],
            dataGroupName: u3[o2]
          })
        };
      }).sort((u3, p3) => p3.value - u3.value)
    ), !r3 && rt(n2, "tooltip", "showTotal") === true)) {
      const u3 = s2.getRangeIdentifier();
      d2.push({
        label: Pu(n2, "locale.translations.total") || Pu(n2, "tooltip.totalLabel") || "Total",
        value: e2.reduce(
          (p3, f2) => p3 + f2[u3],
          0
        ),
        bold: true
      });
    }
    return d2;
  }
};
function Ar3(i10, t3) {
  let e2;
  if (t3 === void 0)
    for (const n2 of i10)
      n2 != null && (e2 < n2 || e2 === void 0 && n2 >= n2) && (e2 = n2);
  else {
    let n2 = -1;
    for (let s2 of i10)
      (s2 = t3(s2, ++n2, i10)) != null && (e2 < s2 || e2 === void 0 && s2 >= s2) && (e2 = s2);
  }
  return e2;
}
function Pd2(i10, t3) {
  let e2;
  if (t3 === void 0)
    for (const n2 of i10)
      n2 != null && (e2 > n2 || e2 === void 0 && n2 >= n2) && (e2 = n2);
  else {
    let n2 = -1;
    for (let s2 of i10)
      (s2 = t3(s2, ++n2, i10)) != null && (e2 > s2 || e2 === void 0 && s2 >= s2) && (e2 = s2);
  }
  return e2;
}
function oi3(i10, t3) {
  let e2 = 0;
  if (t3 === void 0)
    for (let n2 of i10)
      (n2 = +n2) && (e2 += n2);
  else {
    let n2 = -1;
    for (let s2 of i10)
      (s2 = +t3(s2, ++n2, i10)) && (e2 += s2);
  }
  return e2;
}
function $d2(i10) {
  return i10.depth;
}
function Vd2(i10, t3) {
  return t3 - 1 - i10.height;
}
function Xo2(i10, t3) {
  return i10.sourceLinks.length ? i10.depth : t3 - 1;
}
function es2(i10) {
  return function() {
    return i10;
  };
}
function Mr3(i10, t3) {
  return Ss2(i10.source, t3.source) || i10.index - t3.index;
}
function wr3(i10, t3) {
  return Ss2(i10.target, t3.target) || i10.index - t3.index;
}
function Ss2(i10, t3) {
  return i10.y0 - t3.y0;
}
function li3(i10) {
  return i10.value;
}
function Gd2(i10) {
  return i10.index;
}
function Hd2(i10) {
  return i10.nodes;
}
function Bd2(i10) {
  return i10.links;
}
function Cr3(i10, t3) {
  const e2 = i10.get(t3);
  if (!e2) throw new Error("missing: " + t3);
  return e2;
}
function kr3({ nodes: i10 }) {
  for (const t3 of i10) {
    let e2 = t3.y0, n2 = e2;
    for (const s2 of t3.sourceLinks)
      s2.y0 = e2 + s2.width / 2, e2 += s2.width;
    for (const s2 of t3.targetLinks)
      s2.y1 = n2 + s2.width / 2, n2 += s2.width;
  }
}
function zd2() {
  let i10 = 0, t3 = 0, e2 = 1, n2 = 1, s2 = 24, a2 = 8, r3, o2 = Gd2, c2 = Xo2, l2, h3, d2 = Hd2, u3 = Bd2, p3 = 6;
  function f2() {
    const O3 = { nodes: d2.apply(null, arguments), links: u3.apply(null, arguments) };
    return g3(O3), m3(O3), y4(O3), S3(O3), x4(O3), kr3(O3), O3;
  }
  f2.update = function(O3) {
    return kr3(O3), O3;
  }, f2.nodeId = function(O3) {
    return arguments.length ? (o2 = typeof O3 == "function" ? O3 : es2(O3), f2) : o2;
  }, f2.nodeAlign = function(O3) {
    return arguments.length ? (c2 = typeof O3 == "function" ? O3 : es2(O3), f2) : c2;
  }, f2.nodeSort = function(O3) {
    return arguments.length ? (l2 = O3, f2) : l2;
  }, f2.nodeWidth = function(O3) {
    return arguments.length ? (s2 = +O3, f2) : s2;
  }, f2.nodePadding = function(O3) {
    return arguments.length ? (a2 = r3 = +O3, f2) : a2;
  }, f2.nodes = function(O3) {
    return arguments.length ? (d2 = typeof O3 == "function" ? O3 : es2(O3), f2) : d2;
  }, f2.links = function(O3) {
    return arguments.length ? (u3 = typeof O3 == "function" ? O3 : es2(O3), f2) : u3;
  }, f2.linkSort = function(O3) {
    return arguments.length ? (h3 = O3, f2) : h3;
  }, f2.size = function(O3) {
    return arguments.length ? (i10 = t3 = 0, e2 = +O3[0], n2 = +O3[1], f2) : [e2 - i10, n2 - t3];
  }, f2.extent = function(O3) {
    return arguments.length ? (i10 = +O3[0][0], e2 = +O3[1][0], t3 = +O3[0][1], n2 = +O3[1][1], f2) : [[i10, t3], [e2, n2]];
  }, f2.iterations = function(O3) {
    return arguments.length ? (p3 = +O3, f2) : p3;
  };
  function g3({ nodes: O3, links: P3 }) {
    for (const [C3, V5] of O3.entries())
      V5.index = C3, V5.sourceLinks = [], V5.targetLinks = [];
    const $4 = new Map(O3.map((C3, V5) => [o2(C3, V5, O3), C3]));
    for (const [C3, V5] of P3.entries()) {
      V5.index = C3;
      let { source: q4, target: X6 } = V5;
      typeof q4 != "object" && (q4 = V5.source = Cr3($4, q4)), typeof X6 != "object" && (X6 = V5.target = Cr3($4, X6)), q4.sourceLinks.push(V5), X6.targetLinks.push(V5);
    }
    if (h3 != null)
      for (const { sourceLinks: C3, targetLinks: V5 } of O3)
        C3.sort(h3), V5.sort(h3);
  }
  function m3({ nodes: O3 }) {
    for (const P3 of O3)
      P3.value = P3.fixedValue === void 0 ? Math.max(oi3(P3.sourceLinks, li3), oi3(P3.targetLinks, li3)) : P3.fixedValue;
  }
  function y4({ nodes: O3 }) {
    const P3 = O3.length;
    let $4 = new Set(O3), C3 = /* @__PURE__ */ new Set(), V5 = 0;
    for (; $4.size; ) {
      for (const q4 of $4) {
        q4.depth = V5;
        for (const { target: X6 } of q4.sourceLinks)
          C3.add(X6);
      }
      if (++V5 > P3) throw new Error("circular link");
      $4 = C3, C3 = /* @__PURE__ */ new Set();
    }
  }
  function S3({ nodes: O3 }) {
    const P3 = O3.length;
    let $4 = new Set(O3), C3 = /* @__PURE__ */ new Set(), V5 = 0;
    for (; $4.size; ) {
      for (const q4 of $4) {
        q4.height = V5;
        for (const { source: X6 } of q4.targetLinks)
          C3.add(X6);
      }
      if (++V5 > P3) throw new Error("circular link");
      $4 = C3, C3 = /* @__PURE__ */ new Set();
    }
  }
  function v4({ nodes: O3 }) {
    const P3 = Ar3(O3, (V5) => V5.depth) + 1, $4 = (e2 - i10 - s2) / (P3 - 1), C3 = new Array(P3);
    for (const V5 of O3) {
      const q4 = Math.max(0, Math.min(P3 - 1, Math.floor(c2.call(null, V5, P3))));
      V5.layer = q4, V5.x0 = i10 + q4 * $4, V5.x1 = V5.x0 + s2, C3[q4] ? C3[q4].push(V5) : C3[q4] = [V5];
    }
    if (l2) for (const V5 of C3)
      V5.sort(l2);
    return C3;
  }
  function E(O3) {
    const P3 = Pd2(O3, ($4) => (n2 - t3 - ($4.length - 1) * r3) / oi3($4, li3));
    for (const $4 of O3) {
      let C3 = t3;
      for (const V5 of $4) {
        V5.y0 = C3, V5.y1 = C3 + V5.value * P3, C3 = V5.y1 + r3;
        for (const q4 of V5.sourceLinks)
          q4.width = q4.value * P3;
      }
      C3 = (n2 - C3 + r3) / ($4.length + 1);
      for (let V5 = 0; V5 < $4.length; ++V5) {
        const q4 = $4[V5];
        q4.y0 += C3 * (V5 + 1), q4.y1 += C3 * (V5 + 1);
      }
      H5($4);
    }
  }
  function x4(O3) {
    const P3 = v4(O3);
    r3 = Math.min(a2, (n2 - t3) / (Ar3(P3, ($4) => $4.length) - 1)), E(P3);
    for (let $4 = 0; $4 < p3; ++$4) {
      const C3 = Math.pow(0.99, $4), V5 = Math.max(1 - C3, ($4 + 1) / p3);
      _4(P3, C3, V5), b3(P3, C3, V5);
    }
  }
  function b3(O3, P3, $4) {
    for (let C3 = 1, V5 = O3.length; C3 < V5; ++C3) {
      const q4 = O3[C3];
      for (const X6 of q4) {
        let F4 = 0, Z5 = 0;
        for (const { source: j5, value: Y6 } of X6.targetLinks) {
          let K5 = Y6 * (X6.layer - j5.layer);
          F4 += N4(j5, X6) * K5, Z5 += K5;
        }
        if (!(Z5 > 0)) continue;
        let rt5 = (F4 / Z5 - X6.y0) * P3;
        X6.y0 += rt5, X6.y1 += rt5, A2(X6);
      }
      l2 === void 0 && q4.sort(Ss2), k5(q4, $4);
    }
  }
  function _4(O3, P3, $4) {
    for (let C3 = O3.length, V5 = C3 - 2; V5 >= 0; --V5) {
      const q4 = O3[V5];
      for (const X6 of q4) {
        let F4 = 0, Z5 = 0;
        for (const { target: j5, value: Y6 } of X6.sourceLinks) {
          let K5 = Y6 * (j5.layer - X6.layer);
          F4 += M4(X6, j5) * K5, Z5 += K5;
        }
        if (!(Z5 > 0)) continue;
        let rt5 = (F4 / Z5 - X6.y0) * P3;
        X6.y0 += rt5, X6.y1 += rt5, A2(X6);
      }
      l2 === void 0 && q4.sort(Ss2), k5(q4, $4);
    }
  }
  function k5(O3, P3) {
    const $4 = O3.length >> 1, C3 = O3[$4];
    R4(O3, C3.y0 - r3, $4 - 1, P3), G5(O3, C3.y1 + r3, $4 + 1, P3), R4(O3, n2, O3.length - 1, P3), G5(O3, t3, 0, P3);
  }
  function G5(O3, P3, $4, C3) {
    for (; $4 < O3.length; ++$4) {
      const V5 = O3[$4], q4 = (P3 - V5.y0) * C3;
      q4 > 1e-6 && (V5.y0 += q4, V5.y1 += q4), P3 = V5.y1 + r3;
    }
  }
  function R4(O3, P3, $4, C3) {
    for (; $4 >= 0; --$4) {
      const V5 = O3[$4], q4 = (V5.y1 - P3) * C3;
      q4 > 1e-6 && (V5.y0 -= q4, V5.y1 -= q4), P3 = V5.y0 - r3;
    }
  }
  function A2({ sourceLinks: O3, targetLinks: P3 }) {
    if (h3 === void 0) {
      for (const { source: { sourceLinks: $4 } } of P3)
        $4.sort(wr3);
      for (const { target: { targetLinks: $4 } } of O3)
        $4.sort(Mr3);
    }
  }
  function H5(O3) {
    if (h3 === void 0)
      for (const { sourceLinks: P3, targetLinks: $4 } of O3)
        P3.sort(wr3), $4.sort(Mr3);
  }
  function N4(O3, P3) {
    let $4 = O3.y0 - (O3.sourceLinks.length - 1) * r3 / 2;
    for (const { target: C3, width: V5 } of O3.sourceLinks) {
      if (C3 === P3) break;
      $4 += V5 + r3;
    }
    for (const { source: C3, width: V5 } of P3.targetLinks) {
      if (C3 === O3) break;
      $4 -= V5;
    }
    return $4;
  }
  function M4(O3, P3) {
    let $4 = P3.y0 - (P3.targetLinks.length - 1) * r3 / 2;
    for (const { source: C3, width: V5 } of P3.targetLinks) {
      if (C3 === O3) break;
      $4 += V5 + r3;
    }
    for (const { target: C3, width: V5 } of O3.sourceLinks) {
      if (C3 === P3) break;
      $4 -= V5;
    }
    return $4;
  }
  return f2;
}
var $i3 = Math.PI;
var Vi3 = 2 * $i3;
var _e3 = 1e-6;
var Ud2 = Vi3 - _e3;
function Gi3() {
  this._x0 = this._y0 = // start of current subpath
  this._x1 = this._y1 = null, this._ = "";
}
function Yo2() {
  return new Gi3();
}
Gi3.prototype = Yo2.prototype = {
  constructor: Gi3,
  moveTo: function(i10, t3) {
    this._ += "M" + (this._x0 = this._x1 = +i10) + "," + (this._y0 = this._y1 = +t3);
  },
  closePath: function() {
    this._x1 !== null && (this._x1 = this._x0, this._y1 = this._y0, this._ += "Z");
  },
  lineTo: function(i10, t3) {
    this._ += "L" + (this._x1 = +i10) + "," + (this._y1 = +t3);
  },
  quadraticCurveTo: function(i10, t3, e2, n2) {
    this._ += "Q" + +i10 + "," + +t3 + "," + (this._x1 = +e2) + "," + (this._y1 = +n2);
  },
  bezierCurveTo: function(i10, t3, e2, n2, s2, a2) {
    this._ += "C" + +i10 + "," + +t3 + "," + +e2 + "," + +n2 + "," + (this._x1 = +s2) + "," + (this._y1 = +a2);
  },
  arcTo: function(i10, t3, e2, n2, s2) {
    i10 = +i10, t3 = +t3, e2 = +e2, n2 = +n2, s2 = +s2;
    var a2 = this._x1, r3 = this._y1, o2 = e2 - i10, c2 = n2 - t3, l2 = a2 - i10, h3 = r3 - t3, d2 = l2 * l2 + h3 * h3;
    if (s2 < 0) throw new Error("negative radius: " + s2);
    if (this._x1 === null)
      this._ += "M" + (this._x1 = i10) + "," + (this._y1 = t3);
    else if (d2 > _e3) if (!(Math.abs(h3 * o2 - c2 * l2) > _e3) || !s2)
      this._ += "L" + (this._x1 = i10) + "," + (this._y1 = t3);
    else {
      var u3 = e2 - a2, p3 = n2 - r3, f2 = o2 * o2 + c2 * c2, g3 = u3 * u3 + p3 * p3, m3 = Math.sqrt(f2), y4 = Math.sqrt(d2), S3 = s2 * Math.tan(($i3 - Math.acos((f2 + d2 - g3) / (2 * m3 * y4))) / 2), v4 = S3 / y4, E = S3 / m3;
      Math.abs(v4 - 1) > _e3 && (this._ += "L" + (i10 + v4 * l2) + "," + (t3 + v4 * h3)), this._ += "A" + s2 + "," + s2 + ",0,0," + +(h3 * u3 > l2 * p3) + "," + (this._x1 = i10 + E * o2) + "," + (this._y1 = t3 + E * c2);
    }
  },
  arc: function(i10, t3, e2, n2, s2, a2) {
    i10 = +i10, t3 = +t3, e2 = +e2, a2 = !!a2;
    var r3 = e2 * Math.cos(n2), o2 = e2 * Math.sin(n2), c2 = i10 + r3, l2 = t3 + o2, h3 = 1 ^ a2, d2 = a2 ? n2 - s2 : s2 - n2;
    if (e2 < 0) throw new Error("negative radius: " + e2);
    this._x1 === null ? this._ += "M" + c2 + "," + l2 : (Math.abs(this._x1 - c2) > _e3 || Math.abs(this._y1 - l2) > _e3) && (this._ += "L" + c2 + "," + l2), e2 && (d2 < 0 && (d2 = d2 % Vi3 + Vi3), d2 > Ud2 ? this._ += "A" + e2 + "," + e2 + ",0,1," + h3 + "," + (i10 - r3) + "," + (t3 - o2) + "A" + e2 + "," + e2 + ",0,1," + h3 + "," + (this._x1 = c2) + "," + (this._y1 = l2) : d2 > _e3 && (this._ += "A" + e2 + "," + e2 + ",0," + +(d2 >= $i3) + "," + h3 + "," + (this._x1 = i10 + e2 * Math.cos(s2)) + "," + (this._y1 = t3 + e2 * Math.sin(s2))));
  },
  rect: function(i10, t3, e2, n2) {
    this._ += "M" + (this._x0 = this._x1 = +i10) + "," + (this._y0 = this._y1 = +t3) + "h" + +e2 + "v" + +n2 + "h" + -e2 + "Z";
  },
  toString: function() {
    return this._;
  }
};
function _r3(i10) {
  return function() {
    return i10;
  };
}
function Fd2(i10) {
  return i10[0];
}
function Wd2(i10) {
  return i10[1];
}
var Xd2 = Array.prototype.slice;
function Yd2(i10) {
  return i10.source;
}
function Zd2(i10) {
  return i10.target;
}
function qd2(i10) {
  var t3 = Yd2, e2 = Zd2, n2 = Fd2, s2 = Wd2, a2 = null;
  function r3() {
    var o2, c2 = Xd2.call(arguments), l2 = t3.apply(this, c2), h3 = e2.apply(this, c2);
    if (a2 || (a2 = o2 = Yo2()), i10(a2, +n2.apply(this, (c2[0] = l2, c2)), +s2.apply(this, c2), +n2.apply(this, (c2[0] = h3, c2)), +s2.apply(this, c2)), o2) return a2 = null, o2 + "" || null;
  }
  return r3.source = function(o2) {
    return arguments.length ? (t3 = o2, r3) : t3;
  }, r3.target = function(o2) {
    return arguments.length ? (e2 = o2, r3) : e2;
  }, r3.x = function(o2) {
    return arguments.length ? (n2 = typeof o2 == "function" ? o2 : _r3(+o2), r3) : n2;
  }, r3.y = function(o2) {
    return arguments.length ? (s2 = typeof o2 == "function" ? o2 : _r3(+o2), r3) : s2;
  }, r3.context = function(o2) {
    return arguments.length ? (a2 = o2 ?? null, r3) : a2;
  }, r3;
}
function jd2(i10, t3, e2, n2, s2) {
  i10.moveTo(t3, e2), i10.bezierCurveTo(t3 = (t3 + n2) / 2, e2, t3, s2, n2, s2);
}
function Kd2() {
  return qd2(jd2);
}
function Jd2(i10) {
  return [i10.source.x1, i10.y0];
}
function Qd2(i10) {
  return [i10.target.x0, i10.y1];
}
function tp2() {
  return Kd2().source(Jd2).target(Qd2);
}
var pm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "alluvial", this.renderType = D.SVG, this.gradient_id = "gradient-id-" + Math.floor(Math.random() * 99999999999);
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = true) {
    const e2 = this.getComponentContainer({ ariaLabel: "alluvial graphs", withinChartClip: true });
    e2.html("");
    const { width: n2, height: s2 } = ve2.getSVGElementSize(e2, {
      useAttrs: true
    });
    if (n2 < 1 || s2 < 1)
      return;
    const a2 = this.model.getOptions(), r3 = this.model.getDisplayData(), o2 = rt(
      this.getOptions(),
      "color",
      "gradient",
      "enabled"
    );
    let c2 = Cm.minNodePadding;
    a2.alluvial.nodePadding > Cm.minNodePadding && (c2 = a2.alluvial.nodePadding);
    const l2 = rt(a2, "alluvial", "nodeAlignment");
    let h3 = Xo2;
    l2 === k.LEFT ? h3 = $d2 : l2 === k.RIGHT && (h3 = Vd2);
    const d2 = zd2().nodeId((v4) => v4.name).nodeWidth(Cm.nodeWidth).nodePadding(c2).nodeAlign(h3).extent([
      [2, 30],
      [n2 - 2, s2]
    ]);
    this.graph = d2({
      nodes: a2.alluvial.nodes.map((v4) => Object.assign({}, v4)),
      links: r3.map((v4) => Object.assign({}, v4))
    }), this.graph.nodes = this.graph.nodes.filter((v4) => v4.value !== 0);
    const u3 = {};
    this.graph.nodes.forEach((v4) => {
      const E = v4.x0;
      v4.category && (u3[E] = v4 == null ? void 0 : v4.category);
    }), e2.append("g").classed("header-arrows", true).selectAll("g").data(Object.keys(u3)).join("g").attr("transform", (v4) => `translate(${v4}, 0)`).append("text").attr(
      "id",
      (v4, E) => this.services.domUtils.generateElementIDString(`alluvial-category-${E}`)
    ).style("font-size", "14px").text((v4) => u3[v4] ? u3[v4] : "").attr("y", 20).attr("x", (v4, E) => {
      const x4 = this.services.domUtils.generateElementIDString(
        `alluvial-category-${E}`
      ), { width: b3 } = ve2.getSVGElementSize(D3(`text#${x4}`), {
        useBBox: true
      });
      let _4 = 0;
      return v4 + _4 >= b3 && (_4 = -b3 + 4), _4;
    });
    const f2 = e2.append("g").attr("fill", "none").selectAll("g").data(this.graph.links);
    if (f2.exit().remove(), o2) {
      const v4 = rt(this.getOptions(), "color", "scale");
      v4 && f2.enter().append("linearGradient").attr("id", (E) => `${this.gradient_id}-link-${E.index}`).attr("gradientUnits", "userSpaceOnUse").call(
        (E) => E.append("stop").attr("offset", "0%").attr("stop-color", (x4) => v4[x4.source.name])
      ).call(
        (E) => E.append("stop").attr("offset", "100%").attr("stop-color", (x4) => v4[x4.target.name])
      ), f2.exit().remove();
    }
    f2.enter().append("path").classed("link", true).attr("d", tp2()).attr(
      "id",
      (v4) => this.services.domUtils.generateElementIDString(`alluvial-line-${v4.index}`)
    ).attr("class", (v4) => a2.alluvial.monochrome ? this.model.getColorClassName({
      classNameTypes: [h.STROKE],
      dataGroupName: 0,
      originalClassName: "link"
    }) : this.model.getColorClassName({
      classNameTypes: [h.STROKE],
      dataGroupName: v4.source.index,
      originalClassName: "link"
    })).style("stroke", (v4) => o2 ? `url(#${this.gradient_id}-link-${v4.index})` : this.model.getFillColor(v4.source.name, null, {
      ...v4,
      source: v4.source.name,
      target: v4.target.name
    })).attr("stroke-width", (v4) => Math.max(1, v4.width)).style("stroke-opacity", Cm.opacity.default).attr(
      "aria-label",
      (v4) => `${v4.source.name} → ${v4.target.name} (${v4.value}${a2.alluvial.units ? " " + a2.alluvial.units : ""})`
    );
    const g3 = e2.append("g").selectAll("g").data(this.graph.nodes).enter().append("g").attr(
      "id",
      (v4) => this.services.domUtils.generateElementIDString(`alluvial-node-${v4.index}`)
    ).classed("node-group", true).attr("transform", (v4) => `translate(${v4.x0}, ${v4.y0})`);
    g3.append("rect").classed("node", true).attr("height", (v4) => v4.y1 - v4.y0).attr("width", (v4) => v4.x1 - v4.x0).attr("fill", "black");
    const m3 = g3.append("g").attr(
      "id",
      (v4) => this.services.domUtils.generateElementIDString(`alluvial-node-title-${v4.index}`)
    ), { code: y4, number: S3 } = rt(a2, "locale");
    m3.append("text").attr(
      "id",
      (v4) => this.services.domUtils.generateElementIDString(`alluvial-node-text-${v4.index}`)
    ).attr("class", "node-text").style("font-size", "12px").attr("text-anchor", "start").attr("fill", "white").attr("x", 4).attr("dy", 13).text((v4) => `${v4.name} (${S3(v4.value, y4)})`).attr("aria-label", (v4) => `${v4.name} (${v4.value})`), m3.append("rect").classed("node-text-bg", true).attr("width", (v4, E) => {
      const x4 = this.services.domUtils.generateElementIDString(
        `alluvial-node-text-${E}`
      ), { width: b3 } = ve2.getSVGElementSize(D3(`text#${x4}`), {
        useBBox: true
      });
      return b3 + 8;
    }).attr("height", 18).attr("stroke-width", 2).lower(), m3.attr("transform", (v4, E) => {
      const x4 = this.services.domUtils.generateElementIDString(
        `alluvial-node-text-${E}`
      ), { width: b3 } = ve2.getSVGElementSize(D3(`text#${x4}`), {
        useBBox: true
      }), _4 = (v4.y1 - v4.y0) / 2 - 9;
      let k5 = v4.x1 - v4.x0;
      return v4.x1 >= b3 ? k5 = k5 - (b3 + 16) : k5 += 4, `translate(${k5}, ${_4})`;
    }), this.addLineEventListener(), this.addNodeEventListener();
  }
  addLineEventListener() {
    const t3 = this.getOptions(), e2 = this, { number: n2, code: s2 } = rt(this.getOptions(), "locale"), a2 = mn2((r3, o2 = "mouseover") => {
      const c2 = e2.parent.selectAll("path.link").transition().call(
        (l2) => e2.services.transitions.setupTransition({
          transition: l2,
          name: "alluvial-links-mouse-highlight"
        })
      );
      o2 === "mouseout" ? (D3(r3).lower(), c2.style("stroke-opacity", Cm.opacity.default)) : c2.style("stroke-opacity", function() {
        return r3 === this ? (D3(this).raise(), Cm.opacity.selected) : Cm.opacity.unfocus;
      });
    }, 33);
    this.parent.selectAll("path.link").on("mouseover", function(r3, o2) {
      const c2 = D3(this);
      a2(this, "mouseover"), c2.classed("link-hovered", true);
      const l2 = getComputedStyle(this).getPropertyValue("stroke");
      e2.services.events.dispatchEvent(_E.Alluvial.LINE_MOUSEOVER, {
        event: r3,
        element: c2,
        datum: o2
      }), e2.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: r3,
        hoveredElement: c2,
        items: [
          {
            label: o2.target.name,
            value: (n2(o2.value, s2) ? `${n2(o2.value, s2)}` : "-") + (t3.alluvial.units ? ` ${t3.alluvial.units}` : ""),
            color: l2,
            labelIcon: e2.getRightArrowIcon()
          }
        ]
      });
    }).on("mousemove", function(r3, o2) {
      e2.services.events.dispatchEvent(_E.Alluvial.LINE_MOUSEMOVE, {
        event: r3,
        element: D3(this),
        datum: o2
      }), e2.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: r3
      });
    }).on("click", function(r3, o2) {
      e2.services.events.dispatchEvent(_E.Alluvial.LINE_CLICK, {
        event: r3,
        element: D3(this),
        datum: o2
      });
    }).on("mouseout", function(r3, o2) {
      const c2 = D3(this);
      a2(this, "mouseout"), c2.classed("link-hovered", false), e2.services.events.dispatchEvent(_E.Alluvial.LINE_MOUSEOUT, {
        event: r3,
        element: c2,
        datum: o2
      }), e2.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        event: r3,
        hoveredElement: c2
      });
    });
  }
  addNodeEventListener() {
    const t3 = this, e2 = mn2((n2 = [], s2 = "mouseover") => {
      if (s2 === "mouseout" || n2.length === 0) {
        t3.parent.selectAll("path.link").classed("link-hovered", false).data(this.graph.links, (r3) => r3.index).order().style("stroke-opacity", Cm.opacity.default);
        return;
      }
      t3.parent.selectAll("path.link").transition().call(
        (r3) => this.services.transitions.setupTransition({
          transition: r3,
          name: "alluvial-link-mouse-highlight"
        })
      ).style("stroke-opacity", function(r3) {
        return n2.some((o2) => o2 === r3.index) ? (D3(this).classed("link-hovered", true).raise(), Cm.opacity.selected) : Cm.opacity.unfocus;
      });
    }, 66);
    t3.parent.selectAll(".node-group").on("mouseover", function(n2, s2) {
      const a2 = D3(this), r3 = [];
      if (t3.traverse({ link: "sourceLinks", node: "target" }, s2, r3), t3.traverse({ link: "targetLinks", node: "source" }, s2, r3), r3.length) {
        const o2 = U0(a2.attr("transform"));
        if (a2.attr("transform", `translate(${o2.x - 2}, ${o2.y})`), a2.classed("node-hovered", true).selectAll("rect.node").attr("width", 8), s2.x0 - 2 === 0) {
          const l2 = t3.services.domUtils.generateElementIDString(
            `alluvial-node-title-${s2.index}`
          ), h3 = t3.parent.select(`g#${l2}`), d2 = U0(h3.attr("transform"));
          h3.attr("transform", `translate(${d2.x + 4},${d2.y})`);
        }
        const c2 = t3.services.domUtils.generateElementIDString(
          `alluvial-node-text-${s2.index}`
        );
        t3.parent.select(`text#${c2}`).style("font-weight", "bold"), e2(r3, "mouseover"), t3.services.events.dispatchEvent(_E.Alluvial.NODE_MOUSEOVER, {
          event: n2,
          element: a2,
          datum: s2
        });
      }
    }).on("mousemove", function(n2, s2) {
      t3.services.events.dispatchEvent(_E.Alluvial.NODE_MOUSEMOVE, {
        event: n2,
        element: D3(this),
        datum: s2
      }), t3.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: n2
      });
    }).on("click", function(n2, s2) {
      t3.services.events.dispatchEvent(_E.Alluvial.NODE_CLICK, {
        event: n2,
        element: D3(this),
        datum: s2
      });
    }).on("mouseout", function(n2, s2) {
      const a2 = D3(this), r3 = U0(a2.attr("transform"));
      if (a2.classed("node-hovered", false).attr("transform", `translate(${r3.x + 2}, ${r3.y})`).select("rect.node").attr("width", Cm.nodeWidth), s2.x0 - 2 === 0) {
        const c2 = t3.services.domUtils.generateElementIDString(
          `alluvial-node-title-${s2.index}`
        ), l2 = t3.parent.select(`g#${c2}`), h3 = U0(l2.attr("transform"));
        l2.attr("transform", `translate(${h3.x - 4},${h3.y})`);
      }
      const o2 = t3.services.domUtils.generateElementIDString(
        `alluvial-node-text-${s2.index}`
      );
      t3.parent.select(`text#${o2}`).style("font-weight", "normal"), e2([], "mouseout"), t3.services.events.dispatchEvent(_E.Alluvial.NODE_MOUSEOUT, {
        event: n2,
        element: a2,
        datum: s2
      }), t3.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        hoveredElement: a2
      });
    });
  }
  // Traverse graph and get all connected links to node
  traverse(t3, e2, n2 = []) {
    e2[t3.link].map((a2) => (n2.push(a2.index), a2[t3.node])).forEach((a2) => this.traverse(t3, a2, n2));
  }
  getRightArrowIcon() {
    return `
		<svg xmlns="http://www.w3.org/2000/svg" class="arrow-right" width="32" height="32" viewBox="0 0 32 32">
			<polygon points="18 6 16.57 7.393 24.15 15 4 15 4 17 24.15 17 16.57 24.573 18 26 28 16 18 6"/>
			<rect width="32" height="32"/>
		</svg>`;
  }
  // Remove event listeners
  destroy() {
    this.parent.selectAll("path.line,.node-group").on("mouseover", null).on("mousemove", null).on("click", null).on("mouseout", null);
  }
};
var fm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "grid", this.renderType = D.SVG;
  }
  render(t3 = true) {
    const e2 = rt(this.getOptions(), "grid", "x", "enabled"), n2 = rt(this.getOptions(), "grid", "y", "enabled");
    this.drawBackdrop(e2, n2), !(!e2 && !n2) && (e2 && (ve2.appendOrSelect(this.backdrop, "g.x.grid"), this.drawXGrid(t3)), n2 && (ve2.appendOrSelect(this.backdrop, "g.y.grid"), this.drawYGrid(t3)));
  }
  drawXGrid(t3) {
    const e2 = this.parent, n2 = this.backdrop.attr("height"), s2 = this.services.cartesianScales.getMainXScale(), a2 = Ui3(s2).tickSizeInner(-n2).tickSizeOuter(0);
    if (rt(this.getOptions(), "grid", "x", "alignWithAxisTicks")) {
      const c2 = this.services.cartesianScales.getDomainAxisPosition(), l2 = rt(this.getOptions(), "axes", c2, "ticks", "values");
      l2 && a2.tickValues(l2);
    } else {
      const c2 = rt(this.getOptions(), "grid", "x", "numberOfTicks");
      a2.ticks(c2);
    }
    const o2 = e2.select(".x.grid").attr("transform", `translate(${-this.backdrop.attr("x")}, ${n2})`);
    t3 ? o2.transition().call(
      (c2) => this.services.transitions.setupTransition({
        transition: c2,
        name: "grid-update",
        animate: t3
      })
    ).call(a2) : o2.call(a2), this.cleanGrid(o2);
  }
  drawYGrid(t3) {
    const e2 = this.parent, n2 = this.backdrop.attr("width"), s2 = this.services.cartesianScales.getMainYScale(), a2 = uo2(s2).tickSizeInner(-n2).tickSizeOuter(0);
    if (rt(this.getOptions(), "grid", "y", "alignWithAxisTicks")) {
      const c2 = this.services.cartesianScales.getRangeAxisPosition(), l2 = rt(this.getOptions(), "axes", c2, "ticks", "values");
      l2 && a2.tickValues(l2);
    } else {
      const c2 = rt(this.getOptions(), "grid", "y", "numberOfTicks");
      a2.ticks(c2);
    }
    const o2 = e2.select(".y.grid").attr("transform", `translate(0, ${-this.backdrop.attr("y")})`);
    t3 ? o2.transition().call(
      (c2) => this.services.transitions.setupTransition({
        transition: c2,
        name: "grid-update",
        animate: t3
      })
    ).call(a2) : o2.call(a2), this.cleanGrid(o2);
  }
  /**
   * Returns the threshold for the gridline tooltips based on the mouse location.
   * Calculated based on the mouse position between the two closest gridlines or edges of chart.
   */
  getGridlineThreshold(t3) {
    const e2 = this.parent, n2 = e2.selectAll(".x.grid .tick").nodes().sort((h3, d2) => Number(X0(h3).tx) - Number(X0(d2).tx));
    let s2 = -1;
    if (!n2.length)
      return;
    n2.forEach((h3) => {
      t3[0] >= +X0(h3).tx && s2++;
    });
    const a2 = s2 + 1 < n2.length ? s2 + 1 : n2.length, r3 = n2[s2], o2 = n2[a2];
    let c2;
    if (!r3)
      c2 = +X0(o2).tx;
    else if (o2)
      c2 = +X0(o2).tx - +X0(r3).tx;
    else {
      const h3 = e2.select("rect.chart-grid-backdrop").node();
      c2 = ve2.getSVGElementSize(h3).width - +X0(r3).tx;
    }
    const { threshold: l2 } = this.getOptions().tooltip.gridline;
    return c2 * l2;
  }
  /**
   * Returns the active gridlines based on the gridline threshold and mouse position.
   * @param position mouse positon
   */
  getActiveGridline(t3) {
    const e2 = rt(this.getOptions, "tooltip", "gridline", "threshold"), n2 = e2 || this.getGridlineThreshold(t3);
    return this.parent.selectAll(".x.grid .tick").filter(function() {
      const r3 = X0(this), o2 = {
        min: Number(r3.tx) - n2,
        max: Number(r3.tx) + n2
      };
      return o2.min <= t3[0] && t3[0] <= o2.max;
    });
  }
  drawBackdrop(t3, e2) {
    const n2 = this.parent, s2 = this.services.cartesianScales.getMainXScale(), a2 = this.services.cartesianScales.getMainYScale(), [r3, o2] = s2.range(), [c2, l2] = a2.range();
    this.backdrop = ve2.appendOrSelect(n2, "svg.chart-grid-backdrop").attr(
      "role",
      "presentation"
    );
    const h3 = ve2.appendOrSelect(
      this.backdrop,
      t3 || e2 ? "rect.chart-grid-backdrop.stroked" : "rect.chart-grid-backdrop"
    );
    this.backdrop.merge(h3).attr("x", r3).attr("y", l2).attr("width", Math.abs(o2 - r3)).attr("height", Math.abs(c2 - l2)).lower(), h3.attr("width", "100%").attr("height", "100%");
  }
  cleanGrid(t3) {
    t3.selectAll("text").remove(), t3.select(".domain").remove();
  }
};
var gm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "area", this.renderType = D.SVG, this.gradient_id = "gradient-id-" + Math.floor(Math.random() * 99999999999), this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail;
      this.parent.selectAll("path.area").transition("legend-hover-area").call(
        (n2) => this.services.transitions.setupTransition({
          transition: n2,
          name: "legend-hover-area"
        })
      ).attr("opacity", (n2) => n2.name !== e2.datum().name ? _m.opacity.unselected : _m.opacity.selected);
    }, this.handleLegendMouseOut = () => {
      this.parent.selectAll("path.area").transition("legend-mouseout-area").call(
        (t3) => this.services.transitions.setupTransition({
          transition: t3,
          name: "legend-mouseout-area"
        })
      ).attr("opacity", _m.opacity.selected);
    };
  }
  init() {
    const t3 = this.services.events;
    t3.addEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  render(t3 = true) {
    const e2 = this.getComponentContainer({ ariaLabel: "area graphs", withinChartClip: true }), n2 = this.getOptions();
    let s2 = [0, 0];
    const { cartesianScales: a2 } = this.services, r3 = a2.getOrientation(), o2 = ji3().curve(this.services.curves.getD3Curve()).defined((x4) => {
      const b3 = a2.getRangeIdentifier(), _4 = x4[b3];
      return _4 != null;
    }), c2 = this.model.getGroupedData(this.configs.groups), l2 = rt(n2, "bounds"), h3 = l2 && c2 && c2.length === 1;
    !h3 && l2 && console.warn(
      `Bounds can only be shown when having 1 single datagroup, you've supplied ${c2.length}`
    );
    let d2 = 0;
    const u3 = (x4, b3) => {
      rt(n2, "axes", x4, "includeZero") === false && b3[0] > 0 && b3[1] > 0 && (d2 = b3[0]);
    }, p3 = (x4) => h3 ? a2.getBoundedScaledValues(x4)[0] : a2.getRangeValue(d2), f2 = (x4) => h3 ? a2.getBoundedScaledValues(x4)[1] : a2.getRangeValue(x4);
    r3 === w.VERTICAL ? (s2 = a2.getMainYScale().domain(), u3(a2.getMainYAxisPosition(), s2), o2.x((x4) => a2.getDomainValue(x4)).y0((x4) => p3(x4)).y1((x4) => f2(x4))) : (s2 = a2.getMainXScale().domain(), u3(a2.getMainXAxisPosition(), s2), o2.x0((x4) => p3(x4)).x1((x4) => f2(x4)).y((x4) => a2.getDomainValue(x4)));
    const g3 = rt(n2, "color", "gradient", "enabled"), m3 = c2 && c2.length === 1 && g3;
    c2.length > 1 && g3 && console.error("Gradients can only be enabled when having 1 single dataset");
    const y4 = e2.selectAll("path.area").data(c2, (x4) => x4.name), S3 = D3(this.services.domUtils.getMainContainer());
    if (y4.exit().attr("opacity", 0).remove(), !c2.length)
      return;
    if (m3) {
      const x4 = S3.select(
        `path.${this.model.getColorClassName({
          classNameTypes: [h.STROKE],
          dataGroupName: c2[0].name
        })}`
      ).node();
      let b3;
      if (x4)
        b3 = getComputedStyle(x4, null).getPropertyValue(
          "stroke"
        );
      else {
        const _4 = rt(this.model.getOptions(), "color", "scale");
        if (_4 !== null) {
          const k5 = Object.keys(_4);
          b3 = _4[k5[0]];
        }
      }
      Ft3.appendOrUpdateLinearGradient({
        svg: this.parent,
        id: this.services.domUtils.generateElementIDString(
          `${c2[0].name.replace(" ", "")}_${this.gradient_id}`
        ),
        x1: "0%",
        x2: "0%",
        y1: "0%",
        y2: "100%",
        stops: Ft3.getStops(s2, b3)
      });
    } else
      this.parent.selectAll("defs linearGradient").empty() || this.parent.selectAll("defs linearGradient").each(function() {
        this.parentNode.remove();
      });
    const v4 = this, E = y4.enter().append("path");
    m3 ? E.merge(y4).style(
      "fill",
      (x4) => `url(#${this.services.domUtils.generateElementIDString(
        `${x4.name.replace(" ", "")}_${this.gradient_id}`
      )})`
    ).attr("class", "area").attr(
      "class",
      (x4) => this.model.getColorClassName({
        classNameTypes: [h.FILL],
        dataGroupName: x4.name,
        originalClassName: "area"
      })
    ).attr("d", (x4) => {
      const { data: b3 } = x4;
      return o2(b3);
    }) : (E.attr("opacity", 0).merge(y4).attr("class", "area").attr(
      "class",
      (x4) => this.model.getColorClassName({
        classNameTypes: [h.FILL, h.STROKE],
        dataGroupName: x4.name,
        originalClassName: "area"
      })
    ).style("fill", (x4) => v4.model.getFillColor(x4.name, null, x4.data)).transition().call(
      (x4) => this.services.transitions.setupTransition({
        transition: x4,
        name: "area-update-enter",
        animate: t3
      })
    ).attr("opacity", h3 ? 1 : _m.opacity.selected).attr("d", (x4) => {
      const { data: b3 } = x4;
      return o2(b3);
    }), h3 && E.attr("fill-opacity", _m.opacity.selected).style("stroke", (x4) => v4.model.getStrokeColor(x4.name, null, x4.data)).style("stroke-dasharray", "2, 2").attr("stroke-width", 0.7 + "px"));
  }
  destroy() {
    const t3 = this.services.events;
    t3.removeEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.removeEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
};
var mm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "line", this.renderType = D.SVG, this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail;
      this.parent.selectAll("path.line").transition("legend-hover-line").call(
        (n2) => this.services.transitions.setupTransition({
          transition: n2,
          name: "legend-hover-line"
        })
      ).attr("opacity", (n2) => n2.name !== e2.datum().name ? Om.opacity.unselected : Om.opacity.selected);
    }, this.handleLegendMouseOut = () => {
      this.parent.selectAll("path.line").transition("legend-mouseout-line").call(
        (t3) => this.services.transitions.setupTransition({
          transition: t3,
          name: "legend-mouseout-line"
        })
      ).attr("opacity", Om.opacity.selected);
    };
  }
  init() {
    const { events: t3 } = this.services;
    t3.addEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  render(t3 = true) {
    const e2 = this.getComponentContainer({ ariaLabel: "lines", withinChartClip: true }), { cartesianScales: n2, curves: s2 } = this.services, a2 = (f2) => n2.getDomainValue(f2), r3 = (f2) => n2.getRangeValue(f2), [o2, c2] = Z0(
      a2,
      r3,
      n2.getOrientation()
    ), l2 = this.getOptions(), h3 = Dn3().x(o2).y(c2).curve(s2.getD3Curve()).defined((f2) => {
      const g3 = n2.getRangeIdentifier(f2), m3 = f2[g3];
      return m3 != null;
    });
    let d2 = [];
    if (this.configs.stacked) {
      const f2 = Object.keys(l2.axes).some((y4) => l2.axes[y4].percentage), { groupMapsTo: g3 } = l2.data;
      d2 = this.model.getStackedData({
        groups: this.configs.groups,
        percentage: f2
      }).map((y4) => {
        const S3 = this.services.cartesianScales.getDomainIdentifier(y4), v4 = this.services.cartesianScales.getRangeIdentifier(y4);
        return {
          name: rt(y4, 0, g3),
          data: y4.map((E) => ({
            [S3]: E.data.sharedStackKey,
            [g3]: E[g3],
            [v4]: E[1]
          })),
          hidden: !Mc2(y4, (E) => E[0] !== E[1])
        };
      });
    } else
      d2 = this.model.getGroupedData(this.configs.groups);
    const u3 = e2.selectAll("path.line").data(d2, (f2) => f2.name);
    u3.exit().attr("opacity", 0).remove(), u3.enter().append("path").classed("line", true).attr("opacity", 0).merge(u3).data(d2, (f2) => f2.name).attr(
      "class",
      (f2) => this.model.getColorClassName({
        classNameTypes: [h.STROKE],
        dataGroupName: f2.name,
        originalClassName: "line"
      })
    ).style("stroke", (f2) => this.model.getStrokeColor(f2.name, null, f2.data)).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-roledescription", "line").attr("aria-label", (f2) => {
      const { data: g3 } = f2;
      return g3.map((m3) => {
        const y4 = this.services.cartesianScales.getRangeIdentifier(m3);
        return m3[y4];
      }).join(",");
    }).transition().call(
      (f2) => this.services.transitions.setupTransition({
        transition: f2,
        name: "line-update-enter",
        animate: t3
      })
    ).attr("opacity", (f2) => f2.hidden ? 0 : 1).attr("d", (f2) => {
      const { data: g3 } = f2;
      return h3(g3);
    });
  }
  destroy() {
    const t3 = this.services.events;
    t3.removeEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.removeEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
};
var Ir3 = 5;
function ep2(i10, t3) {
  return i10 > t3 - Ir3 && i10 < t3 + Ir3;
}
var Zo2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "ruler", this.renderType = D.SVG, this.isXGridEnabled = rt(this.getOptions(), "grid", "x", "enabled"), this.isYGridEnabled = rt(this.getOptions(), "grid", "y", "enabled"), this.isEventListenerAdded = false;
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = false) {
    const e2 = rt(this.getOptions(), "ruler", "enabled");
    this.drawBackdrop(), e2 && !this.isEventListenerAdded ? this.addBackdropEventListeners() : !e2 && this.isEventListenerAdded && this.removeBackdropEventListeners();
  }
  removeBackdropEventListeners() {
    this.isEventListenerAdded = false, this.backdrop.on("mousemove mouseover mouseout", null);
  }
  formatTooltipData(t3) {
    return t3;
  }
  showRuler(t3, [e2, n2]) {
    const s2 = this.parent, a2 = this.services.cartesianScales.getOrientation(), r3 = this.model.getDisplayData(), o2 = this.services.cartesianScales.getRangeScale(), [c2, l2] = o2.range(), h3 = a2 === w.HORIZONTAL ? n2 : e2, d2 = ve2.appendOrSelect(s2, "g.ruler").attr("aria-label", "ruler"), u3 = ve2.appendOrSelect(d2, "line.ruler-line"), p3 = s2.selectAll("[role=graphics-symbol]"), f2 = r3.map((m3) => ({
      domainValue: this.services.cartesianScales.getDomainValue(m3),
      originalData: m3
    })).filter((m3) => ep2(m3.domainValue, h3));
    if (this.pointsWithinLine && f2.length === this.pointsWithinLine.length && f2.map((m3) => m3.domainValue).join() === this.pointsWithinLine.map((m3) => m3.domainValue).join())
      return this.pointsWithinLine = f2, this.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        mousePosition: [e2, n2]
      });
    this.pointsWithinLine = f2;
    const g3 = this.pointsWithinLine.reduce((m3, y4) => {
      if (m3.length === 0)
        return m3.push(y4), m3;
      const S3 = m3[0].domainValue, v4 = Math.abs(h3 - y4.domainValue), E = Math.abs(h3 - S3);
      return v4 > E || (v4 < E ? m3 = [y4] : m3.push(y4)), m3;
    }, []);
    if (g3.length > 0) {
      const m3 = g3.map((E) => E.originalData).filter((E) => {
        const x4 = this.services.cartesianScales.getRangeIdentifier(E), b3 = E[x4];
        return b3 != null;
      }), y4 = g3.map(
        (E) => E.domainValue
      ), S3 = p3.filter((E) => {
        const x4 = this.services.cartesianScales.getDomainValue(E);
        return y4.includes(x4);
      });
      this.elementsToHighlight && this.elementsToHighlight.size() > 0 && !lo2(this.elementsToHighlight, S3) && this.hideRuler(), S3.dispatch("mouseover"), this.elementsToHighlight = S3, this.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: t3,
        mousePosition: [e2, n2],
        hoveredElement: u3,
        data: this.formatTooltipData(m3)
      }), d2.attr("opacity", 1);
      const v4 = g3[0];
      a2 === "horizontal" ? u3.attr("x1", l2).attr("x2", c2).attr("y1", v4.domainValue).attr("y2", v4.domainValue) : u3.attr("y1", l2).attr("y2", c2).attr("x1", v4.domainValue).attr("x2", v4.domainValue);
    } else
      this.hideRuler();
  }
  hideRuler() {
    const t3 = this.parent, e2 = ve2.appendOrSelect(t3, "g.ruler");
    t3.selectAll("[role=graphics-symbol]").dispatch("mouseout"), this.services.events.dispatchEvent(_E.Tooltip.HIDE), e2.attr("opacity", 0);
  }
  /**
   * Adds the listener on the X grid to trigger multiple point tooltips along the x axis.
   */
  addBackdropEventListeners() {
    this.isEventListenerAdded = true;
    const t3 = this, e2 = this.services.domUtils.getHolder(), n2 = this.model.getDisplayData();
    let s2 = function(a2) {
      const r3 = dd(a2, t3.parent.node());
      t3.showRuler(a2, r3);
    };
    if (n2.length > 100) {
      const a2 = n2.length % 50 * 12.5;
      s2 = j0(
        function(r3) {
          const { mousePosition: o2 } = this;
          t3.showRuler(r3, o2);
        },
        a2,
        e2
      );
    }
    this.backdrop.on("mousemove mouseover", s2).on("mouseout", this.hideRuler.bind(this));
  }
  drawBackdrop() {
    const t3 = this.parent;
    this.backdrop = ve2.appendOrSelect(t3, "svg.chart-grid-backdrop");
  }
};
var Ji2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "scatter", this.renderType = D.SVG, this.handleChartHolderOnHover = () => {
      if (!this.parent) throw new Error("Parent not defined");
      this.parent.selectAll("circle.dot").transition("chart-holder-hover-scatter").call(
        (t3) => {
          var e2;
          return (e2 = this.services.transitions) == null ? void 0 : e2.setupTransition({
            transition: t3,
            name: "chart-holder-hover-scatter"
          });
        }
      ).attr("opacity", 1);
    }, this.handleChartHolderOnMouseOut = () => {
      if (!this.parent) throw new Error("Parent not defined");
      this.parent.selectAll("circle.dot").transition("chart-holder-mouseout-scatter").call(
        (t3) => {
          var e2;
          return (e2 = this.services.transitions) == null ? void 0 : e2.setupTransition({
            transition: t3,
            name: "chart-holder-mouseout-scatter"
          });
        }
      ).attr("opacity", 0);
    }, this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail, { groupMapsTo: n2 } = this.getOptions().data;
      if (!this.parent) throw new Error("Parent not defined");
      this.parent.selectAll("circle.dot").transition("legend-hover-scatter").call(
        (s2) => {
          var a2;
          return (a2 = this.services.transitions) == null ? void 0 : a2.setupTransition({
            transition: s2,
            name: "legend-hover-scatter"
          });
        }
      ).attr("opacity", (s2) => s2[n2] !== e2.datum().name ? 0.3 : 1);
    }, this.handleLegendMouseOut = () => {
      if (!this.parent) throw new Error("Parent not defined");
      this.parent.selectAll("circle.dot").transition("legend-mouseout-scatter").call(
        (t3) => {
          var e2;
          return (e2 = this.services.transitions) == null ? void 0 : e2.setupTransition({
            transition: t3,
            name: "legend-mouseout-scatter"
          });
        }
      ).attr("opacity", 1);
    };
  }
  init() {
    const { events: t3 } = this.services;
    if (!t3) throw new Error("Services events are undefined.");
    t3.addEventListener(
      _E.Legend.ITEM_HOVER,
      this.handleLegendOnHover
    ), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
    const { fadeInOnChartHolderMouseover: e2 } = this.configs;
    e2 && (t3.addEventListener(_E.Chart.MOUSEOVER, this.handleChartHolderOnHover), t3.addEventListener(_E.Chart.MOUSEOUT, this.handleChartHolderOnMouseOut));
  }
  filterBasedOnZoomDomain(t3) {
    const { cartesianScales: e2 } = this.services;
    if (!e2) throw new Error("Services cartesianScales are undefined.");
    const n2 = e2.getDomainIdentifier(t3), s2 = this.model.get("zoomDomain");
    return s2 !== void 0 ? t3.filter(
      (a2) => a2[n2].getTime() >= s2[0].getTime() && a2[n2].getTime() <= s2[1].getTime()
    ) : t3;
  }
  getScatterData() {
    const t3 = this.getOptions(), { stacked: e2 } = this.configs;
    let n2;
    if (e2) {
      const s2 = Object.keys(t3.axes).some((a2) => t3.axes[a2].percentage);
      n2 = this.model.getStackedData({
        groups: this.configs.groups,
        percentage: s2
      });
    } else {
      const { cartesianScales: s2 } = this.services;
      if (!s2) throw new Error("Services cartesianScales are undefined.");
      n2 = this.model.getDisplayData(this.configs.groups).filter((a2) => {
        const r3 = s2.getRangeIdentifier(a2);
        return a2[r3] !== void 0 && a2[r3] !== null;
      });
    }
    return this.filterBasedOnZoomDomain(n2);
  }
  render(t3) {
    if (!(rt(this.getOptions(), "points", "enabled") || rt(this.getOptions(), "bubble", "enabled")))
      return;
    const n2 = this.getComponentContainer({ ariaLabel: "scatter points", withinChartClip: true }), s2 = this.getOptions(), { groupMapsTo: a2 } = s2.data, { cartesianScales: r3 } = this.services;
    if (!r3) throw new Error("Services cartesianScales are undefined.");
    const o2 = r3.getDomainIdentifier(), c2 = n2.selectAll("circle.dot").data(
      this.getScatterData(),
      (d2) => `${d2[a2]}-${d2[o2]}`
    );
    c2.exit().attr("opacity", 0).remove();
    const h3 = c2.enter().append("circle").classed("dot", true).attr("opacity", 0).merge(c2);
    this.styleCircles(h3, t3), this.addEventListeners();
  }
  // A value is an anomaly if is above all defined domain and range thresholds
  isDatapointThresholdAnomaly(t3) {
    const { handleThresholds: e2 } = this.configs;
    if (!e2)
      return false;
    const { cartesianScales: n2 } = this.services;
    if (!n2) throw new Error("Cartesian scales service is undefined");
    const s2 = n2.getOrientation(), [a2, r3] = Z0(
      n2.getHighestDomainThreshold(),
      n2.getHighestRangeThreshold(),
      s2
    ), [o2, c2] = Z0(
      (d2) => n2.getDomainValue(d2),
      (d2) => n2.getRangeValue(d2),
      s2
    ), l2 = o2(t3), h3 = c2(t3);
    return r3 && a2 ? h3 <= r3.scaleValue && l2 >= a2.scaleValue : r3 ? h3 <= r3.scaleValue : a2 ? l2 >= a2.scaleValue : false;
  }
  styleCircles(t3, e2) {
    const n2 = this.getOptions(), { filled: s2, fillOpacity: a2 } = n2.points, { cartesianScales: r3 } = this.services;
    if (!r3) throw new Error("Cartesian scales service is undefined");
    const { groupMapsTo: o2 } = n2.data, c2 = (p3) => r3.getDomainValue(p3), l2 = (p3) => r3.getRangeValue(p3), [h3, d2] = Z0(
      c2,
      l2,
      r3.getOrientation()
    ), { fadeInOnChartHolderMouseover: u3 } = this.configs;
    t3.raise().classed("dot", true).attr("class", (p3) => {
      const f2 = r3.getDomainIdentifier(p3), m3 = this.model.getIsFilled(p3[o2], p3[f2], p3, s2) ? [h.FILL, h.STROKE] : [h.STROKE];
      return this.model.getColorClassName({
        classNameTypes: m3,
        dataGroupName: p3[o2],
        originalClassName: "dot"
      }) || "";
    }).classed("threshold-anomaly", (p3) => this.isDatapointThresholdAnomaly(p3)).classed("filled", (p3) => {
      const f2 = r3.getDomainIdentifier(p3);
      return this.model.getIsFilled(p3[o2], p3[f2], p3, s2);
    }).classed("unfilled", (p3) => {
      const f2 = r3.getDomainIdentifier(p3);
      return !this.model.getIsFilled(p3[o2], p3[f2], p3, s2);
    }).transition().call(
      (p3) => {
        var f2;
        return (f2 = this.services.transitions) == null ? void 0 : f2.setupTransition({
          transition: p3,
          name: "scatter-update-enter",
          animate: e2
        });
      }
    ).attr("cx", h3).attr("cy", d2).attr("r", n2.points.radius).style("fill", (p3) => {
      const f2 = r3.getDomainIdentifier(p3);
      if (this.model.getIsFilled(p3[o2], p3[f2], p3, s2))
        return this.model.getFillColor(p3[o2], p3[f2], p3);
    }).style("stroke", (p3) => {
      const f2 = r3.getDomainIdentifier(p3);
      return this.model.getStrokeColor(p3[o2], p3[f2], p3);
    }).attr("fill-opacity", s2 ? a2 : 1).attr("opacity", u3 ? 0 : 1).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-roledescription", "point").attr("aria-label", (p3) => {
      const f2 = r3.getRangeIdentifier(p3);
      return p3[f2];
    }), this.addEventListeners();
  }
  // Extended in bubble graphs
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  getTooltipAdditionalItems(t3) {
    return null;
  }
  addEventListeners() {
    const t3 = this, { groupMapsTo: e2 } = t3.getOptions().data;
    if (!this.parent) throw new Error("Parent not defined");
    this.parent.selectAll("circle").on("mouseover", function(n2, s2) {
      var r3, o2;
      const a2 = D3(this);
      a2.classed("hovered", true).attr(
        "class",
        (c2) => t3.model.getColorClassName({
          classNameTypes: [h.FILL],
          dataGroupName: c2[e2],
          originalClassName: a2.attr("class")
        })
      ).style("fill", (c2) => {
        var h3;
        const l2 = (h3 = t3.services.cartesianScales) == null ? void 0 : h3.getDomainIdentifier(c2);
        return t3.model.getFillColor(c2[e2], c2[l2], c2);
      }).classed("unfilled", false), (r3 = t3.services.events) == null || r3.dispatchEvent(_E.Tooltip.SHOW, {
        event: n2,
        hoveredElement: a2,
        data: [s2],
        additionalItems: t3.getTooltipAdditionalItems(s2)
      }), (o2 = t3.services.events) == null || o2.dispatchEvent(_E.Scatter.SCATTER_MOUSEOVER, {
        event: n2,
        element: a2,
        datum: s2
      });
    }).on("mousemove", function(n2, s2) {
      var r3, o2;
      const a2 = D3(this);
      (r3 = t3.services.events) == null || r3.dispatchEvent(_E.Scatter.SCATTER_MOUSEMOVE, {
        event: n2,
        element: a2,
        datum: s2
      }), (o2 = t3.services.events) == null || o2.dispatchEvent(_E.Tooltip.MOVE, {
        event: n2
      });
    }).on("click", function(n2, s2) {
      var a2;
      (a2 = t3.services.events) == null || a2.dispatchEvent(_E.Scatter.SCATTER_CLICK, {
        event: n2,
        element: D3(this),
        datum: s2
      });
    }).on("mouseout", function(n2, s2) {
      var r3, o2, c2;
      const a2 = D3(this);
      if (a2.classed("hovered", false), !t3.configs.filled) {
        const { filled: l2 } = t3.getOptions().points, h3 = (r3 = t3.services.cartesianScales) == null ? void 0 : r3.getDomainIdentifier(s2), d2 = t3.model.getIsFilled(
          s2[e2],
          s2[h3],
          s2,
          l2
        );
        a2.classed("unfilled", !d2).style("fill", (u3) => d2 || l2 ? t3.model.getFillColor(u3[e2], u3[h3], u3) : null);
      }
      (o2 = t3.services.events) == null || o2.dispatchEvent(_E.Scatter.SCATTER_MOUSEOUT, {
        event: n2,
        element: a2,
        datum: s2
      }), (c2 = t3.services.events) == null || c2.dispatchEvent(_E.Tooltip.HIDE, {
        hoveredElement: a2
      });
    });
  }
  destroy() {
    var e2;
    (e2 = this.parent) == null || e2.selectAll("circle").on("mousemove", null).on("mouseout", null);
    const { events: t3 } = this.services;
    if (!t3) throw new Error("Services events undefined");
    t3.removeEventListener(
      _E.Legend.ITEM_HOVER,
      this.handleLegendOnHover
    ), t3.removeEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut), t3.removeEventListener(_E.Chart.MOUSEOVER, this.handleChartHolderOnHover), t3.removeEventListener(_E.Chart.MOUSEOUT, this.handleChartHolderOnMouseOut);
  }
};
var qo2 = class extends dt4 {
  constructor(t3, e2, n2) {
    super(t3, e2, n2), this.type = "axes", this.renderType = D.SVG, this.truncation = {
      [b.LEFT]: false,
      [b.RIGHT]: false,
      [b.TOP]: false,
      [b.BOTTOM]: false
    }, n2 && (this.configs = n2), this.margins = this.configs.margins;
  }
  render(t3 = true) {
    const { position: e2 } = this.configs, n2 = this.getOptions(), s2 = rt(n2, "axes", e2, "visible"), a2 = this.getComponentContainer({
      ariaLabel: "axes"
    }), { width: r3, height: o2 } = ve2.getSVGElementSize(a2, {
      useAttrs: true
    }), c2 = ve2.appendOrSelect(a2, `g.axis.${e2}`);
    let l2, h3;
    if (e2 === b.BOTTOM || e2 === b.TOP ? (l2 = this.configs.axes[b.LEFT] ? this.margins.left : 0, h3 = this.configs.axes[b.RIGHT] ? r3 - this.margins.right : r3) : (l2 = o2 - this.margins.bottom, h3 = this.margins.top), !this.services.cartesianScales) throw new Error("Services cartesianScales undefined");
    const d2 = this.services.cartesianScales.getScaleByPosition(e2);
    this.scaleType === F.LABELS || this.scaleType === F.LABELS_RATIO ? d2.rangeRound([l2, h3]) : d2.range([l2, h3]);
    let u3;
    switch (e2) {
      case b.LEFT:
        u3 = uo2;
        break;
      case b.BOTTOM:
        u3 = Ui3;
        break;
      case b.RIGHT:
        u3 = Pc2;
        break;
      case b.TOP:
        u3 = Nc2;
        break;
    }
    c2.attr("aria-label", `${e2} axis`);
    const p3 = !c2.select("g.ticks").empty();
    let f2 = ve2.appendOrSelect(c2, "g.ticks");
    p3 || (f2.attr("role", `${r2.GRAPHICS_OBJECT} ${r2.GROUP}`), f2.attr("aria-label", `${e2} ticks`));
    const g3 = ve2.appendOrSelect(c2, "g.ticks.invisible").style("opacity", "0").style("pointer-events", "none").attr("aria-hidden", true).attr("aria-label", `invisible ${e2} ticks`), m3 = rt(n2, "axes", e2), y4 = this.scaleType === F.TIME || m3.scaleType === F.TIME, S3 = e2 === b.LEFT || e2 === b.RIGHT, v4 = this.model.get("zoomDomain");
    if (v4 && y4 && !S3 && d2.domain(v4), !s2) {
      f2.attr("aria-hidden", true);
      return;
    }
    const E = rt(m3, "scaleType"), x4 = rt(n2, "data", "loading"), b3 = rt(m3, "ticks", "number"), _4 = rt(m3, "ticks", "values"), k5 = rt(m3, "truncation", "type"), G5 = rt(m3, "truncation", "threshold"), R4 = rt(m3, "truncation", "numCharacter"), A2 = b3 !== null, H5 = rt(n2, "timeScale"), N4 = ve2.appendOrSelect(g3, "g.tick"), M4 = ve2.appendOrSelect(N4, "text").text("0"), O3 = ve2.getSVGElementSize(M4.node(), {
      useBBox: true
    }).height;
    N4.remove();
    const P3 = this.scaleType || m3.scaleType || F.LINEAR, $4 = u3(d2).tickSizeOuter(0);
    if (d2.ticks) {
      let Y6;
      if (A2 ? Y6 = b3 : (Y6 = vm.ticks.number, S3 && (Y6 = this.getNumberOfFittingTicks(
        o2,
        O3,
        vm.ticks.verticalSpaceRatio
      ))), d2.ticks().length === 1 && d2.ticks()[0] === 0 && (Y6 = 0), $4.ticks(Y6), y4)
        if (!d2.ticks(Y6).length)
          $4.tickValues([]);
        else {
          const K5 = rt(n2, "timeScale", "addSpaceOnEdges"), ot5 = rt(n2, "axes", e2, "domain"), ct5 = d2.copy();
          K5 && !ot5 && ct5.nice(Y6);
          const st4 = ct5.ticks(Y6);
          K5 && st4.length > 2 && !ot5 && (st4.splice(st4.length - 1, 1), st4.splice(0, 1)), $4.tickValues(st4);
        }
    }
    let C3;
    const V5 = rt(m3, "ticks", "formatter"), { code: q4, number: X6 } = rt(n2, "locale");
    if (y4) {
      const Y6 = tp(
        $4.tickValues(),
        rt(n2, "timeScale", "timeInterval")
      );
      V5 === null ? C3 = (K5, ot5) => J0(K5, ot5, $4.tickValues(), Y6, H5, n2.locale) : C3 = (K5, ot5) => {
        const ct5 = J0(
          K5,
          ot5,
          $4.tickValues(),
          Y6,
          H5,
          n2.locale
        );
        return V5(K5, ot5, ct5);
      };
    } else
      V5 === null ? P3 === F.LINEAR && (C3 = (Y6) => X6(Y6, q4)) : C3 = V5;
    $4.tickFormat(C3);
    const [F4, Z5] = this.services.cartesianScales.getScaleByPosition(e2).domain();
    let rt5;
    if (_4) {
      if (y4)
        _4.forEach((Y6, K5) => {
          Y6.getTime === void 0 && (_4[K5] = new Date(Y6));
        }), rt5 = _4.filter((Y6) => {
          const K5 = Y6.getTime();
          return K5 >= new Date(F4).getTime() && K5 <= new Date(Z5).getTime();
        });
      else if (E === F.LABELS) {
        const Y6 = this.services.cartesianScales.getScaleByPosition(e2).domain();
        rt5 = _4.filter((K5) => Y6.includes(K5));
      } else
        rt5 = _4.filter(
          (Y6) => Y6 >= F4 && Y6 <= Z5
        );
      $4.tickValues(rt5);
    }
    switch (e2) {
      case b.LEFT:
        f2.attr("transform", `translate(${this.margins.left}, 0)`);
        break;
      case b.BOTTOM:
        f2.attr("transform", `translate(0, ${o2 - this.margins.bottom})`);
        break;
      case b.RIGHT:
        f2.attr("transform", `translate(${r3 - this.margins.right}, 0)`);
        break;
      case b.TOP:
        f2.attr("transform", `translate(0, ${this.margins.top})`);
        break;
    }
    const j5 = this.model.isDataEmpty();
    if (m3.title) {
      const Y6 = ve2.appendOrSelect(c2, "text.axis-title").html(
        j5 || x4 ? "" : he3(m3.title)
      ), K5 = rt(m3, "titleOrientation");
      let ot5;
      switch (e2) {
        case b.LEFT:
          K5 === EE.RIGHT ? Y6.attr("transform", "rotate(90)").attr("y", 0).attr("x", d2.range()[0] / 2).attr("dy", "-0.5em").style("text-anchor", "middle") : Y6.attr("transform", "rotate(-90)").attr("y", 0).attr("x", -(d2.range()[0] / 2)).attr("dy", "0.75em").style("text-anchor", "middle");
          break;
        case b.BOTTOM:
          Y6.attr(
            "transform",
            `translate(${this.margins.left / 2 + d2.range()[1] / 2}, ${o2 + 4})`
          ).style("text-anchor", "middle");
          break;
        case b.RIGHT:
          K5 === EE.LEFT ? Y6.attr("transform", "rotate(-90)").attr("y", r3).attr("x", -(d2.range()[0] / 2)).style("text-anchor", "middle") : Y6.attr("transform", "rotate(90)").attr("y", -r3).attr("x", d2.range()[0] / 2).attr("dy", "0.75em").style("text-anchor", "middle");
          break;
        case b.TOP:
          ot5 = ve2.getSVGElementSize(Y6, {
            useBBox: true
          }).height, Y6.attr(
            "transform",
            `translate(${this.margins.left / 2 + d2.range()[1] / 2}, ${ot5 / 2})`
          ).style("text-anchor", "middle");
          break;
      }
    }
    if (y4) {
      const Y6 = tp(
        $4.tickValues(),
        rt(n2, "timeScale", "timeInterval")
      ), K5 = H5.showDayName, ot5 = f2;
      t3 && (f2 = f2.transition().call(
        (st4) => this.services.transitions.setupTransition({
          transition: st4,
          name: "axis-update",
          animate: t3
        })
      )), f2 = f2.call($4), ot5.selectAll(".tick").data($4.tickValues(), d2).order().select("text").attr(
        "class",
        (st4, it5) => I0(st4, it5, $4.tickValues(), Y6, K5) ? "tick-label--primary" : "tick-label"
      );
    } else
      !t3 || !p3 ? f2 = f2.call($4) : f2 = f2.transition().call(
        (Y6) => this.services.transitions.setupTransition({
          transition: Y6,
          name: "axis-update",
          animate: t3
        })
      ).call($4);
    if (g3.call($4), e2 === b.BOTTOM || e2 === b.TOP) {
      let Y6 = false;
      const K5 = rt(m3, "ticks", "rotation");
      if (K5 === j.ALWAYS)
        Y6 = true;
      else if (K5 === j.NEVER)
        Y6 = false;
      else if (!K5 || K5 === j.AUTO)
        if (d2.step)
          Y6 = g3.selectAll("g.tick text").nodes().some(
            (ct5) => ve2.getSVGElementSize(ct5, {
              useBBox: true
            }).width >= d2.step()
          );
        else {
          Y6 = false;
          const ot5 = g3.append("text").text("A"), ct5 = ve2.getSVGElementSize(ot5.node(), {
            useBBox: true
          }).width;
          let st4;
          g3.selectAll("g.tick").each(function() {
            const it5 = D3(this), B5 = parseFloat(rt(X0(this), "tx"));
            B5 !== null && st4 + it5.text().length * ct5 * 0.8 >= B5 && (Y6 = true), st4 = B5;
          }), ot5.remove();
        }
      Y6 ? (A2 || ($4.ticks(
        this.getNumberOfFittingTicks(r3, O3, vm.ticks.horizontalSpaceRatio)
      ), g3.call($4), f2.call($4)), c2.selectAll("g.ticks g.tick text").attr("transform", "rotate(-45)").attr("text-anchor", e2 === b.TOP ? "start" : "end")) : c2.selectAll("g.ticks g.tick text").attr("transform", null).attr("text-anchor", null);
    }
    if (x4 ? c2.attr("opacity", 0) : c2.attr("opacity", 1), f2.selectAll("g.tick").attr("aria-label", (Y6) => Y6), g3.selectAll("g.tick").attr("aria-label", (Y6) => Y6), k5 !== K.NONE && E === F.LABELS && !_4) {
      const Y6 = this.services.cartesianScales.getScaleDomain(e2);
      if (Y6.length > 0) {
        const K5 = a2.select(`g.axis.${e2} g.ticks g.tick`).html();
        c2.selectAll("g.ticks g.tick").html(K5);
        const ot5 = this;
        c2.selectAll("g.tick text").data(Y6).text(function(ct5) {
          return ct5.length > G5 ? (ot5.truncation[e2] = true, Q0(ct5, k5, R4)) : ct5;
        }), this.getInvisibleAxisRef().selectAll("g.tick text").data(Y6).text(function(ct5) {
          return ct5.length > G5 ? Q0(ct5, k5, R4) : ct5;
        }), c2.selectAll("g.ticks").html(this.getInvisibleAxisRef().html()), c2.selectAll("g.tick text").data(Y6);
      }
    }
    this.addEventListeners();
  }
  addEventListeners() {
    const t3 = this.getComponentContainer(), { position: e2 } = this.configs, n2 = ve2.appendOrSelect(t3, `g.axis.${e2}`), s2 = this.getOptions(), a2 = rt(s2, "axes", e2), r3 = rt(a2, "scaleType"), o2 = rt(a2, "truncation", "threshold"), c2 = this;
    n2.selectAll("g.tick text").on("mouseover", function(l2, h3) {
      c2.services.events.dispatchEvent(_E.Axis.LABEL_MOUSEOVER, {
        event: l2,
        element: D3(this),
        datum: h3
      }), r3 === F.LABELS && h3.length > o2 && c2.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: l2,
        hoveredElement: D3(this),
        content: h3
      });
    }).on("mousemove", function(l2, h3) {
      c2.services.events.dispatchEvent(_E.Axis.LABEL_MOUSEMOVE, {
        event: l2,
        element: D3(this),
        datum: h3
      }), r3 === F.LABELS && h3.length > o2 && c2.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: l2
      });
    }).on("click", function(l2, h3) {
      c2.services.events.dispatchEvent(_E.Axis.LABEL_CLICK, {
        event: l2,
        element: D3(this),
        datum: h3
      });
    }).on("mouseout", function(l2, h3) {
      c2.services.events.dispatchEvent(_E.Axis.LABEL_MOUSEOUT, {
        event: l2,
        element: D3(this),
        datum: h3
      }), r3 === F.LABELS && c2.services.events.dispatchEvent(_E.Tooltip.HIDE);
    });
  }
  getInvisibleAxisRef() {
    const { position: t3 } = this.configs;
    return this.getComponentContainer().select(`g.axis.${t3} g.ticks.invisible`);
  }
  getTitleRef() {
    const { position: t3 } = this.configs;
    return this.getComponentContainer().select(`g.axis.${t3} text.axis-title`);
  }
  getNumberOfFittingTicks(t3, e2, n2) {
    const s2 = Math.floor(t3 / (e2 * n2));
    return oo2(s2, 2, vm.ticks.number);
  }
  destroy() {
    const t3 = this.getComponentContainer(), { position: e2 } = this.configs;
    ve2.appendOrSelect(t3, `g.axis.${e2}`).selectAll("g.tick text").on("mouseover", null).on("mousemove", null).on("mouseout", null);
  }
};
var np2 = class extends qo2 {
  constructor(t3, e2, n2) {
    super(t3, e2, n2);
  }
  render(t3 = true) {
    super.render(t3), super.destroy();
    const e2 = this.configs.position, n2 = this.getComponentContainer({
      ariaLabel: "axes"
    }), s2 = ve2.appendOrSelect(n2, `g.axis.${e2}`), a2 = this;
    s2.selectAll("g.tick").each(function(r3, o2) {
      const c2 = D3(this);
      c2.classed("tick-hover", true).attr("tabindex", o2 === 0 ? 0 : -1);
      const l2 = c2.select("text"), { width: h3, height: d2 } = ve2.getSVGElementSize(l2, {
        useBBox: true
      }), u3 = ve2.appendOrSelect(c2, "rect.axis-holder");
      let p3 = 0, f2 = 0;
      switch (e2) {
        case b.LEFT:
          p3 = -h3 + Number(l2.attr("x")), f2 = -(d2 / 2);
          break;
        case b.RIGHT:
          p3 = Math.abs(Number(l2.attr("x"))), f2 = -(d2 / 2);
          break;
        case b.TOP:
          p3 = -(h3 / 2), f2 = -d2 + Number(l2.attr("y")) / 2, a2.truncation[e2] && (p3 = 0, u3.attr("transform", "rotate(-45)"));
          break;
        case b.BOTTOM:
          p3 = -(h3 / 2), f2 = d2 / 2 - 2, a2.truncation[e2] && (p3 = -h3, u3.attr("transform", "rotate(-45)"));
          break;
      }
      u3.attr("x", p3 - vm.hover.rectanglePadding).attr("y", f2).attr("width", h3 + vm.hover.rectanglePadding * 2).attr("height", d2).lower();
    }), this.addEventListeners();
  }
  addEventListeners() {
    const t3 = this.getComponentContainer(), { position: e2 } = this.configs, n2 = ve2.appendOrSelect(t3, `g.axis.${e2}`), s2 = this.getOptions(), a2 = rt(s2, "axes", e2), r3 = rt(a2, "scaleType"), o2 = rt(a2, "truncation", "threshold"), c2 = this;
    n2.selectAll("g.tick.tick-hover").on("mouseover", function(l2) {
      const h3 = D3(this).select("text"), d2 = h3.datum();
      c2.services.events.dispatchEvent(_E.Axis.LABEL_MOUSEOVER, {
        event: l2,
        element: h3,
        datum: d2
      }), r3 === F.LABELS && d2.length > o2 && c2.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: l2,
        element: h3,
        datum: d2
      });
    }).on("mousemove", function(l2) {
      const h3 = D3(this).select("text"), d2 = h3.datum();
      c2.services.events.dispatchEvent(_E.Axis.LABEL_MOUSEMOVE, {
        event: l2,
        element: h3,
        datum: d2
      }), c2.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: l2
      });
    }).on("click", function(l2) {
      c2.services.events.dispatchEvent(_E.Axis.LABEL_CLICK, {
        event: l2,
        element: D3(this).select("text"),
        datum: D3(this).select("text").datum()
      });
    }).on("mouseout", function(l2) {
      c2.services.events.dispatchEvent(_E.Axis.LABEL_MOUSEOUT, {
        event: l2,
        element: D3(this).select("text"),
        datum: D3(this).select("text").datum()
      }), r3 === F.LABELS && c2.services.events.dispatchEvent(_E.Tooltip.HIDE);
    }).on("focus", function(l2) {
      const h3 = { clientX: 0, clientY: 0 };
      if (l2.target) {
        l2.target.focus();
        const d2 = l2.target.getBoundingClientRect();
        h3.clientX = d2.x, h3.clientY = d2.y;
      }
      c2.services.events.dispatchEvent(_E.Axis.LABEL_FOCUS, {
        event: { ...l2, ...h3 },
        element: D3(this),
        datum: D3(this).select("text").datum()
      });
    }).on("blur", function(l2) {
      c2.services.events.dispatchEvent(_E.Axis.LABEL_BLUR, {
        event: l2,
        element: D3(this),
        datum: D3(this).select("text").datum()
      });
    }).on("keydown", function(l2) {
      l2.key && l2.key === "Escape" && (c2.services.events.dispatchEvent(_E.Tooltip.HIDE), c2.services.events.dispatchEvent(_E.Axis.LABEL_BLUR, {
        event: l2,
        element: D3(this),
        datum: D3(this).select("text").datum()
      })), e2 === b.LEFT || e2 === b.RIGHT ? l2.key && l2.key === "ArrowUp" ? c2.goNext(this, l2) : l2.key && l2.key === "ArrowDown" && c2.goPrevious(this, l2) : l2.key && l2.key === "ArrowLeft" ? c2.goPrevious(this, l2) : l2.key && l2.key === "ArrowRight" && c2.goNext(this, l2);
    });
  }
  // Focus on the next HTML element sibling
  goNext(t3, e2) {
    t3.nextElementSibling && t3.nextElementSibling.tagName !== "path" && t3.nextElementSibling.dispatchEvent(new Event("focus")), e2.preventDefault();
  }
  // Focus on the previous HTML element sibling
  goPrevious(t3, e2) {
    t3.previousElementSibling && t3.previousElementSibling.tagName !== "path" && t3.previousElementSibling.dispatchEvent(new Event("focus")), e2.preventDefault();
  }
  destroy() {
    const t3 = this.getComponentContainer(), { position: e2 } = this.configs;
    ve2.appendOrSelect(t3, `g.axis.${e2}`).selectAll("g.tick.tick-hover").on("mouseover", null).on("mousemove", null).on("mouseout", null).on("focus", null).on("blur", null);
  }
};
var vm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "2D-axes", this.renderType = D.SVG, this.children = {}, this.thresholds = [], this.margins = {
      top: 0,
      right: 0,
      bottom: 0,
      left: 0
    };
  }
  render(t3 = false) {
    const e2 = {}, n2 = Object.keys(b), s2 = rt(this.getOptions(), "axes");
    n2.forEach((o2) => {
      s2[b[o2]] && (e2[b[o2]] = true);
    }), this.configs.axes = e2, n2.forEach((o2) => {
      const c2 = b[o2];
      if (this.configs.axes[c2] && !this.children[c2]) {
        const l2 = {
          position: c2,
          axes: this.configs.axes,
          margins: this.margins
        }, h3 = this.model.axisFlavor === uE.DEFAULT ? new qo2(this.model, this.services, l2) : new np2(this.model, this.services, l2);
        h3.setModel(this.model), h3.setServices(this.services), h3.setParent(this.parent), this.children[c2] = h3;
      }
    }), Object.keys(this.children).forEach((o2) => {
      this.children[o2].render(t3);
    });
    const a2 = {};
    Object.keys(this.children).forEach((o2) => {
      const c2 = this.children[o2], l2 = c2.configs.position, h3 = c2.getInvisibleAxisRef(), { width: d2, height: u3 } = ve2.getSVGElementSize(h3, { useBBox: true });
      let p3;
      switch (c2.getTitleRef().empty() ? p3 = 0 : (p3 = ve2.getSVGElementSize(c2.getTitleRef(), {
        useBBox: true
      }).height, (l2 === b.LEFT || l2 === b.RIGHT) && (p3 += 5)), l2) {
        case b.TOP:
          a2.top = u3 + p3;
          break;
        case b.BOTTOM:
          a2.bottom = u3 + p3;
          break;
        case b.LEFT:
          a2.left = d2 + p3;
          break;
        case b.RIGHT:
          a2.right = d2 + p3;
          break;
      }
    }), this.services.events.dispatchEvent(_E.Axis.RENDER_COMPLETE), Object.keys(a2).some(
      (o2) => this.margins[o2] !== a2[o2]
    ) && (this.margins = Object.assign(this.margins, a2), this.model.set({ axesMargins: this.margins }, { skipUpdate: true }), this.services.events.dispatchEvent(_E.ZoomBar.UPDATE), Object.keys(this.children).forEach((o2) => {
      const c2 = this.children[o2];
      c2.margins = this.margins;
    }), this.render(true));
  }
};
var sp = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "skeleton";
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = true) {
    const e2 = rt(this.getOptions(), "data", "loading");
    e2 ? this.renderSkeleton(e2) : this.removeSkeleton();
  }
  renderSkeleton(t3) {
    if (this.configs.skeleton === Z.GRID)
      this.renderGridSkeleton(t3);
    else if (this.configs.skeleton === Z.VERT_OR_HORIZ)
      this.renderVertOrHorizSkeleton(t3);
    else if (this.configs.skeleton === Z.PIE)
      this.renderPieSkeleton(t3);
    else if (this.configs.skeleton === Z.DONUT)
      this.renderDonutSkeleton(t3);
    else
      throw new Error(`"${this.configs.skeleton}" is not a valid Skeleton type.`);
  }
  renderGridSkeleton(t3) {
    this.setScales(), this.drawBackdrop(t3), this.drawXGrid(t3), this.drawYGrid(t3), t3 && this.setShimmerEffect("shimmer-lines");
  }
  renderVertOrHorizSkeleton(t3) {
    const e2 = this.services.cartesianScales.getOrientation();
    this.setScales(), this.drawBackdrop(t3), e2 === w.VERTICAL && this.drawYGrid(t3), e2 === w.HORIZONTAL && this.drawXGrid(t3), this.setShimmerEffect("shimmer-lines");
  }
  renderPieSkeleton(t3) {
    const e2 = this.computeOuterRadius();
    this.drawRing(e2, 0, t3), t3 && this.setShimmerEffect("shimmer-areas");
  }
  renderDonutSkeleton(t3) {
    const e2 = this.computeOuterRadius(), n2 = this.computeInnerRadius();
    this.drawRing(e2, n2, t3), t3 && this.setShimmerEffect("shimmer-areas");
  }
  setScales() {
    const t3 = this.services.cartesianScales.getMainXScale().range(), e2 = this.services.cartesianScales.getMainYScale().range();
    this.xScale = na().domain([0, 1]).range(t3), this.yScale = na().domain([0, 1]).range(e2);
  }
  drawBackdrop(t3) {
    const e2 = this.parent, { width: n2, height: s2 } = ve2.getSVGElementSize(e2, {
      useAttrs: true
    });
    this.backdrop = ve2.appendOrSelect(e2, "svg.chart-skeleton.DAII").attr("width", n2).attr("height", s2);
    const a2 = ve2.appendOrSelect(this.backdrop, "rect.chart-skeleton-backdrop");
    a2.attr("width", "100%").attr("height", "100%");
    const [r3] = this.xScale.range(), [, o2] = this.yScale.range();
    this.backdrop.merge(a2).attr("x", r3).attr("y", o2), a2.classed("shimmer-effect-lines", t3).classed("empty-state-lines", !t3).style(
      "stroke",
      t3 ? `url(#${this.services.domUtils.generateElementIDString("shimmer-lines")})` : null
    );
  }
  drawXGrid(t3) {
    const e2 = +this.backdrop.attr("width"), n2 = rt(this.getOptions(), "grid", "x", "numberOfTicks"), s2 = this.xScale.ticks(n2).map((o2) => o2 * e2), a2 = ve2.appendOrSelect(this.backdrop, "g.x.skeleton"), r3 = a2.selectAll("line").data(s2);
    r3.enter().append("line").merge(r3).attr("x1", (o2) => o2).attr("x2", (o2) => o2).attr("y1", 0).attr("y2", "100%"), a2.selectAll("line").classed("shimmer-effect-lines", t3).classed("empty-state-lines", !t3).style(
      "stroke",
      t3 ? `url(#${this.services.domUtils.generateElementIDString("shimmer-lines")})` : null
    );
  }
  drawYGrid(t3) {
    const e2 = +this.backdrop.attr("height"), n2 = this.backdrop.attr("width"), s2 = rt(this.getOptions(), "grid", "y", "numberOfTicks"), a2 = this.xScale.ticks(s2).map((c2) => c2 * e2), r3 = ve2.appendOrSelect(this.backdrop, "g.y.skeleton"), o2 = r3.selectAll("line").data(a2);
    o2.enter().append("line").merge(o2).attr("x1", 0).attr("x2", n2).attr("y1", (c2) => c2).attr("y2", (c2) => c2), r3.selectAll("line").classed("shimmer-effect-lines", t3).classed("empty-state-lines", !t3).style(
      "stroke",
      t3 ? `url(#${this.services.domUtils.generateElementIDString("shimmer-lines")})` : null
    );
  }
  drawRing(t3, e2, n2 = true) {
    const s2 = this.parent, { width: a2, height: r3 } = ve2.getSVGElementSize(s2, {
      useAttrs: true
    }), o2 = ve2.appendOrSelect(s2, "svg.chart-skeleton").attr("width", a2).attr("height", r3), c2 = e2 === 0 ? "pie" : "donut", l2 = rt(this.getOptions(), c2, "alignment");
    ve2.appendOrSelect(o2, "rect.chart-skeleton-area-container").attr("width", a2).attr("height", r3).attr("fill", "none");
    const h3 = In2().innerRadius(e2).outerRadius(t3).startAngle(0).endAngle(Math.PI * 2), d2 = t3 + Math.abs($m.radiusOffset), u3 = t3 + (Math.min(a2, r3) - t3 * 2) / 2, p3 = ve2.appendOrSelect(o2, "path").attr("class", "skeleton-area-shape").attr("transform", `translate(${d2}, ${u3})`).attr("d", h3).classed("shimmer-effect-areas", n2).classed("empty-state-areas", !n2).style(
      "fill",
      n2 ? `url(#${this.services.domUtils.generateElementIDString("shimmer-areas")})` : null
    );
    let f2 = t3 + $m.xOffset;
    l2 === k.CENTER ? f2 = a2 / 2 : l2 === k.RIGHT && (f2 = a2 - t3 - $m.xOffset);
    const g3 = t3 + $m.yOffset;
    p3.attr("transform", `translate(${f2}, ${g3})`);
  }
  // same logic in pie
  computeOuterRadius() {
    const { width: t3, height: e2 } = ve2.getSVGElementSize(this.parent, {
      useAttrs: true
    });
    return Math.min(t3, e2) / 2 + $m.radiusOffset;
  }
  // same logic in donut
  computeInnerRadius() {
    return this.computeOuterRadius() * (3 / 4);
  }
  setShimmerEffect(t3) {
    const a2 = "stop-bg-shimmer", r3 = "stop-shimmer", o2 = this.parent.select(".chart-skeleton"), { width: c2 } = ve2.getSVGElementSize(this.parent, {
      useAttrs: true
    }), l2 = 0, h3 = c2, d2 = ve2.appendOrSelect(o2, "defs").lower(), u3 = ve2.appendOrSelect(d2, "linearGradient").attr("id", this.services.domUtils.generateElementIDString(t3)).attr("class", t3).attr("x1", l2 - 3 * 0.2 * c2).attr("x2", h3).attr("y1", 0).attr("y2", 0).attr("gradientUnits", "userSpaceOnUse").attr("gradientTransform", "translate(0, 0)"), p3 = `
			<stop class="${a2}" offset="${l2}"></stop>
			<stop class="${r3}" offset="${l2 + 0.2}"></stop>
			<stop class="${a2}" offset="${l2 + 2 * 0.2}"></stop>
		`;
    u3.html(p3), f2();
    function f2() {
      u3.attr("gradientTransform", `translate(${l2 - 3 * 0.2 * c2}, 0)`).transition().duration(2e3).delay(1e3).ease(Hc2).attr("gradientTransform", `translate(${h3 + 3 * 0.2 * c2}, 0)`).on("end", f2);
    }
  }
  removeSkeleton() {
    this.parent.select(".chart-skeleton").remove();
  }
};
var ym2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "boxplot", this.renderType = D.SVG;
  }
  render(t3) {
    const e2 = this.getComponentContainer({ ariaLabel: "box plots", withinChartClip: true }), n2 = this.getOptions(), { groupMapsTo: s2 } = n2.data, a2 = this.model.getDataGroupNames(), r3 = this.services.cartesianScales.getMainXScale(), o2 = this.services.cartesianScales.getMainYScale(), [c2, l2] = r3.range(), [h3, d2] = o2.range(), u3 = l2 - c2, p3 = h3 - d2;
    if (u3 === 0)
      return;
    const { cartesianScales: f2 } = this.services, g3 = f2.getOrientation(), m3 = g3 === w.VERTICAL, [y4, S3] = Z0(
      (A2) => this.services.cartesianScales.getDomainValue(A2),
      (A2) => this.services.cartesianScales.getRangeValue(A2),
      g3
    ), v4 = Math.floor((m3 ? u3 : p3) / a2.length), E = Math.min(v4 / 2, 16), x4 = this.model.getBoxplotData(), b3 = e2.selectAll(".box-group").data(x4);
    b3.exit().remove();
    const _4 = b3.enter().append("g").attr("class", "box-group"), k5 = b3.merge(_4);
    _4.append("path").merge(b3.select("path.vertical-line.start")).attr(
      "class",
      () => this.model.getColorClassName({
        classNameTypes: [h.STROKE],
        originalClassName: "vertical-line start"
      })
    ).attr("stroke-width", Tm.strokeWidth.default).attr("fill", "none").transition().call(
      (A2) => this.services.transitions.setupTransition({
        transition: A2,
        name: "boxplot-update-verticalstartline",
        animate: t3
      })
    ).attr("d", (A2) => {
      const H5 = f2.getDomainValue(A2[s2]), N4 = H5, M4 = f2.getRangeValue(A2.whiskers.min), O3 = f2.getRangeValue(A2.quartiles.q_25);
      return K0({ x0: H5, x1: N4, y0: M4, y1: O3 }, g3);
    }), _4.append("path").merge(b3.select("path.vertical-line.end")).attr(
      "class",
      () => this.model.getColorClassName({
        classNameTypes: [h.STROKE],
        originalClassName: "vertical-line end"
      })
    ).attr("stroke-width", Tm.strokeWidth.default).attr("fill", "none").transition().call(
      (A2) => this.services.transitions.setupTransition({
        transition: A2,
        name: "boxplot-update-verticalendline",
        animate: t3
      })
    ).attr("d", (A2) => {
      const H5 = f2.getDomainValue(A2[s2]), N4 = H5, M4 = f2.getRangeValue(A2.whiskers.max), O3 = f2.getRangeValue(A2.quartiles.q_75);
      return K0({ x0: H5, x1: N4, y0: M4, y1: O3 }, g3);
    }), _4.append("path").merge(b3.select("path.box")).attr(
      "class",
      () => this.model.getColorClassName({
        classNameTypes: [h.FILL, h.STROKE],
        originalClassName: "box"
      })
    ).attr("fill-opacity", Tm.box.opacity.default).attr("stroke-width", Tm.strokeWidth.default).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-roledescription", "box").attr("aria-label", (A2) => A2[s2]).transition().call(
      (A2) => this.services.transitions.setupTransition({
        transition: A2,
        name: "boxplot-update-quartiles",
        animate: t3
      })
    ).attr("d", (A2) => {
      const H5 = f2.getDomainValue(A2[s2]) - E / 2, N4 = H5 + E, M4 = f2.getRangeValue(
        Math[m3 ? "max" : "min"](A2.quartiles.q_75, A2.quartiles.q_25)
      ), O3 = M4 + Math.abs(
        f2.getRangeValue(A2.quartiles.q_75) - f2.getRangeValue(A2.quartiles.q_25)
      );
      return K0({ x0: H5, x1: N4, y0: M4, y1: O3 }, g3);
    }), _4.append("path").merge(b3.select("path.highlight-area")).attr("class", "highlight-area").attr("opacity", 0).attr("d", (A2) => {
      const H5 = f2.getDomainValue(A2[s2]) - E / 2, N4 = H5 + E, M4 = f2.getRangeValue(A2.whiskers.min), O3 = f2.getRangeValue(A2.whiskers.max);
      return K0({ x0: H5, x1: N4, y0: M4, y1: O3 }, g3);
    }), _4.append("path").merge(b3.select("path.whisker.start")).attr(
      "class",
      () => this.model.getColorClassName({
        classNameTypes: [h.STROKE],
        originalClassName: "whisker start"
      })
    ).attr("stroke-width", Tm.strokeWidth.thicker).attr("fill", "none").transition().call(
      (A2) => this.services.transitions.setupTransition({
        transition: A2,
        name: "boxplot-update-startingwhisker",
        animate: t3
      })
    ).attr("d", (A2) => {
      const H5 = f2.getDomainValue(A2[s2]) - E / 4, N4 = H5 + E / 2, M4 = f2.getRangeValue(A2.whiskers.min), O3 = f2.getRangeValue(A2.whiskers.min);
      return K0({ x0: H5, x1: N4, y0: M4, y1: O3 }, g3);
    }), _4.append("path").merge(b3.select("path.median")).attr("fill", "none").attr(
      "class",
      () => this.model.getColorClassName({
        classNameTypes: [h.STROKE],
        originalClassName: "median"
      })
    ).attr("stroke-width", 2).transition().call(
      (A2) => this.services.transitions.setupTransition({
        transition: A2,
        name: "boxplot-update-median",
        animate: t3
      })
    ).attr("d", (A2) => {
      const H5 = f2.getDomainValue(A2[s2]) - E / 2, N4 = H5 + E, M4 = f2.getRangeValue(A2.quartiles.q_50);
      return K0({ x0: H5, x1: N4, y0: M4, y1: M4 }, g3);
    }), _4.append("path").merge(b3.select("path.whisker.end")).attr(
      "class",
      () => this.model.getColorClassName({
        classNameTypes: [h.STROKE],
        originalClassName: "whisker end"
      })
    ).attr("stroke-width", Tm.strokeWidth.thicker).attr("fill", "none").transition().call(
      (A2) => this.services.transitions.setupTransition({
        transition: A2,
        name: "boxplot-update-endingwhisker",
        animate: t3
      })
    ).attr("d", (A2) => {
      const H5 = f2.getDomainValue(A2[s2]) - E / 4, N4 = H5 + E / 2, M4 = f2.getRangeValue(A2.whiskers.max), O3 = f2.getRangeValue(A2.whiskers.max);
      return K0({ x0: H5, x1: N4, y0: M4, y1: O3 }, g3);
    });
    const G5 = k5.selectAll("circle.outlier").data(
      (A2) => A2.outliers.map((H5) => ({
        min: A2.whiskers.min,
        max: A2.whiskers.max,
        [s2]: A2[s2],
        value: H5
      }))
    );
    G5.exit().remove();
    const R4 = G5.enter().append("circle");
    G5.merge(R4).attr("r", Tm.circle.radius).attr(
      "class",
      () => this.model.getColorClassName({
        classNameTypes: [h.FILL, h.STROKE],
        originalClassName: "outlier"
      })
    ).attr("fill-opacity", Tm.circle.opacity.default).attr("cx", y4).transition().call(
      (A2) => this.services.transitions.setupTransition({
        transition: A2,
        name: "boxplot-update-circles",
        animate: t3
      })
    ).attr("cy", S3), this.addBoxEventListeners(), this.addCircleEventListeners();
  }
  addBoxEventListeners() {
    const t3 = this, e2 = this.getOptions(), { groupMapsTo: n2 } = e2.data;
    this.parent.selectAll("path.highlight-area").on("mouseover", function(s2, a2) {
      const r3 = D3(this);
      D3(this.parentNode).select("path.box").classed("hovered", true).attr("fill-opacity", Tm.box.opacity.hovered), t3.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: s2,
        hoveredElement: r3,
        items: [
          {
            label: rt(e2, "locale", "translations", "group") || rt(e2, "tooltip", "groupLabel") || "Group",
            value: a2[n2],
            class: t3.model.getColorClassName({
              classNameTypes: [h.TOOLTIP]
            })
          },
          {
            label: "Minimum",
            value: a2.whiskers.min
          },
          {
            label: "Q1",
            value: a2.quartiles.q_25
          },
          {
            label: "Median",
            value: a2.quartiles.q_50
          },
          {
            label: "Q3",
            value: a2.quartiles.q_75
          },
          {
            label: "Maximum",
            value: a2.whiskers.max
          },
          {
            label: "IQR",
            value: a2.quartiles.q_75 - a2.quartiles.q_25
          }
        ]
      }), t3.services.events.dispatchEvent(_E.Boxplot.BOX_MOUSEOVER, {
        event: s2,
        element: r3,
        datum: a2
      });
    }).on("mousemove", function(s2, a2) {
      const r3 = D3(this);
      t3.services.events.dispatchEvent(_E.Boxplot.BOX_MOUSEMOVE, {
        event: s2,
        element: r3,
        datum: a2
      }), t3.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: s2
      });
    }).on("click", function(s2, a2) {
      t3.services.events.dispatchEvent(_E.Boxplot.BOX_CLICK, {
        event: s2,
        element: D3(this),
        datum: a2
      });
    }).on("mouseout", function(s2, a2) {
      const r3 = D3(this);
      D3(this.parentNode).select("path.box").classed("hovered", false).attr("fill-opacity", Tm.box.opacity.default), t3.services.events.dispatchEvent(_E.Boxplot.BOX_MOUSEOUT, {
        event: s2,
        element: r3,
        datum: a2
      }), t3.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        hoveredElement: r3
      });
    });
  }
  addCircleEventListeners() {
    const t3 = this, e2 = this.getOptions(), { groupMapsTo: n2 } = e2.data, s2 = this.services.cartesianScales.getRangeIdentifier();
    this.parent.selectAll("circle").on("mouseover", function(a2, r3) {
      const o2 = D3(this);
      o2.classed("hovered", true).attr("fill-opacity", Tm.circle.opacity.hovered).classed("unfilled", false), t3.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: a2,
        hoveredElement: o2,
        items: [
          {
            label: rt(e2, "locale", "translations", "group") || rt(e2, "tooltip", "groupLabel") || "Group",
            value: r3[n2],
            class: t3.model.getColorClassName({
              classNameTypes: [h.TOOLTIP]
            })
          },
          {
            label: "Outlier",
            value: r3[s2]
          }
        ]
      }), t3.services.events.dispatchEvent(_E.Boxplot.OUTLIER_MOUSEOVER, {
        event: a2,
        element: o2,
        datum: r3
      });
    }).on("mousemove", function(a2, r3) {
      const o2 = D3(this);
      t3.services.events.dispatchEvent(_E.Boxplot.OUTLIER_MOUSEMOVE, {
        event: a2,
        element: o2,
        datum: r3
      }), t3.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: a2
      });
    }).on("click", function(a2, r3) {
      t3.services.events.dispatchEvent(_E.Boxplot.OUTLIER_CLICK, {
        event: a2,
        element: D3(this),
        datum: r3
      });
    }).on("mouseout", function(a2, r3) {
      const o2 = D3(this);
      o2.classed("hovered", false).attr("fill-opacity", Tm.circle.opacity.default), t3.services.events.dispatchEvent(_E.Boxplot.OUTLIER_MOUSEOUT, {
        event: a2,
        element: o2,
        datum: r3
      }), t3.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        hoveredElement: o2
      });
    });
  }
};
var Em2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "zero-line", this.renderType = D.SVG;
  }
  render(t3) {
    const e2 = this.services.cartesianScales.getRangeAxisPosition({
      groups: this.configs.groups
    }), n2 = this.services.cartesianScales.getScaleByPosition(e2), [s2, a2] = n2.domain(), r3 = s2 > 0 && a2 < 0 || s2 < 0 && a2 > 0, o2 = this.getComponentContainer({
      isPresentational: true
    });
    if (!r3) {
      o2.selectAll("line.domain").remove();
      return;
    }
    const [c2, l2] = this.services.cartesianScales.getDomainScale().range();
    let h3 = +n2(0) + 0.5;
    h3 || (h3 = n2.range()[0]);
    const d2 = c0(
      {
        x0: c2,
        x1: l2,
        y0: h3,
        y1: h3
      },
      this.services.cartesianScales.getOrientation()
    );
    ve2.appendOrSelect(o2, "line.domain").transition().call(
      (p3) => this.services.transitions.setupTransition({
        transition: p3,
        name: "zero-line-update",
        animate: t3
      })
    ).attr("y1", d2.y0).attr("y2", d2.y1).attr("x1", d2.x0).attr("x2", d2.x1);
  }
};
var xm2 = class extends Ji2 {
  constructor() {
    super(...arguments), this.type = "bubble", this.renderType = D.SVG;
  }
  getRadiusScale(t3) {
    const e2 = this.getOptions(), { radiusMapsTo: n2 } = e2.bubble, s2 = t3.data(), a2 = s2.map((l2) => l2[n2]).filter((l2) => l2), r3 = ve2.getHTMLElementSize(this.services.domUtils.getMainContainer()), o2 = a2.length > 0, c2 = o2 ? _l(a2) : [1, 1];
    return na().domain(c2).range(o2 ? e2.bubble.radiusRange(r3, s2) : [4, 4]);
  }
  styleCircles(t3, e2) {
    const n2 = this.getOptions(), { radiusMapsTo: s2 } = n2.bubble, a2 = this.getRadiusScale(t3), { groupMapsTo: r3 } = n2.data, { cartesianScales: o2 } = this.services, c2 = (u3) => o2.getDomainValue(u3), l2 = (u3) => o2.getRangeValue(u3), [h3, d2] = Z0(
      c2,
      l2,
      o2.getOrientation()
    );
    t3.raise().classed("dot", true).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-label", (u3) => {
      const p3 = o2.getRangeIdentifier(u3);
      return u3[p3];
    }).transition().call(
      (u3) => this.services.transitions.setupTransition({
        transition: u3,
        name: "bubble-update-enter",
        animate: e2
      })
    ).attr("cx", h3).attr("cy", d2).attr("r", (u3) => a2(u3[s2] || 1)).attr(
      "class",
      (u3) => this.model.getColorClassName({
        classNameTypes: [h.FILL, h.STROKE],
        dataGroupName: u3[r3],
        originalClassName: "dot"
      })
    ).style("fill", (u3) => {
      const p3 = this.services.cartesianScales.getDomainIdentifier(u3);
      return this.model.getFillColor(u3[r3], u3[p3], u3);
    }).style("stroke", (u3) => {
      const p3 = this.services.cartesianScales.getDomainIdentifier(u3);
      return this.model.getStrokeColor(u3[r3], u3[p3], u3);
    }).attr("fill-opacity", n2.bubble.fillOpacity).attr("opacity", 1);
  }
  getTooltipAdditionalItems(t3) {
    const e2 = rt(this.getOptions(), "bubble");
    return [
      {
        label: rt(e2, "radiusLabel"),
        value: t3[rt(e2, "radiusMapsTo")]
      }
    ];
  }
};
var Sm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "bullet", this.renderType = D.SVG, this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail, { groupMapsTo: n2 } = this.getOptions().data;
      this.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(
        (s2) => this.services.transitions.setupTransition({
          transition: s2,
          name: "legend-hover-simple-bar"
        })
      ).attr("opacity", (s2) => s2[n2] !== e2.datum().name ? 0.3 : 1);
    }, this.handleLegendMouseOut = () => {
      this.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(
        (t3) => this.services.transitions.setupTransition({
          transition: t3,
          name: "legend-mouseout-simple-bar"
        })
      ).attr("opacity", 1);
    };
  }
  init() {
    const t3 = this.services.events;
    t3.addEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  render(t3) {
    const e2 = this.getOptions(), { groupMapsTo: n2 } = e2.data, s2 = this.getComponentContainer({ ariaLabel: "bullet graphs", withinChartClip: true }), a2 = this.model.getDisplayData(this.configs.groups), r3 = this.services.cartesianScales.getRangeScale(), o2 = this.services.cartesianScales.getRangeIdentifier(), [c2, l2] = r3.range(), [, h3] = r3.domain(), d2 = () => {
      const g3 = [];
      a2.forEach((S3) => {
        S3.ranges ? S3.ranges.forEach((v4, E) => {
          v4 != null && v4 < h3 && g3.push({
            datum: S3,
            value: v4,
            order: E + 1
          });
        }) : g3.push({
          datum: S3,
          order: 1
        });
      });
      const m3 = ve2.appendOrSelect(s2, "g.range-boxes").selectAll("path.range-box").data(g3, (S3) => `${S3[n2]}-${S3.order}`);
      m3.exit().attr("opacity", 0).remove(), m3.enter().append("path").attr("opacity", 0).merge(m3).attr("class", (S3) => `range-box order-${S3.order}`).transition().call(
        (S3) => this.services.transitions.setupTransition({
          transition: S3,
          name: "bullet-range-box-update-enter",
          animate: t3
        })
      ).attr("d", (S3) => {
        let E, x4, b3, _4;
        return S3.order === 1 ? (E = this.services.cartesianScales.getDomainValue(S3.datum) - 16 / 2, x4 = E + 16, b3 = l2 - 2, _4 = c2 + 1) : (E = this.services.cartesianScales.getDomainValue(S3.datum) - 16 / 2, x4 = E + 16, b3 = this.services.cartesianScales.getRangeValue(S3.value), _4 = l2), K0(
          { x0: E, x1: x4, y0: b3, y1: _4 },
          this.services.cartesianScales.getOrientation()
        );
      }).attr("opacity", 1);
    }, u3 = () => {
      const g3 = ve2.appendOrSelect(s2, "g.bars").selectAll("path.bar").data(a2, (y4) => y4[n2]);
      g3.exit().attr("opacity", 0).remove(), g3.enter().append("path").attr("opacity", 0).merge(g3).classed("bar", true).transition().call(
        (y4) => this.services.transitions.setupTransition({
          transition: y4,
          name: "bullet-bar-update-enter",
          animate: t3
        })
      ).attr(
        "class",
        (y4) => this.model.getColorClassName({
          classNameTypes: [h.FILL],
          dataGroupName: y4[n2],
          originalClassName: "bar"
        })
      ).style("fill", (y4) => {
        const S3 = this.services.cartesianScales.getDomainIdentifier(y4);
        return this.model.getFillColor(y4[n2], y4[S3], y4);
      }).attr("d", (y4) => {
        const v4 = this.services.cartesianScales.getDomainValue(y4) - 4, E = v4 + 8, x4 = this.services.cartesianScales.getRangeValue(0) + 1, b3 = this.services.cartesianScales.getRangeValue(y4);
        return K0(
          { x0: v4, x1: E, y0: x4, y1: b3 },
          this.services.cartesianScales.getOrientation()
        );
      }).attr("opacity", 1).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-roledescription", "bar").attr("aria-label", (y4) => y4.value);
    }, p3 = () => {
      const g3 = ve2.appendOrSelect(s2, "g.markers").selectAll("path.marker").data(
        a2.filter((y4) => rt(y4, "marker") !== null),
        (y4) => y4[n2]
      );
      g3.exit().attr("opacity", 0).remove(), g3.enter().append("path").attr("opacity", 0).merge(g3).classed("marker", true).transition().call(
        (y4) => this.services.transitions.setupTransition({
          transition: y4,
          name: "bullet-marker-update-enter",
          animate: t3
        })
      ).attr("d", (y4) => {
        const v4 = this.services.cartesianScales.getDomainValue(y4) - 12, E = v4 + 24, x4 = this.services.cartesianScales.getRangeValue(y4.marker);
        return K0(
          { x0: v4, x1: E, y0: x4, y1: x4 },
          this.services.cartesianScales.getOrientation()
        );
      }).attr("opacity", 1);
    }, f2 = () => {
      let g3 = [];
      a2.filter((S3) => rt(S3, "marker") !== null).forEach((S3) => {
        const v4 = S3.marker, E = S3[o2];
        g3 = g3.concat([
          { datum: S3, value: v4 * 0.25, barValue: E },
          { datum: S3, value: v4 * 0.5, barValue: E },
          { datum: S3, value: v4 * 0.75, barValue: E }
        ]);
      });
      const m3 = ve2.appendOrSelect(s2, "g.quartiles").selectAll("path.quartile").data(g3, (S3) => S3[n2]);
      m3.exit().attr("opacity", 0).remove(), m3.enter().append("path").attr("opacity", 0).merge(m3).attr("class", (S3) => `quartile ${S3.value <= S3.barValue ? "over-bar" : ""}`).transition().call(
        (S3) => this.services.transitions.setupTransition({
          transition: S3,
          name: "bullet-quartile-update-enter",
          animate: t3
        })
      ).attr("d", ({ datum: S3, value: v4 }) => {
        let E = 4;
        S3.ranges && S3.ranges.indexOf(v4) !== -1 && (E = 8);
        const x4 = this.services.cartesianScales.getDomainValue(S3) - E / 2, b3 = x4 + E, _4 = this.services.cartesianScales.getRangeValue(v4);
        return K0(
          { x0: x4, x1: b3, y0: _4, y1: _4 },
          this.services.cartesianScales.getOrientation()
        );
      }).attr("opacity", 1);
    };
    d2(), u3(), p3(), f2(), this.addEventListeners();
  }
  addEventListeners() {
    const t3 = this, e2 = this.getOptions(), { groupMapsTo: n2 } = e2.data, s2 = this.services.cartesianScales.getRangeIdentifier(), { code: a2, number: r3 } = rt(e2, "locale");
    this.parent.selectAll("path.bar").on("mouseover", function(o2, c2) {
      const l2 = D3(this);
      l2.classed("hovered", true), t3.services.events.dispatchEvent(_E.Bar.BAR_MOUSEOVER, {
        event: o2,
        element: l2,
        datum: c2
      });
      const h3 = rt(e2, "bullet", "performanceAreaTitles"), d2 = t3.model.getMatchingRangeIndexForDatapoint(c2);
      t3.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: o2,
        hoveredElement: l2,
        items: [
          {
            label: rt(e2, "locale", "translations", "group") || rt(e2, "tooltip", "groupLabel") || "Group",
            value: c2[n2],
            class: t3.model.getColorClassName({
              classNameTypes: [h.TOOLTIP],
              dataGroupName: c2[n2]
            })
          },
          {
            label: "Value",
            value: c2[s2]
          },
          {
            label: "Target",
            value: c2.marker
          },
          {
            label: "Percentage",
            value: `${r3(Math.floor(c2[s2] / c2.marker * 100), a2)}%`
          },
          {
            label: "Performance",
            value: h3[d2]
          }
        ]
      });
    }).on("mousemove", function(o2, c2) {
      t3.services.events.dispatchEvent(_E.Bar.BAR_MOUSEMOVE, {
        event: o2,
        element: D3(this),
        datum: c2
      }), t3.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: o2
      });
    }).on("click", function(o2, c2) {
      t3.services.events.dispatchEvent(_E.Bar.BAR_CLICK, {
        event: o2,
        element: D3(this),
        datum: c2
      });
    }).on("mouseout", function(o2, c2) {
      const l2 = D3(this);
      l2.classed("hovered", false), t3.services.events.dispatchEvent(_E.Bar.BAR_MOUSEOUT, {
        event: o2,
        element: l2,
        datum: c2
      }), t3.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        hoveredElement: l2
      });
    });
  }
  destroy() {
    this.parent.selectAll("path.bar").on("mouseover", null).on("mousemove", null).on("mouseout", null);
    const t3 = this.services.events;
    t3.removeEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.removeEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
};
function ip(i10) {
  return i10;
}
function ap(i10) {
  if (i10 == null) return ip;
  var t3, e2, n2 = i10.scale[0], s2 = i10.scale[1], a2 = i10.translate[0], r3 = i10.translate[1];
  return function(o2, c2) {
    c2 || (t3 = e2 = 0);
    var l2 = 2, h3 = o2.length, d2 = new Array(h3);
    for (d2[0] = (t3 += o2[0]) * n2 + a2, d2[1] = (e2 += o2[1]) * s2 + r3; l2 < h3; ) d2[l2] = o2[l2], ++l2;
    return d2;
  };
}
function rp(i10, t3) {
  for (var e2, n2 = i10.length, s2 = n2 - t3; s2 < --n2; ) e2 = i10[s2], i10[s2++] = i10[n2], i10[n2] = e2;
}
function op(i10, t3) {
  return typeof t3 == "string" && (t3 = i10.objects[t3]), t3.type === "GeometryCollection" ? { type: "FeatureCollection", features: t3.geometries.map(function(e2) {
    return Rr3(i10, e2);
  }) } : Rr3(i10, t3);
}
function Rr3(i10, t3) {
  var e2 = t3.id, n2 = t3.bbox, s2 = t3.properties == null ? {} : t3.properties, a2 = Qi3(i10, t3);
  return e2 == null && n2 == null ? { type: "Feature", properties: s2, geometry: a2 } : n2 == null ? { type: "Feature", id: e2, properties: s2, geometry: a2 } : { type: "Feature", id: e2, bbox: n2, properties: s2, geometry: a2 };
}
function Qi3(i10, t3) {
  var e2 = ap(i10.transform), n2 = i10.arcs;
  function s2(h3, d2) {
    d2.length && d2.pop();
    for (var u3 = n2[h3 < 0 ? ~h3 : h3], p3 = 0, f2 = u3.length; p3 < f2; ++p3)
      d2.push(e2(u3[p3], p3));
    h3 < 0 && rp(d2, f2);
  }
  function a2(h3) {
    return e2(h3);
  }
  function r3(h3) {
    for (var d2 = [], u3 = 0, p3 = h3.length; u3 < p3; ++u3) s2(h3[u3], d2);
    return d2.length < 2 && d2.push(d2[0]), d2;
  }
  function o2(h3) {
    for (var d2 = r3(h3); d2.length < 4; ) d2.push(d2[0]);
    return d2;
  }
  function c2(h3) {
    return h3.map(o2);
  }
  function l2(h3) {
    var d2 = h3.type, u3;
    switch (d2) {
      case "GeometryCollection":
        return { type: d2, geometries: h3.geometries.map(l2) };
      case "Point":
        u3 = a2(h3.coordinates);
        break;
      case "MultiPoint":
        u3 = h3.coordinates.map(a2);
        break;
      case "LineString":
        u3 = r3(h3.arcs);
        break;
      case "MultiLineString":
        u3 = h3.arcs.map(r3);
        break;
      case "Polygon":
        u3 = c2(h3.arcs);
        break;
      case "MultiPolygon":
        u3 = h3.arcs.map(c2);
        break;
      default:
        return null;
    }
    return { type: d2, coordinates: u3 };
  }
  return l2(t3);
}
function lp(i10, t3) {
  var e2 = {}, n2 = {}, s2 = {}, a2 = [], r3 = -1;
  t3.forEach(function(l2, h3) {
    var d2 = i10.arcs[l2 < 0 ? ~l2 : l2], u3;
    d2.length < 3 && !d2[1][0] && !d2[1][1] && (u3 = t3[++r3], t3[r3] = l2, t3[h3] = u3);
  }), t3.forEach(function(l2) {
    var h3 = o2(l2), d2 = h3[0], u3 = h3[1], p3, f2;
    if (p3 = s2[d2])
      if (delete s2[p3.end], p3.push(l2), p3.end = u3, f2 = n2[u3]) {
        delete n2[f2.start];
        var g3 = f2 === p3 ? p3 : p3.concat(f2);
        n2[g3.start = p3.start] = s2[g3.end = f2.end] = g3;
      } else
        n2[p3.start] = s2[p3.end] = p3;
    else if (p3 = n2[u3])
      if (delete n2[p3.start], p3.unshift(l2), p3.start = d2, f2 = s2[d2]) {
        delete s2[f2.end];
        var m3 = f2 === p3 ? p3 : f2.concat(p3);
        n2[m3.start = f2.start] = s2[m3.end = p3.end] = m3;
      } else
        n2[p3.start] = s2[p3.end] = p3;
    else
      p3 = [l2], n2[p3.start = d2] = s2[p3.end = u3] = p3;
  });
  function o2(l2) {
    var h3 = i10.arcs[l2 < 0 ? ~l2 : l2], d2 = h3[0], u3;
    return i10.transform ? (u3 = [0, 0], h3.forEach(function(p3) {
      u3[0] += p3[0], u3[1] += p3[1];
    })) : u3 = h3[h3.length - 1], l2 < 0 ? [u3, d2] : [d2, u3];
  }
  function c2(l2, h3) {
    for (var d2 in l2) {
      var u3 = l2[d2];
      delete h3[u3.start], delete u3.start, delete u3.end, u3.forEach(function(p3) {
        e2[p3 < 0 ? ~p3 : p3] = 1;
      }), a2.push(u3);
    }
  }
  return c2(s2, n2), c2(n2, s2), t3.forEach(function(l2) {
    e2[l2 < 0 ? ~l2 : l2] || a2.push([l2]);
  }), a2;
}
function cp(i10) {
  for (var t3 = -1, e2 = i10.length, n2, s2 = i10[e2 - 1], a2 = 0; ++t3 < e2; ) n2 = s2, s2 = i10[t3], a2 += n2[0] * s2[1] - n2[1] * s2[0];
  return Math.abs(a2);
}
function up(i10) {
  return Qi3(i10, hp.apply(this, arguments));
}
function hp(i10, t3) {
  var e2 = {}, n2 = [], s2 = [];
  t3.forEach(a2);
  function a2(c2) {
    switch (c2.type) {
      case "GeometryCollection":
        c2.geometries.forEach(a2);
        break;
      case "Polygon":
        r3(c2.arcs);
        break;
      case "MultiPolygon":
        c2.arcs.forEach(r3);
        break;
    }
  }
  function r3(c2) {
    c2.forEach(function(l2) {
      l2.forEach(function(h3) {
        (e2[h3 = h3 < 0 ? ~h3 : h3] || (e2[h3] = [])).push(c2);
      });
    }), n2.push(c2);
  }
  function o2(c2) {
    return cp(Qi3(i10, { type: "Polygon", arcs: [c2] }).coordinates[0]);
  }
  return n2.forEach(function(c2) {
    if (!c2._) {
      var l2 = [], h3 = [c2];
      for (c2._ = 1, s2.push(l2); c2 = h3.pop(); )
        l2.push(c2), c2.forEach(function(d2) {
          d2.forEach(function(u3) {
            e2[u3 < 0 ? ~u3 : u3].forEach(function(p3) {
              p3._ || (p3._ = 1, h3.push(p3));
            });
          });
        });
    }
  }), n2.forEach(function(c2) {
    delete c2._;
  }), {
    type: "MultiPolygon",
    arcs: s2.map(function(c2) {
      var l2 = [], h3;
      if (c2.forEach(function(g3) {
        g3.forEach(function(m3) {
          m3.forEach(function(y4) {
            e2[y4 < 0 ? ~y4 : y4].length < 2 && l2.push(y4);
          });
        });
      }), l2 = lp(i10, l2), (h3 = l2.length) > 1)
        for (var d2 = 1, u3 = o2(l2[0]), p3, f2; d2 < h3; ++d2)
          (p3 = o2(l2[d2])) > u3 && (f2 = l2[0], l2[0] = l2[d2], l2[d2] = f2, u3 = p3);
      return l2;
    }).filter(function(c2) {
      return c2.length > 0;
    })
  };
}
var Tm2 = class extends Zo2 {
  constructor() {
    super(...arguments), this.type = "ruler-binned", this.renderType = D.SVG;
  }
  showRuler(t3, [e2, n2]) {
    const s2 = this.parent, a2 = this.model.getOptions(), { cartesianScales: r3 } = this.services, o2 = r3.getOrientation(), c2 = r3.getRangeScale(), [l2, h3] = c2.range(), d2 = r3.getDomainScale(), u3 = d2.invert(
      o2 === w.VERTICAL ? e2 : n2
    ), p3 = ve2.appendOrSelect(s2, "g.ruler").attr("aria-label", "ruler"), f2 = ve2.appendOrSelect(p3, "line.ruler-line"), m3 = s2.selectAll("[role=graphics-symbol]").filter((y4) => {
      if (parseFloat(Pu(y4, "data.x0")) <= u3 && parseFloat(Pu(y4, "data.x1")) >= u3)
        return true;
    });
    if (m3.size() > 0) {
      this.elementsToHighlight && this.elementsToHighlight.size() > 0 && !lo2(this.elementsToHighlight, m3) && this.hideRuler(), m3.dispatch("mouseover"), this.elementsToHighlight = m3;
      const y4 = D3(m3.nodes()[0]).datum(), S3 = parseFloat(Pu(y4, "data.x0")), v4 = parseFloat(Pu(y4, "data.x1")), E = this.model.getActiveDataGroupNames(), x4 = E.reverse().map((_4) => ({
        label: _4,
        value: Pu(y4, `data.${_4}`),
        class: this.model.getColorClassName({
          classNameTypes: [h.TOOLTIP],
          dataGroupName: _4
        })
      })).filter((_4) => _4.value !== 0);
      if (x4.length > 0) {
        this.services.events.dispatchEvent(_E.Tooltip.SHOW, {
          event: t3,
          mousePosition: [e2, n2],
          hoveredElement: f2,
          items: [
            {
              label: Pu(a2, "bins.rangeLabel") || "Range",
              value: `${S3} – ${v4}`
            },
            ...x4,
            ...rt(a2, "tooltip", "showTotal") === true ? [
              {
                label: Pu(a2, "locale.translations.total") || Pu(a2, "tooltip.totalLabel") || "Total",
                value: E.reduce(
                  (k5, G5) => k5 + parseFloat(Pu(y4, `data.${G5}`)),
                  0
                )
              }
            ] : []
          ]
        }), p3.attr("opacity", 1);
        const _4 = d2((S3 + v4) / 2);
        o2 === "horizontal" ? f2.attr("x1", h3).attr("x2", l2).attr("y1", _4).attr("y2", _4) : f2.attr("y1", h3).attr("y2", l2).attr("x1", _4).attr("x2", _4);
      } else
        this.hideRuler();
    } else
      this.hideRuler();
  }
};
var bm2 = class extends Zo2 {
  formatTooltipData(t3) {
    return t3.reverse();
  }
};
var Om2 = (i10, t3) => {
  const e2 = i10.x, n2 = i10.y, s2 = t3.x, a2 = t3.y, r3 = As2();
  return r3.moveTo(e2, n2), r3.lineTo(s2, a2), r3.toString();
};
var Lm2 = (i10, t3, e2 = 0.5) => {
  const n2 = i10.x, s2 = i10.y, a2 = t3.x, r3 = t3.y, o2 = As2();
  return o2.moveTo(n2, s2), o2.lineTo(n2 + (a2 - n2) * e2, s2), o2.lineTo(n2 + (a2 - n2) * e2, r3), o2.lineTo(a2, r3), o2.toString();
};
var Am2 = (i10, t3, e2, n2, s2, a2) => {
  const r3 = i10.x, o2 = i10.y, c2 = t3.x, l2 = t3.y, h3 = As2();
  return h3.moveTo(r3, o2), h3.bezierCurveTo(e2, n2, s2, a2, c2, l2), h3.toString();
};
var Mm2 = {
  d: "M7 0v8L0 4z",
  height: 8,
  width: 7.5,
  id: "arrowLeft"
};
var wm2 = {
  d: "M0 0v8l7-4z",
  height: 8,
  width: 7.5,
  id: "arrowRight"
};
var Cm2 = {
  d: "M5.32 9.513a4.75 4.75 0 100-9.5 4.75 4.75 0 000 9.5z",
  height: 10,
  width: 10,
  id: "circle"
};
var km2 = {
  d: "M5.03517654-1e-7l4.99999996 5-4.99999996 5-5-5L2.4517844 2.58339204z",
  height: 10,
  width: 10,
  id: "diamond"
};
var _m2 = {
  d: "M0 .44974747h8v8H0v-3.6830331z",
  height: 9,
  width: 8,
  id: "square"
};
var Im2 = {
  d: "M0 0h1.5v8H0z",
  height: 8,
  width: 2,
  id: "tee"
};
var Rm2 = class extends Rd2 {
  constructor(t3, e2, n2) {
    super(t3, e2, n2), this.type = "color-legend", this.renderType = D.SVG, this.gradient_id = `gradient-id-${Math.floor(Math.random() * 99999999999)}`, this.handleAxisCompleteEvent = () => {
      const s2 = this.getComponentContainer(), { width: a2 } = ve2.getSVGElementSize(s2, {
        useAttrs: true
      }), r3 = rt(this.getOptions(), "data", "loading");
      if (a2 > Am.color.barWidth && !r3) {
        const o2 = rt(this.getOptions(), "heatmap", "colorLegend", "title"), { cartesianScales: c2 } = this.services, h3 = c2.getMainXScale().range();
        if (h3[0] > 1 && (s2.select("g.legend").attr("transform", `translate(${h3[0]}, 0)`), o2)) {
          const { width: d2 } = ve2.getSVGElementSize(
            s2.select("g.legend-title").select("text"),
            { useBBox: true }
          ), u3 = h3[0] - d2 - 9;
          u3 > 1 ? s2.select("g.legend-title").attr("transform", `translate(${u3}, 0)`) : (s2.select("g.legend").attr("transform", `translate(${h3[0]}, 16)`), s2.select("g.legend-title").attr("transform", `translate(${h3[0]}, 0)`));
        }
      } else
        s2.select("g.legend-title").attr("transform", "translate(0, 0)");
    }, this.chartType = n2.chartType;
  }
  init() {
    this.chartType === "heatmap" && this.services.events.addEventListener(_E.Axis.RENDER_COMPLETE, this.handleAxisCompleteEvent);
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = false) {
    const e2 = this.getOptions(), n2 = this.getComponentContainer({
      ariaLabel: "legend"
    }), { width: s2 } = ve2.getSVGElementSize(n2, {
      useAttrs: true
    }), a2 = rt(e2, "color", "gradient", "colors"), r3 = rt(e2, this.chartType, "colorLegend", "type");
    let o2 = rt(e2, "color", "pairing", "option");
    const c2 = rt(e2, "heatmap", "colorLegend", "title");
    if (rt(this.getOptions(), "data", "loading")) {
      n2.html("");
      return;
    }
    const h3 = !ll(a2), d2 = L0(this.model.getDisplayData()), u3 = !(s2 <= Am.color.barWidth), p3 = u3 ? Am.color.barWidth : s2, f2 = ve2.appendOrSelect(n2, "g.legend"), g3 = ve2.appendOrSelect(f2, "g.legend-axis");
    if (c2) {
      const R4 = ve2.appendOrSelect(n2, "g.legend-title");
      ve2.appendOrSelect(R4, "text").text(c2).attr("dy", "0.7em"), f2.attr("transform", "translate(0, 16)");
    }
    const m3 = d2[0] < 0 && d2[1] > 0 ? "diverge" : "mono";
    (o2 < 1 && o2 > 4 && m3 === "mono" || o2 < 1 && o2 > 2 && m3 === "diverge") && (o2 = 1);
    let y4 = [];
    const S3 = m3 === "diverge" ? 17 : 11;
    if (h3)
      y4 = a2;
    else
      for (let R4 = 1; R4 < S3 + 1; R4++)
        y4.push(
          r3 === OE.LINEAR ? `stop-color-${m3}-${o2}-${R4}` : `fill-${m3}-${o2}-${R4}`
        );
    const v4 = D2(d2[0], d2[1]), E = Gc2(v4, 3), x4 = na().domain(d2).range([0, p3]), b3 = Ui3(x4).tickSize(0).tickValues(E), { code: _4, number: k5 } = rt(e2, "locale");
    b3.tickFormat((R4) => k5(R4, _4));
    let G5;
    switch (r3) {
      case OE.LINEAR:
        this.drawLinear(y4, f2, p3);
        break;
      case OE.QUANTIZE:
        G5 = this.drawQuantize(
          y4,
          m3,
          h3,
          f2,
          p3
        ), x4.range([G5, p3]);
        break;
      default:
        throw Error("Entered color legend type is not supported.");
    }
    g3.attr("transform", `translate(0,${Am.color.axisYTranslation})`).call(b3), g3.select(".domain").remove(), g3.select("g.tick:last-of-type text").style("text-anchor", u3 ? "middle" : "end"), g3.select("g.tick:first-of-type text").style(
      "text-anchor",
      u3 && this.chartType !== "choropleth" ? "middle" : "start"
    );
  }
  // Renders gradient legend
  drawLinear(t3, e2, n2) {
    const s2 = 100 / (t3.length - 1);
    ve2.appendOrSelect(e2, "linearGradient").attr("id", `${this.gradient_id}-legend`).selectAll("stop").data(t3).enter().append("stop").attr("offset", (o2, c2) => `${c2 * s2}%`).attr("class", (o2, c2) => t3[c2]).attr("stop-color", (o2) => o2), ve2.appendOrSelect(e2, "rect").attr("width", n2).attr("height", Am.color.barHeight).style("fill", `url(#${this.gradient_id}-legend)`);
  }
  /**
   * Renders quantized legend
   * @returns number (range start)
   */
  drawQuantize(t3, e2, n2, s2, a2) {
    !n2 && e2 === "diverge" && t3.splice(t3.length / 2, 1);
    const r3 = yn2().domain(t3).range([0, a2]);
    return ve2.appendOrSelect(s2, "g.quantized-rect").selectAll("rect").data(r3.domain()).join("rect").attr("x", (c2) => r3(c2)).attr("y", 0).attr("width", Math.max(0, r3.bandwidth() - 1)).attr("height", Am.color.barHeight).attr("class", (c2) => c2).attr("fill", (c2) => c2), (!n2 && e2) === "mono" ? r3.bandwidth() - 1 : 0;
  }
  destroy() {
    this.chartType === "heatmap" && this.services.events.removeEventListener(_E.Axis.RENDER_COMPLETE, this.handleAxisCompleteEvent);
  }
};
var Dm2 = class extends Id2 {
  constructor() {
    super(...arguments), this.type = "meter-title", this.renderType = D.SVG;
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = false) {
    const e2 = rt(this.model.getDisplayData(), 0), n2 = this.getOptions(), s2 = this.getComponentContainer({
      ariaLabel: "meter title"
    }), { groupMapsTo: a2 } = n2.data, r3 = n2.locale.translations.meter.title;
    if (rt(n2, "meter", "proportional"))
      this.displayTotal(), this.displayBreakdownTitle();
    else {
      const h3 = s2.selectAll("text.meter-title").data(r3 ? [r3] : [e2[a2]]);
      h3.enter().append("text").classed("meter-title", true).merge(h3).attr("x", 0).attr("y", "1em").text((d2) => d2), h3.exit().remove(), this.appendPercentage();
    }
    this.displayStatus();
    const c2 = this.getMaxTitleWidth(), l2 = ve2.appendOrSelect(s2, "text.meter-title");
    c2 > 0 && l2.node().getComputedTextLength() > c2 && this.truncateTitle(l2, c2);
  }
  displayBreakdownTitle() {
    const t3 = this.getComponentContainer(), e2 = this.getOptions(), n2 = this.model.getMaximumDomain(
      this.model.getDisplayData()
    ), s2 = rt(e2, "meter", "proportional", "total"), a2 = rt(e2, "meter", "proportional", "unit") ? rt(e2, "meter", "proportional", "unit") : "";
    let r3;
    if (n2 === s2)
      r3 = null;
    else {
      const h3 = s2 !== null ? s2 - n2 : n2, d2 = rt(e2, "meter", "proportional", "breakdownFormatter"), { code: u3, number: p3 } = rt(e2, "locale");
      r3 = d2 !== null ? d2({
        datasetsTotal: n2,
        total: s2
      }) : `${p3(n2, u3)} ${a2} used (${p3(h3, u3)} ${a2} available)`;
    }
    const o2 = t3.selectAll("text.proportional-meter-title").data([r3]);
    o2.enter().append("text").classed("proportional-meter-title", true).merge(o2).attr("x", 0).attr("y", "1em").text((h3) => h3), o2.exit().remove();
    const c2 = this.getMaxTitleWidth(), l2 = ve2.appendOrSelect(t3, "text.proportional-meter-title");
    c2 > 0 && l2.node().getComputedTextLength() > c2 && this.truncateTitle(l2, c2);
  }
  // show the total for prop meter
  displayTotal() {
    const t3 = this.getComponentContainer(), e2 = this.getOptions(), n2 = rt(e2, "meter", "proportional", "total"), s2 = n2 ? rt(e2, "meter", "proportional", "total") : this.model.getMaximumDomain(this.model.getDisplayData()), a2 = rt(e2, "meter", "proportional", "unit") ? rt(e2, "meter", "proportional", "unit") : "", r3 = rt(e2, "meter", "proportional", "totalFormatter"), { code: o2, number: c2 } = rt(e2, "locale"), l2 = r3 !== null ? r3(s2) : `${c2(n2, o2)} ${a2} total`, h3 = ve2.getHTMLElementSize(this.parent.node()).width, d2 = t3.selectAll("text.proportional-meter-total").data([l2]);
    d2.enter().append("text").classed("proportional-meter-total", true).merge(d2).attr(
      "x",
      this.model.getStatus() && typeof h3 != "string" ? h3 - Pm.total.paddingRight : h3
    ).attr("y", "1em").attr("text-anchor", "end").text((u3) => u3), d2.exit().remove();
  }
  /**
   * Appends the corresponding status based on the value and the peak.
   */
  displayStatus() {
    const t3 = this, e2 = this.getComponentContainer(), n2 = ve2.getHTMLElementSize(this.parent.node()).width || 0, s2 = this.model.getStatus(), a2 = Pm.status.indicatorSize / 2, r3 = ve2.appendOrSelect(e2, "g.status-indicator").attr("class", s2 !== null ? `status-indicator status--${s2}` : "").attr("transform", `translate(${n2 - a2}, 0)`), o2 = s2 ? [s2] : [], c2 = r3.selectAll("circle.status").data(o2);
    c2.enter().append("circle").merge(c2).attr("class", "status").attr("r", a2).attr("cx", 0).attr("cy", 8);
    const l2 = r3.selectAll("path.innerFill").data(o2);
    l2.enter().append("path").merge(l2).attr("d", t3.getStatusIconPathString(s2)).attr("transform", `translate(-${a2}, 0)`).attr("class", "innerFill"), l2.exit().remove(), c2.exit().remove();
  }
  /**
   * Appends the associated percentage to the end of the title
   */
  appendPercentage() {
    const t3 = rt(this.model.getDisplayData(), 0, "value"), { code: e2, number: n2 } = rt(this.getOptions(), "locale"), s2 = this.getComponentContainer(), a2 = ve2.appendOrSelect(s2, "text.meter-title"), r3 = rt(this.getOptions(), "meter", "statusBar", "percentageIndicator", "enabled") === true ? [t3] : [], o2 = s2.selectAll("text.percent-value").data(r3), c2 = Pm.statusBar.paddingRight;
    o2.enter().append("text").classed("percent-value", true).merge(o2).text((l2) => `${l2 != null ? n2(l2, e2) : 0}%`).attr("x", +a2.attr("x") + a2.node().getComputedTextLength() + c2).attr("y", a2.attr("y")), o2.exit().remove();
  }
  /**
   * Uses the parent class truncate logic
   * @param title d3 selection of title element that will be truncated
   * @param maxWidth the max width the title can take
   */
  truncateTitle(t3, e2) {
    super.truncateTitle(t3, e2);
    const n2 = ve2.appendOrSelect(this.parent, "tspan"), s2 = Pm.statusBar.paddingRight, a2 = Math.ceil(n2.node().getComputedTextLength());
    ve2.appendOrSelect(this.parent, "text.percent-value").attr(
      "x",
      +t3.attr("x") + t3.node().getComputedTextLength() + a2 + s2
    );
  }
  // computes the maximum space a title can take
  getMaxTitleWidth() {
    const t3 = rt(this.getOptions(), "meter", "proportional"), e2 = ve2.getHTMLElementSize(this.parent.node()).width;
    if (t3 !== null) {
      const n2 = ve2.appendOrSelect(this.parent, "text.proportional-meter-total").node(), s2 = ve2.getSVGElementSize(n2, {
        useBBox: true
      }).width;
      return e2 - s2 - Pm.total.paddingLeft;
    } else {
      const n2 = ve2.appendOrSelect(this.parent, "text.percent-value"), s2 = Pm.statusBar.paddingRight, a2 = n2.node().getComputedTextLength(), r3 = ve2.appendOrSelect(this.parent, "g.status-indicator").node(), o2 = ve2.getSVGElementSize(r3, { useBBox: true }).width + Pm.status.paddingLeft;
      return e2 - a2 - s2 - o2;
    }
  }
  /**
   * Get the associated status icon for the data
   * @param status the active status for the meter chart
   */
  getStatusIconPathString(t3) {
    switch (t3) {
      case $.SUCCESS:
        return "M6.875 11.3125 3.75 8.1875 4.74375 7.25 6.875 9.34375 11.50625 4.75 12.5 5.7375 Z";
      case $.DANGER:
        return "M10.7 11.5 4.5 5.3 5.3 4.5 11.5 10.7 Z";
      case $.WARNING:
        return "M7.9375,11.125 C7.41973305,11.125 7,11.544733 7,12.0625 C7,12.580267 7.41973305,13 7.9375,13 C8.45526695,13 8.875,12.580267 8.875,12.0625 C8.875,11.544733 8.45526695,11.125 7.9375,11.125 M7.3125, 3 8.5625, 3 8.5625, 9.875 7.3125, 9.875, 7.3125, 3 Z";
    }
  }
};
var ta2 = class extends dt4 {
  // Gets the correct width for bars based on options & configurations
  getBarWidth() {
    const t3 = this.getOptions();
    if (t3.bars.width)
      return t3.bars.width;
    const e2 = this.model.getDisplayData().length, n2 = this.services.cartesianScales.getMainXScale(), s2 = ve2.getSVGElementSize(this.parent, {
      useAttrs: true
    }).width;
    if (!n2.step) {
      const a2 = rt(t3, "bars", "spacingFactor");
      return Math.min(t3.bars.maxWidth, s2 * a2 / e2);
    }
    return Math.min(t3.bars.maxWidth, n2.step() / 2);
  }
  isOutsideZoomedDomain(t3, e2) {
    if (this.model.getDisplayData().length <= 1)
      return false;
    const s2 = this.model.get("zoomDomain");
    if (s2 !== void 0) {
      const a2 = this.services.cartesianScales.getDomainScale();
      return t3 < a2(s2[0]) || e2 > a2(s2[1]);
    }
    return false;
  }
};
var Nm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "circle-pack", this.renderType = D.SVG, this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail;
      this.parent.selectAll("circle.node").transition("legend-hover-circlepack").call(
        (n2) => this.services.transitions.setupTransition({
          transition: n2,
          name: "legend-hover-circlepack"
        })
      ).attr("opacity", (n2) => n2.data.dataGroupName === e2.datum().name ? 1 : ia.circles.fillOpacity);
    }, this.handleLegendMouseOut = () => {
      this.parent.selectAll("circle.node").transition("legend-mouseout-circlepack").call(
        (t3) => this.services.transitions.setupTransition({
          transition: t3,
          name: "legend-mouseout-circlepack"
        })
      ).attr("opacity", 1);
    };
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = true) {
    const e2 = this.getComponentContainer({
      ariaLabel: "circle packs",
      withinChartClip: true
    }), { width: n2, height: s2 } = ve2.getSVGElementSize(this.parent, {
      useAttrs: true
    });
    if (n2 < 1 || s2 < 1)
      return;
    let a2 = this.model.getDisplayData();
    const r3 = this.model.hasParentNode(), o2 = this.model.getHierarchyLevel(), c2 = this.getOptions(), l2 = rt(c2, "canvasZoom", "enabled");
    r3 && rt(a2, 0, "children") && (a2 = rt(a2, 0, "children"));
    const h3 = Rn2({ children: a2 }).sum((g3) => g3.value).sort((g3, m3) => m3.value - g3.value), u3 = Ih2().size([n2, s2]).padding((g3) => g3.depth >= 1 ? ia.padding.children + 3 : ia.padding.mainGroup + 3)(h3).descendants().splice(1).filter((g3) => g3.depth <= o2), p3 = e2.selectAll("circle.node").data(u3);
    p3.exit().attr("width", 0).attr("height", 0).remove();
    const f2 = p3.enter().append("circle").classed("node", true);
    f2.merge(p3).attr("class", (g3) => {
      const m3 = l2 && o2 === 3 ? this.getZoomClass(g3) : "";
      return this.model.getColorClassName({
        classNameTypes: [h.FILL, h.STROKE],
        dataGroupName: g3.data.dataGroupName,
        originalClassName: g3.children ? `node ${m3}` : `node node-leaf ${m3}`
      });
    }).style("fill", (g3) => this.model.getFillColor(g3.data.dataGroupName, null, g3.data)).style("stroke", (g3) => this.model.getFillColor(g3.data.dataGroupName, null, g3.data)).attr("cx", (g3) => g3.x).attr("cy", (g3) => g3.y).transition("circlepack-leaf-update-enter").call(
      (g3) => this.services.transitions.setupTransition({
        transition: g3,
        name: "circlepack-leaf-update-enter"
      })
    ).attr("r", (g3) => g3.r).attr("opacity", 1).attr("fill-opacity", ia.circles.fillOpacity), l2 === true && this.focal && (this.services.canvasZoom.zoomIn(this.focal, f2, xm), this.setBackgroundListeners()), r3 || this.addLegendListeners(), this.addEventListeners();
  }
  // turn off the highlight class on children circles
  unhighlightChildren(t3) {
    const e2 = t3.map((n2) => n2.data);
    this.parent.selectAll("circle.node").filter((n2) => e2.some((s2) => s2 === n2.data) && n2.depth > 1).style("stroke", (n2) => this.model.getFillColor(n2.data.dataGroupName, null, n2.data));
  }
  // highlight the children circles with a stroke
  highlightChildren(t3) {
    const e2 = t3.map((n2) => n2.data);
    this.parent.selectAll("circle.node").filter((n2) => e2.some((s2) => s2 === n2.data) && n2.depth > 1).style("stroke", ia.circles.hover.stroke);
  }
  getZoomClass(t3) {
    return this.model.getHierarchyLevel() === 3 && this.focal && (t3.data === this.focal.data || this.focal.children.some((e2) => e2.data === t3.data)) ? "focal" : "non-focal";
  }
  addLegendListeners() {
    const { events: t3 } = this.services;
    t3.addEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  removeBackgroundListeners() {
    D3(this.services.domUtils.getMainContainer()).on("click", () => null);
  }
  setBackgroundListeners() {
    const t3 = D3(this.services.domUtils.getMainContainer()), e2 = this, n2 = this.parent.selectAll("circle.node");
    t3.on("click", () => {
      e2.focal = null, e2.model.updateHierarchyLevel(2), t3.classed("zoomed-in", false), e2.services.canvasZoom.zoomOut(n2, xm);
    });
  }
  // Zoom icon to be appended to the label in the tooltip
  getZoomIcon() {
    return `
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10">
			<polygon points="5.93 3.71 4.45 3.71 4.45 2.23 3.71 2.23 3.71 3.71 2.23 3.71 2.23 4.45 3.71 4.45 3.71 5.93 4.45 5.93 4.45 4.45 5.93 4.45 5.93 3.71"/>
			<path d="M7.2,6.67a4,4,0,0,0,1-2.59A4.08,4.08,0,1,0,4.07,8.15h0a4,4,0,0,0,2.59-1L9.48,10,10,9.48Zm-3.12.77A3.34,3.34,0,1,1,7.41,4.08,3.34,3.34,0,0,1,4.08,7.44Z"/>
		</svg>`;
  }
  // add event listeners for tooltip on the circles
  addEventListeners() {
    const t3 = this;
    this.parent.selectAll("circle.node").on("mouseover", function(e2, n2) {
      const s2 = D3(this);
      s2.classed("hovered", true);
      const a2 = t3.model.getHierarchyLevel(), r3 = a2 > 2 && !s2.classed("focal"), o2 = rt(t3.model.getOptions(), "canvasZoom", "enabled");
      let c2 = false;
      if (!r3) {
        let l2 = [], h3 = [], d2 = null;
        if (n2.children) {
          n2.depth > 1 && o2 && (c2 = true, s2.classed("clickable", true)), l2 = n2.children.map((f2) => {
            if (f2 !== null)
              return typeof f2.data.value == "number" ? {
                label: f2.data.name,
                value: f2.data.value
              } : {
                label: f2.data.name,
                labelIcon: o2 && a2 <= 2 ? t3.getZoomIcon() : null,
                value: f2.value
              };
          });
          const p3 = t3.model.getOptions();
          h3 = [
            {
              label: Pu(p3, "locale.translations.total") || Pu(p3, "tooltip.totalLabel") || "Total",
              value: n2.value,
              bold: true
            }
          ], t3.highlightChildren(n2.children);
        } else
          d2 = n2.value;
        const u3 = getComputedStyle(this, null).getPropertyValue("fill");
        t3.services.events.dispatchEvent(_E.Tooltip.SHOW, {
          event: e2,
          hoveredElement: s2,
          items: [
            {
              color: u3,
              label: n2.data.name,
              labelIcon: c2 && o2 && a2 <= 2 ? t3.getZoomIcon() : null,
              value: d2
            },
            ...l2,
            ...h3
          ]
        });
      }
      t3.services.events.dispatchEvent(_E.CirclePack.CIRCLE_MOUSEOVER, {
        event: e2,
        element: s2,
        datum: n2
      });
    }).on("mousemove", function(e2, n2) {
      const s2 = D3(this);
      t3.services.events.dispatchEvent(_E.CirclePack.CIRCLE_MOUSEMOVE, {
        event: e2,
        element: s2,
        datum: n2
      }), t3.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: e2
      });
    }).on("mouseout", function(e2, n2) {
      const s2 = D3(this);
      s2.classed("hovered", false), n2.children && t3.unhighlightChildren(n2.children), t3.services.events.dispatchEvent(_E.CirclePack.CIRCLE_MOUSEOUT, {
        event: e2,
        element: s2,
        datum: n2
      }), t3.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        hoveredElement: s2
      });
    }).on("click", function(e2, n2) {
      const s2 = D3(this), a2 = s2.classed("non-focal"), r3 = rt(t3.model.getOptions(), "canvasZoom", "enabled");
      if (r3 && t3.model.getHierarchyLevel() > 2) {
        const o2 = t3.parent.selectAll("circle.node");
        D3(t3.services.domUtils.getMainContainer()).classed("zoomed-in", false), t3.focal = null, t3.model.updateHierarchyLevel(2), t3.services.canvasZoom.zoomOut(o2, xm);
      } else if (n2.depth === 2 && n2.children && !a2 && r3) {
        const o2 = t3.parent.selectAll("circle.node");
        D3(t3.services.domUtils.getMainContainer()).classed("zoomed-in", true), t3.focal = n2, t3.model.updateHierarchyLevel(3), t3.services.canvasZoom.zoomIn(n2, o2, xm), e2.stopPropagation();
      }
      t3.services.events.dispatchEvent(_E.CirclePack.CIRCLE_CLICK, {
        event: e2,
        element: s2,
        datum: n2
      });
    });
  }
  destroy() {
    this.parent.selectAll("circle.node").on("mouseover", null).on("mousemove", null).on("mouseout", null).on("click", null);
    const t3 = this.services.events;
    t3.removeEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.removeEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut), this.removeBackgroundListeners();
  }
};
function dp(i10, t3) {
  const e2 = An(this._current, i10);
  return (n2) => (this._current = e2(n2), t3(this._current));
}
var pp = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "pie", this.renderType = D.SVG, this.isRendering = false, this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail, { groupMapsTo: n2 } = this.getOptions().data;
      this.parent.selectAll("path.slice").transition("legend-hover-bar").call(
        (s2) => this.services.transitions.setupTransition({
          transition: s2,
          name: "legend-hover-bar"
        })
      ).attr(
        "opacity",
        (s2) => s2.data[n2] !== e2.datum().name ? 0.3 : 1
      );
    }, this.handleLegendMouseOut = () => {
      this.parent.selectAll("path.slice").transition("legend-mouseout-bar").call(
        (t3) => this.services.transitions.setupTransition({
          transition: t3,
          name: "legend-mouseout-bar"
        })
      ).attr("opacity", 1);
    };
  }
  init() {
    const t3 = this.services.events;
    t3.addEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  getInnerRadius() {
    return $m.innerRadius;
  }
  render(t3 = true) {
    const e2 = this, n2 = this.getComponentContainer({
      ariaLabel: "pie graph"
    }), s2 = this.getOptions(), { groupMapsTo: a2 } = s2.data, { valueMapsTo: r3 } = s2.pie;
    this.isRendering = true;
    const o2 = this.model.getDisplayData().filter((M4) => M4[r3] > 0), c2 = this.computeRadius();
    this.arc = In2().innerRadius(this.getInnerRadius()).outerRadius(c2), this.hoverArc = In2().innerRadius(this.getInnerRadius()).outerRadius(c2 + $m.hoverArc.outerRadiusOffset);
    const h3 = td2().value((M4) => M4[r3]).sort(rt(s2, "pie", "sortFunction")).padAngle($m.padAngle)(o2), u3 = ve2.appendOrSelect(n2, "g.slices").attr("role", r2.GROUP).attr("data-name", "slices").selectAll("path.slice").data(h3, (M4) => M4.data[a2]);
    u3.exit().attr("opacity", 0).remove(), u3.enter().append("path").classed("slice", true).attr("opacity", 0).merge(u3).attr(
      "class",
      (M4) => this.model.getColorClassName({
        classNameTypes: [h.FILL],
        dataGroupName: M4.data[a2],
        originalClassName: "slice"
      })
    ).style("fill", (M4) => e2.model.getFillColor(M4.data[a2], null, M4.data)).attr("d", this.arc).transition().call(
      (M4) => this.services.transitions.setupTransition({
        transition: M4,
        name: "pie_slice_enter_update",
        animate: t3
      })
    ).attr("opacity", 1).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-roledescription", "slice").attr(
      "aria-label",
      (M4) => `${M4[r3]}, ${V0(M4.data[r3], o2, r3) + "%"}`
    ).attrTween("d", function(M4) {
      return dp.bind(this)(M4, e2.arc);
    }).on("end", () => {
      e2.isRendering = false;
    });
    const { code: g3, number: m3 } = rt(s2, "locale"), y4 = s2.pie.labels.enabled, S3 = y4 ? h3.filter((M4) => M4.data[r3] > 0) : [], E = ve2.appendOrSelect(n2, "g.labels").attr("role", r2.GROUP).attr("data-name", "labels").selectAll("text.pie-label").data(S3, (M4) => M4.data[a2]);
    E.exit().attr("opacity", 0).remove();
    const x4 = E.enter().append("text").classed("pie-label", true), b3 = [];
    x4.merge(E).style("text-anchor", "middle").text((M4) => s2.pie.labels.formatter ? s2.pie.labels.formatter({
      ...M4,
      percentageValue: V0(
        M4.data[r3],
        o2,
        r3,
        true
      )
    }) : m3(
      V0(M4.data[r3], o2, r3),
      g3
    ) + "%").datum(function(M4) {
      const O3 = c2 + 7, P3 = (M4.endAngle - M4.startAngle) / 2 + M4.startAngle, $4 = P3 / Math.PI * 180, C3 = this.getComputedTextLength();
      return M4.textOffsetX = C3 / 2, M4.textOffsetY = $4 > 90 && $4 < 270 ? 10 : 0, M4.xPosition = (M4.textOffsetX + O3) * Math.sin(P3), M4.yPosition = (M4.textOffsetY + O3) * -Math.cos(P3), M4;
    }).attr("transform", function(M4, O3) {
      const P3 = S3.length, $4 = (M4.endAngle - M4.startAngle) * (180 / Math.PI);
      if (O3 >= P3 - 2 && $4 < $m.callout.minSliceDegree) {
        let C3, V5;
        return M4.index === P3 - 1 ? (C3 = M4.xPosition + $m.callout.offsetX + $m.callout.textMargin + M4.textOffsetX, V5 = M4.yPosition - $m.callout.offsetY, M4.direction = B.RIGHT, b3.push(M4)) : (C3 = M4.xPosition - $m.callout.offsetX - M4.textOffsetX - $m.callout.textMargin, V5 = M4.yPosition - $m.callout.offsetY, M4.direction = B.LEFT, b3.push(M4)), `translate(${C3}, ${V5})`;
      }
      return `translate(${M4.xPosition}, ${M4.yPosition})`;
    }), this.renderCallouts(b3);
    const _4 = rt(s2, "donut") ? "donut" : "pie", k5 = rt(s2, _4, "alignment"), { width: G5 } = ve2.getSVGElementSize(this.getParent(), {
      useAttrs: true
    }), R4 = y4 ? $m.xOffset : 0, A2 = y4 ? $m.yOffset : 0;
    let H5 = c2 + R4;
    k5 === k.CENTER ? H5 = G5 / 2 : k5 === k.RIGHT && (H5 = G5 - c2 - $m.xOffset);
    let N4 = c2 + A2;
    b3.length > 0 && (N4 += $m.yOffsetCallout), n2.attr("x", H5 + 7).attr("y", N4), this.addEventListeners();
  }
  renderCallouts(t3) {
    const e2 = ve2.appendOrSelect(this.getComponentContainer(), "g.callouts").attr("role", r2.GROUP).attr("data-name", "callouts"), n2 = e2.selectAll("g.callout").data(t3);
    n2.exit().remove();
    const s2 = n2.enter().append("g").classed("callout", true).attr("role", r2.GROUP).attr("aria-roledescription", "label callout");
    s2.merge(n2).datum(function(o2) {
      const { xPosition: c2, yPosition: l2, direction: h3 } = o2;
      return h3 === B.RIGHT ? (o2.startPos = {
        x: c2,
        y: l2 + o2.textOffsetY
      }, o2.endPos = {
        x: c2 + $m.callout.offsetX,
        y: l2 - $m.callout.offsetY + o2.textOffsetY
      }, o2.intersectPointX = o2.endPos.x - $m.callout.horizontalLineLength) : (o2.startPos = {
        x: c2,
        y: l2 + o2.textOffsetY
      }, o2.endPos = {
        x: c2 - $m.callout.offsetX,
        y: l2 - $m.callout.offsetY + o2.textOffsetY
      }, o2.intersectPointX = o2.endPos.x + $m.callout.horizontalLineLength), o2;
    }), s2.append("line").classed("vertical-line", true).merge(e2.selectAll("line.vertical-line")).datum(function() {
      return D3(this.parentNode).datum();
    }).style("stroke-width", "1px").attr("x1", (o2) => o2.startPos.x).attr("y1", (o2) => o2.startPos.y).attr("x2", (o2) => o2.intersectPointX).attr("y2", (o2) => o2.endPos.y), s2.append("line").classed("horizontal-line", true).merge(e2.selectAll("line.horizontal-line")).datum(function() {
      return D3(this.parentNode).datum();
    }).style("stroke-width", "1px").attr("x1", (o2) => o2.intersectPointX).attr("y1", (o2) => o2.endPos.y).attr("x2", (o2) => o2.endPos.x).attr("y2", (o2) => o2.endPos.y);
  }
  addEventListeners() {
    const t3 = this;
    this.parent.selectAll("path.slice").on("mouseover", function(e2, n2) {
      const s2 = D3(this);
      t3.isRendering || s2.classed("hovered", true).transition("pie_slice_mouseover").call(
        (o2) => t3.services.transitions.setupTransition({
          transition: o2,
          name: "pie_slice_mouseover"
        })
      ).attr("d", t3.hoverArc), t3.services.events.dispatchEvent(_E.Pie.SLICE_MOUSEOVER, {
        event: e2,
        element: D3(this),
        datum: n2
      });
      const { groupMapsTo: a2 } = t3.getOptions().data, { valueMapsTo: r3 } = t3.getOptions().pie;
      t3.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: e2,
        hoveredElement: s2,
        items: [
          {
            label: n2.data[a2],
            value: n2.data[r3]
          }
        ]
      });
    }).on("mousemove", function(e2, n2) {
      const s2 = D3(this);
      t3.services.events.dispatchEvent(_E.Pie.SLICE_MOUSEMOVE, {
        event: e2,
        element: s2,
        datum: n2
      }), t3.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: e2
      });
    }).on("click", function(e2, n2) {
      t3.services.events.dispatchEvent(_E.Pie.SLICE_CLICK, {
        event: e2,
        element: D3(this),
        datum: n2
      });
    }).on("mouseout", function(e2, n2) {
      const s2 = D3(this);
      Sc2(() => {
        t3.isRendering || s2.classed("hovered", false).transition("pie_slice_mouseout").call(
          (a2) => t3.services.transitions.setupTransition({
            transition: a2,
            name: "pie_slice_mouseout"
          })
        ).attr("d", t3.arc);
      }, 100), t3.services.events.dispatchEvent(_E.Pie.SLICE_MOUSEOUT, {
        event: e2,
        element: s2,
        datum: n2
      }), t3.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        hoveredElement: s2
      });
    });
  }
  // Helper functions
  computeRadius() {
    const { width: t3, height: e2 } = ve2.getSVGElementSize(this.parent, {
      useAttrs: true
    }), n2 = this.getOptions(), s2 = Math.min(t3, e2) / 2;
    return n2.pie.labels.enabled ? s2 + $m.radiusOffset : s2;
  }
};
var Pm2 = class extends pp {
  constructor() {
    super(...arguments), this.type = "donut", this.renderType = D.SVG;
  }
  render(t3 = true) {
    super.render(t3);
    const e2 = this;
    if (this.model.isDataEmpty()) {
      this.getComponentContainer({
        ariaLabel: "donut graph"
      }).select("g.center").remove();
      return;
    }
    const n2 = ve2.appendOrSelect(
      this.getComponentContainer({
        ariaLabel: "donut graph"
      }),
      "g.center"
    ), s2 = this.getOptions(), a2 = this.computeRadius(), r3 = rt(s2, "donut", "center", "label");
    ve2.appendOrSelect(n2, "text.donut-figure").attr("text-anchor", "middle").style("dominant-baseline", () => r3 === null || r3 === "" ? "central" : "initial").style("font-size", () => s2.donut.center.numberFontSize(a2)).transition().call(
      (o2) => this.services.transitions.setupTransition({
        transition: o2,
        name: "donut-figure-enter-update",
        animate: t3
      })
    ).tween("text", function() {
      return e2.centerNumberTween(D3(this));
    }), r3 !== null && r3 !== "" && ve2.appendOrSelect(n2, "text.donut-title").attr("text-anchor", "middle").style("font-size", () => s2.donut.center.titleFontSize(a2)).attr("y", s2.donut.center.titleYPosition(a2)).text(r3);
  }
  getInnerRadius() {
    return this.computeRadius() * (3 / 4);
  }
  centerNumberTween(t3) {
    const e2 = this.getOptions();
    let n2 = rt(e2, "donut", "center", "number");
    n2 === null && (n2 = this.model.getDisplayData().reduce((o2, c2) => o2 + c2[e2.pie.valueMapsTo], 0));
    const s2 = parseInt(t3.text().replace(/[, ]+/g, ""), 10) || 0;
    let a2;
    s2 % 1 === 0 && n2 % 1 === 0 ? a2 = Fd : a2 = D2;
    const r3 = a2(s2, n2);
    return (o2) => {
      const { numberFormatter: c2 } = e2.donut.center;
      if (c2)
        t3.text(c2(r3(o2)));
      else {
        const { code: l2, number: h3 } = rt(e2, "locale");
        t3.text(h3(Math.floor(r3(o2)), l2));
      }
    };
  }
};
var Dr3 = "4,10 8,6 12,10";
var Nr3 = "12,6 8,10 4,6";
var $m2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "gauge", this.renderType = D.SVG;
  }
  getValue() {
    var n2;
    return ((n2 = this.model.getData().find((s2) => s2.group === "value")) == null ? void 0 : n2.value) ?? null;
  }
  getValueRatio() {
    return oo2(this.getValue(), 0, 100) / 100;
  }
  getDelta() {
    var n2;
    return ((n2 = this.model.getData().find((s2) => s2.group === "delta")) == null ? void 0 : n2.value) ?? null;
  }
  getArcRatio() {
    const t3 = this.getOptions();
    return rt(t3, "gauge", "type") === Q.FULL ? 1 : 0.5;
  }
  getArcSize() {
    return this.getArcRatio() * Math.PI * 2;
  }
  getStartAngle() {
    const t3 = this.getArcSize();
    return t3 === 2 * Math.PI ? 0 : -t3 / 2;
  }
  // use provided arrow direction or default to using the delta
  getArrow(t3) {
    const e2 = this.getOptions();
    switch (rt(e2, "gauge", "deltaArrow", "direction")) {
      case Y.UP:
        return Dr3;
      case Y.DOWN:
        return Nr3;
      default:
        return t3 > 0 ? Dr3 : Nr3;
    }
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = true) {
    const e2 = this.getComponentContainer({
      ariaLabel: "gauge graph"
    }).attr("width", "100%").attr("height", "100%"), n2 = this.getOptions(), s2 = this.getValue(), a2 = this.getValueRatio(), r3 = this.getArcSize(), o2 = this.getStartAngle(), c2 = a2 * r3, l2 = o2 + c2, h3 = o2 + r3, d2 = this.computeRadius(), u3 = this.getInnerRadius();
    this.backgroundArc = In2().innerRadius(u3).outerRadius(d2).startAngle(l2).endAngle(h3), this.arc = In2().innerRadius(u3).outerRadius(d2).startAngle(o2).endAngle(l2), ve2.appendOrSelect(e2, "path.arc-background").attr("d", this.backgroundArc);
    const p3 = e2.selectAll("path.arc-foreground").data([s2]);
    p3.enter().append("path").merge(p3).attr(
      "class",
      this.model.getColorClassName({
        classNameTypes: [h.FILL],
        dataGroupName: "value",
        originalClassName: "arc-foreground"
      })
    ).style("fill", () => rt(this.getOptions(), "color", "scale", "value")).attr("d", this.arc).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-roledescription", "value").attr("aria-label", (S3) => S3), this.drawValueNumber(), this.drawDelta(), p3.exit().remove();
    const g3 = rt(n2, "gauge", "alignment"), { width: m3 } = ve2.getSVGElementSize(this.getParent(), {
      useAttrs: true
    });
    let y4 = d2;
    g3 === k.CENTER ? y4 = m3 / 2 : g3 === k.RIGHT && (y4 = m3 - d2), e2.attr("x", y4).attr("y", d2), this.addEventListeners();
  }
  /**
   * draws the value number associated with the Gauge component in the center
   */
  drawValueNumber() {
    const t3 = this.getComponentContainer(), e2 = this.getOptions(), n2 = rt(e2, "gauge", "type"), s2 = this.getValue(), a2 = this.getDelta(), r3 = this.computeRadius(), o2 = rt(e2, "gauge", "valueFontSize"), c2 = rt(e2, "gauge", "deltaFontSize"), l2 = rt(e2, "gauge", "numberSpacing"), h3 = rt(e2, "gauge", "showPercentageSymbol");
    let d2 = 0;
    n2 === Q.FULL && !a2 ? d2 = c2(r3) : n2 === Q.SEMI && a2 && (d2 = -(c2(r3) + l2));
    const u3 = ve2.appendOrSelect(t3, "g.gauge-numbers").attr(
      "transform",
      `translate(0, ${d2})`
    ), p3 = o2(r3), f2 = ve2.appendOrSelect(u3, "g.gauge-value-number"), { code: g3, number: m3 } = rt(e2, "locale"), y4 = rt(e2, "gauge", "numberFormatter"), S3 = f2.selectAll("text.gauge-value-number").data([s2]);
    S3.enter().append("text").attr("class", "gauge-value-number").merge(S3).style("font-size", `${p3}px`).attr("text-anchor", "middle").text((G5) => {
      let R4;
      return G5 != null ? R4 = Number(G5.toFixed(2)) % 1 !== 0 ? G5.toFixed(2) : G5.toFixed() : R4 = 0, y4 ? y4(R4) : m3(Number(R4), g3);
    });
    const { width: v4 } = ve2.getSVGElementSize(
      ve2.appendOrSelect(t3, "text.gauge-value-number"),
      { useBBox: true }
    ), E = p3 / 2, x4 = h3 ? "%" : "", b3 = ve2.appendOrSelect(f2, "text.gauge-value-symbol").style("font-size", `${E}px`).attr("x", v4 / 2).text(x4), { width: _4, height: k5 } = ve2.getSVGElementSize(b3, {
      useBBox: true
    });
    b3.attr("y", `-${k5 / 2}px`), f2.attr("transform", `translate(-${_4 / 2}, 0)`);
  }
  /**
   * adds the delta number for the gauge
   */
  drawDelta() {
    const t3 = this, e2 = this.getComponentContainer(), n2 = this.getOptions(), s2 = this.getDelta(), { code: a2, number: r3 } = rt(n2, "locale");
    if (s2) {
      const o2 = this.computeRadius(), c2 = s2 ? rt(n2, "gauge", "deltaFontSize") : () => 0, l2 = s2 ? rt(n2, "gauge", "numberFormatter") : () => null, h3 = rt(n2, "gauge", "deltaArrow", "size"), d2 = rt(n2, "gauge", "numberSpacing"), u3 = rt(n2, "gauge", "showPercentageSymbol"), p3 = ve2.appendOrSelect(e2, "g.gauge-numbers"), f2 = ve2.appendOrSelect(p3, "g.gauge-delta").attr(
        "transform",
        `translate(0, ${c2(o2) + d2})`
      ), g3 = ve2.appendOrSelect(f2, "text.gauge-delta-number"), m3 = u3 ? "%" : "";
      g3.data(s2 === null ? [] : [s2]), g3.enter().append("text").classed("gauge-delta-number", true).merge(g3).attr("text-anchor", "middle").style("font-size", `${c2(o2)}px`).text((E) => {
        let x4;
        return E != null ? x4 = Number(E.toFixed(2)) % 1 !== 0 ? E.toFixed(2) : E.toFixed() : x4 = 0, l2 ? `${l2(x4)}${m3}` : `${r3(Number(x4), a2)}${m3}`;
      });
      const { width: y4 } = ve2.getSVGElementSize(
        ve2.appendOrSelect(e2, ".gauge-delta-number"),
        { useBBox: true }
      ), S3 = rt(n2, "gauge", "deltaArrow", "enabled"), v4 = f2.selectAll("svg.gauge-delta-arrow").data(s2 !== null && S3 ? [s2] : []);
      v4.enter().append("svg").merge(v4).attr("class", "gauge-delta-arrow").attr("x", -h3(o2) - y4 / 2).attr("y", -h3(o2) / 2 - c2(o2) * 0.35).attr("width", h3(o2)).attr("height", h3(o2)).attr("viewBox", "0 0 16 16").each(function() {
        const E = D3(this);
        ve2.appendOrSelect(E, "rect.gauge-delta-arrow-backdrop").attr("width", "16").attr("height", "16").attr("fill", "none");
        const x4 = rt(n2, "gauge", "status");
        ve2.appendOrSelect(E, "polygon.gauge-delta-arrow").attr("class", x4 !== null ? `gauge-delta-arrow status--${x4}` : "").attr("points", t3.getArrow(s2));
      }), v4.exit().remove(), g3.exit().remove();
    } else {
      const o2 = e2.select("g.gauge-delta");
      o2.empty() || o2.remove();
    }
  }
  getInnerRadius() {
    const t3 = this.computeRadius(), e2 = rt(this.getOptions(), "gauge", "arcWidth");
    return t3 - e2;
  }
  addEventListeners() {
    const t3 = this;
    this.parent.selectAll("path.arc-foreground").on("mouseover", function(e2, n2) {
      t3.services.events.dispatchEvent(_E.Gauge.ARC_MOUSEOVER, {
        event: e2,
        element: D3(this),
        datum: n2
      });
    }).on("mousemove", function(e2, n2) {
      const s2 = D3(this);
      t3.services.events.dispatchEvent(_E.Gauge.ARC_MOUSEMOVE, {
        event: e2,
        element: s2,
        datum: n2
      });
    }).on("click", function(e2, n2) {
      t3.services.events.dispatchEvent(_E.Gauge.ARC_CLICK, {
        event: e2,
        element: D3(this),
        datum: n2
      });
    }).on("mouseout", function(e2, n2) {
      const s2 = D3(this);
      t3.services.events.dispatchEvent(_E.Gauge.ARC_MOUSEOUT, {
        event: e2,
        element: s2,
        datum: n2
      });
    });
  }
  // Helper functions
  computeRadius() {
    const t3 = this.getOptions(), e2 = rt(t3, "gauge", "type"), { width: n2, height: s2 } = ve2.getSVGElementSize(this.parent, {
      useAttrs: true
    });
    return e2 === Q.SEMI ? Math.min(n2 / 2, s2) : Math.min(n2 / 2, s2 / 2);
  }
};
var Vm2 = class extends ta2 {
  constructor() {
    super(...arguments), this.type = "grouped-bar", this.renderType = D.SVG, this.padding = 5, this.defaultStepFactor = 70, this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail, { groupMapsTo: n2 } = this.getOptions().data;
      this.parent.selectAll("path.bar").transition("legend-hover-bar").call(
        (s2) => this.services.transitions.setupTransition({
          transition: s2,
          name: "legend-hover-bar"
        })
      ).attr("opacity", (s2) => s2[n2] !== e2.datum().name ? 0.3 : 1);
    }, this.handleLegendMouseOut = () => {
      this.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(
        (t3) => this.services.transitions.setupTransition({
          transition: t3,
          name: "legend-mouseout-bar"
        })
      ).attr("opacity", 1);
    };
  }
  init() {
    const t3 = this.services.events;
    t3.addEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  render(t3) {
    const e2 = this.model.getDisplayData(this.configs.groups), n2 = this.getOptions(), { groupMapsTo: s2 } = n2.data;
    this.setGroupScale();
    const a2 = this.getComponentContainer({ ariaLabel: "grouped bar graphs", withinChartClip: true }), r3 = H0(
      e2.map((u3) => {
        const p3 = this.services.cartesianScales.getDomainIdentifier(u3);
        return u3[p3] && typeof u3[p3].toString == "function" ? u3[p3].toString() : u3[p3];
      })
    ), o2 = a2.selectAll("g.bars").data(r3, (u3) => u3);
    o2.exit().attr("opacity", 0).remove();
    const l2 = o2.enter().append("g").classed("bars", true).attr("role", r2.GROUP).attr("data-name", "bars").merge(o2);
    l2.transition().call(
      (u3) => this.services.transitions.setupTransition({
        transition: u3,
        name: "bar-group-update-enter",
        animate: t3
      })
    ).attr("transform", (u3) => {
      const f2 = this.services.cartesianScales.getDomainValue(u3) - this.getGroupWidth() / 2;
      return this.services.cartesianScales.getOrientation() === w.VERTICAL ? `translate(${f2}, 0)` : `translate(0, ${f2})`;
    });
    const h3 = l2.selectAll("path.bar").data(
      (u3) => this.getDataCorrespondingToLabel(u3),
      (u3) => u3[s2]
    );
    h3.exit().attr("opacity", 0).remove(), h3.enter().append("path").attr("opacity", 0).merge(h3).classed("bar", true).transition().call(
      (u3) => this.services.transitions.setupTransition({
        transition: u3,
        name: "bar-update-enter",
        animate: t3
      })
    ).attr(
      "class",
      (u3) => this.model.getColorClassName({
        classNameTypes: [h.FILL],
        dataGroupName: u3[s2],
        originalClassName: "bar"
      })
    ).style("fill", (u3) => {
      const p3 = this.services.cartesianScales.getDomainIdentifier(u3);
      return this.model.getFillColor(u3[s2], u3[p3], u3);
    }).attr("d", (u3) => {
      const p3 = this.groupScale(u3[s2]), f2 = this.getBarWidth(), g3 = p3, m3 = p3 + f2, y4 = this.services.cartesianScales.getRangeAxisPosition({ datum: u3 }), S3 = this.services.cartesianScales.getDomainLowerBound(y4), v4 = this.services.cartesianScales.getValueThroughAxisPosition(y4, S3), E = this.services.cartesianScales.getRangeValue(u3), x4 = this.services.cartesianScales.getDomainValue(u3) - f2 / 2, b3 = x4 + f2;
      if (!this.isOutsideZoomedDomain(x4, b3))
        return K0(
          { x0: g3, x1: m3, y0: v4, y1: E },
          this.services.cartesianScales.getOrientation()
        );
    }).attr("opacity", 1).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-roledescription", "bar").attr("aria-label", (u3) => u3.value), this.addEventListeners();
  }
  addEventListeners() {
    const t3 = this;
    this.parent.selectAll("path.bar").on("mouseover", function(e2, n2) {
      const s2 = D3(this);
      s2.classed("hovered", true), t3.services.events.dispatchEvent(_E.Bar.BAR_MOUSEOVER, {
        event: e2,
        element: s2,
        datum: n2
      }), t3.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: e2,
        hoveredElement: s2,
        data: [n2]
      });
    }).on("mousemove", function(e2, n2) {
      const s2 = D3(this);
      t3.services.events.dispatchEvent(_E.Bar.BAR_MOUSEMOVE, {
        event: e2,
        element: s2,
        datum: n2
      }), t3.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: e2
      });
    }).on("click", function(e2, n2) {
      t3.services.events.dispatchEvent(_E.Bar.BAR_CLICK, {
        event: e2,
        element: D3(this),
        datum: n2
      });
    }).on("mouseout", function(e2, n2) {
      const s2 = D3(this);
      s2.classed("hovered", false), t3.services.events.dispatchEvent(_E.Bar.BAR_MOUSEOUT, {
        event: e2,
        element: s2,
        datum: n2
      }), t3.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        hoveredElement: s2
      });
    });
  }
  destroy() {
    this.parent.selectAll("path.bar").on("mouseover", null).on("mousemove", null).on("mouseout", null);
    const t3 = this.services.events;
    t3.removeEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.removeEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  getDataCorrespondingToLabel(t3) {
    return this.model.getDisplayData(this.configs.groups).filter((n2) => {
      const s2 = this.services.cartesianScales.getDomainIdentifier(n2);
      return n2[s2].toString() === t3;
    });
  }
  getGroupWidth() {
    const t3 = this.model.getGroupedData(this.configs.groups), e2 = this.getTotalGroupPadding();
    return this.getBarWidth() * t3.length + e2;
  }
  getDomainScaleStep() {
    const t3 = this.services.cartesianScales.getDomainScale(), e2 = this.model.getGroupedData(this.configs.groups);
    let n2 = this.defaultStepFactor;
    if (typeof t3.step == "function")
      n2 = t3.step();
    else if (e2.length > 0) {
      const s2 = e2.find((a2) => {
        var r3;
        return ((r3 = a2.data) == null ? void 0 : r3.length) > 1;
      });
      if (s2) {
        const a2 = this.services.cartesianScales.getDomainIdentifier(s2.data[0]);
        n2 = Math.abs(
          t3(s2.data[1][a2]) - t3(s2.data[0][a2])
        );
      }
    }
    return n2;
  }
  getTotalGroupPadding() {
    const t3 = this.model.getGroupedData(this.configs.groups);
    return t3.length === 1 ? 0 : Math.min(5, 5 * (this.getDomainScaleStep() / this.defaultStepFactor)) * (t3.length - 1);
  }
  // Gets the correct width for bars based on options & configurations
  getBarWidth() {
    const t3 = this.getOptions(), e2 = rt(t3, "bars", "width"), n2 = rt(t3, "bars", "maxWidth");
    if (e2 !== null && (n2 === null || e2 <= n2))
      return e2;
    const a2 = this.model.getGroupedData(this.configs.groups).length, r3 = this.getTotalGroupPadding();
    return Math.min(
      n2,
      (this.getDomainScaleStep() - r3) / a2
    );
  }
  setGroupScale() {
    const t3 = this.model.getActiveDataGroupNames(this.configs.groups);
    this.groupScale = yn2().domain(t3).rangeRound([0, this.getGroupWidth()]);
  }
};
var Gm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "heatmap", this.renderType = D.SVG, this.matrix = {}, this.xBandwidth = 0, this.yBandwidth = 0, this.translationUnits = {
      x: 0,
      y: 0
    }, this.handleAxisOnHover = (t3) => {
      const { detail: e2 } = t3, { datum: n2 } = e2, s2 = this.model.getUniqueRanges(), a2 = this.model.getUniqueDomain(), r3 = this.services.cartesianScales.getDomainLabel(), o2 = this.services.cartesianScales.getRangeLabel(), c2 = this.services.cartesianScales.getMainXScale(), l2 = this.services.cartesianScales.getMainYScale();
      let h3 = "", d2 = null, u3 = null, p3 = null;
      this.matrix[n2] !== void 0 ? (h3 = r3, s2.forEach((f2) => {
        if (typeof this.matrix[n2][f2].value == "number") {
          const g3 = this.matrix[n2][f2].value;
          if (d2 === null) {
            d2 = g3, u3 = g3, p3 = g3;
            return;
          }
          d2 += g3, u3 = g3 < u3 ? g3 : u3, p3 = g3 > p3 ? g3 : p3;
        }
      })) : (h3 = o2, a2.forEach((f2) => {
        if (typeof this.matrix[f2][n2].value == "number") {
          const g3 = this.matrix[f2][n2].value;
          if (d2 === null) {
            d2 = g3, u3 = g3, p3 = g3;
            return;
          }
          d2 += g3, u3 = g3 < u3 ? g3 : u3, p3 = g3 > p3 ? g3 : p3;
        }
      })), c2(n2) !== void 0 ? this.parent.select("g.multi-cell.column-highlight").classed("highlighter-hidden", false).attr("transform", `translate(${c2(n2)}, ${$l(l2.range())})`) : l2(n2) !== void 0 && this.parent.select("g.multi-cell.row-highlight").classed("highlighter-hidden", false).attr("transform", `translate(${$l(c2.range())},${l2(n2)})`), this.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: e2.event,
        hoveredElement: D3(t3.detail.element),
        items: [
          {
            label: h3,
            value: n2,
            bold: true
          },
          {
            label: "Min",
            value: u3 !== null ? u3 : "-"
          },
          {
            label: "Max",
            value: p3 !== null ? p3 : "-"
          },
          {
            label: "Average",
            value: d2 !== null ? d2 / a2.length : "-"
          }
        ]
      });
    }, this.handleAxisMouseOut = (t3) => {
      this.parent.selectAll("g.multi-cell").classed("highlighter-hidden", true), this.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        event: t3
      });
    };
  }
  init() {
    const t3 = this.services.events;
    t3.addEventListener(_E.Axis.LABEL_MOUSEOVER, this.handleAxisOnHover), t3.addEventListener(_E.Axis.LABEL_MOUSEOUT, this.handleAxisMouseOut), t3.addEventListener(_E.Axis.LABEL_FOCUS, this.handleAxisOnHover), t3.addEventListener(_E.Axis.LABEL_BLUR, this.handleAxisMouseOut);
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = true) {
    const e2 = this.getComponentContainer({ ariaLabel: "heatmap", withinChartClip: true });
    e2.lower();
    const { cartesianScales: n2 } = this.services;
    if (this.matrix = this.model.getMatrix(), e2.html(""), rt(this.getOptions(), "data", "loading"))
      return;
    const s2 = n2.getMainXScale(), a2 = n2.getMainYScale(), r3 = n2.getDomainIdentifier(), o2 = n2.getRangeIdentifier(), c2 = this.model.getUniqueDomain(), l2 = this.model.getUniqueRanges(), h3 = this.model.getMatrixAsArray(), d2 = s2.range(), u3 = a2.range();
    this.xBandwidth = Math.abs((d2[1] - d2[0]) / c2.length), this.yBandwidth = Math.abs((u3[1] - u3[0]) / l2.length);
    const p3 = this.services.domUtils.generateElementIDString("heatmap-pattern-stripes");
    e2.append("defs").append("pattern").attr("id", p3).attr("width", 3).attr("height", 3).attr("patternUnits", "userSpaceOnUse").attr("patternTransform", "rotate(45)").append("rect").classed("pattern-fill", true).attr("width", 0.5).attr("height", 8);
    const f2 = e2.selectAll().data(h3).enter().append("g").attr("class", (g3) => `heat-${g3.index}`).classed("cell", true).attr(
      "transform",
      (g3) => `translate(${s2(g3[r3])}, ${a2(g3[o2])})`
    ).append("rect").attr(
      "class",
      (g3) => this.model.getColorClassName({
        value: g3.value,
        originalClassName: `heat-${g3.index}`
      })
    ).classed("heat", true).classed("null-state", (g3) => g3.index === -1 || g3.value === null).attr("width", this.xBandwidth).attr("height", this.yBandwidth).style("fill", (g3) => {
      const m3 = this.services.cartesianScales.getDomainIdentifier(g3);
      return g3.index === -1 || g3.value === null ? `url(#${p3})` : this.model.getFillColor(Number(g3.value), g3[m3], g3);
    }).attr("aria-label", (g3) => g3.value);
    this.createOuterBox("g.cell-highlight", this.xBandwidth, this.yBandwidth), this.createOuterBox(
      "g.multi-cell.column-highlight",
      this.xBandwidth,
      Math.abs(u3[1] - u3[0])
    ), this.createOuterBox(
      "g.multi-cell.row-highlight",
      Math.abs(d2[1] - d2[0]),
      this.yBandwidth
    ), this.determineDividerStatus() && (f2.style("stroke-width", "1px"), this.parent.select("g.cell-highlight").classed("cell-2", true)), this.addEventListener();
  }
  /**
   * Generates a box using lines to create a hover effect
   * The lines have drop shadow in their respective direction
   * @param parentTag - tag name
   * @param xBandwidth - X length
   * @param yBandwidth - y length
   */
  createOuterBox(t3, e2, n2) {
    const s2 = ve2.appendOrSelect(this.parent, t3).classed("shadows", true).classed("highlighter-hidden", true);
    ve2.appendOrSelect(s2, "line.top").attr("x1", -1).attr("x2", e2 + 1), ve2.appendOrSelect(s2, "line.left").attr("x1", 0).attr("y1", -1).attr("x2", 0).attr("y2", n2 + 1), ve2.appendOrSelect(s2, "line.down").attr("x1", -1).attr("x2", e2 + 1).attr("y1", n2).attr("y2", n2), ve2.appendOrSelect(s2, "line.right").attr("x1", e2).attr("x2", e2).attr("y1", -1).attr("y2", n2 + 1);
  }
  determineDividerStatus() {
    const t3 = rt(this.getOptions(), "heatmap", "divider", "state");
    return t3 !== eE.OFF && (t3 === eE.AUTO && Nm.minCellDividerDimension <= this.xBandwidth && Nm.minCellDividerDimension <= this.yBandwidth || t3 === eE.ON);
  }
  addEventListener() {
    const t3 = this, { cartesianScales: e2 } = this.services, n2 = this.getOptions(), s2 = Pu(n2, "locale.translations.total") || Pu(n2, "tooltip.totalLabel") || "Total", a2 = e2.getDomainIdentifier(), r3 = e2.getRangeIdentifier(), o2 = e2.getDomainLabel(), c2 = e2.getRangeLabel();
    this.parent.selectAll("g.cell").on("mouseover", function(l2, h3) {
      const d2 = D3(this), u3 = d2.select("rect.heat");
      if (!u3.classed("null-state")) {
        const f2 = U0(d2.attr("transform"));
        t3.parent.select("g.cell-highlight").attr(
          "transform",
          `translate(${f2.x + t3.translationUnits.x}, ${f2.y + t3.translationUnits.y})`
        ).classed("highlighter-hidden", false), t3.services.events.dispatchEvent(_E.Heatmap.HEATMAP_MOUSEOVER, {
          event: l2,
          element: u3,
          datum: h3
        }), t3.services.events.dispatchEvent(_E.Tooltip.SHOW, {
          event: l2,
          items: [
            {
              label: o2,
              value: h3[a2]
            },
            {
              label: c2,
              value: h3[r3]
            },
            {
              label: s2,
              value: h3.value,
              color: u3.style("fill")
            }
          ]
        });
      }
    }).on("mousemove", function(l2, h3) {
      t3.services.events.dispatchEvent(_E.Heatmap.HEATMAP_MOUSEMOVE, {
        event: l2,
        element: D3(this),
        datum: h3
      }), t3.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: l2
      });
    }).on("click", function(l2, h3) {
      t3.services.events.dispatchEvent(_E.Heatmap.HEATMAP_CLICK, {
        event: l2,
        element: D3(this),
        datum: h3
      });
    }).on("mouseout", function(l2, h3) {
      const u3 = D3(this).select("rect.heat"), p3 = u3.classed("null-state");
      t3.parent.select("g.cell-highlight").classed("highlighter-hidden", true), p3 || (t3.services.events.dispatchEvent(_E.Heatmap.HEATMAP_MOUSEOUT, {
        event: l2,
        element: u3,
        datum: h3
      }), t3.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        event: l2,
        hoveredElement: u3
      }));
    });
  }
  // Remove event listeners
  destroy() {
    this.parent.selectAll("rect.heat").on("mouseover", null).on("mousemove", null).on("click", null).on("mouseout", null);
    const t3 = this.services.events;
    t3.removeEventListener(_E.Legend.ITEM_HOVER, this.handleAxisOnHover), t3.removeEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleAxisMouseOut);
  }
};
var Hm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "histogram", this.renderType = D.SVG, this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail, n2 = this.getOptions(), { groupMapsTo: s2 } = n2.data;
      this.parent.selectAll("path.bar").transition("legend-hover-bar").call(
        (a2) => this.services.transitions.setupTransition({
          transition: a2,
          name: "legend-hover-bar"
        })
      ).attr("opacity", (a2) => a2[s2] !== e2.datum().name ? 0.3 : 1);
    }, this.handleLegendMouseOut = () => {
      this.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(
        (t3) => this.services.transitions.setupTransition({
          transition: t3,
          name: "legend-mouseout-bar"
        })
      ).attr("opacity", 1);
    };
  }
  init() {
    const t3 = this.services.events;
    t3.addEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  render(t3) {
    const e2 = this.getComponentContainer({
      ariaLabel: "histogram bars"
    }), n2 = this.model.getOptions(), { groupIdentifier: s2 } = n2, { groupMapsTo: a2 } = n2.data, r3 = this.model.getBinnedStackedData(), o2 = this.services.cartesianScales.getMainXScale(), c2 = e2.selectAll("g.bars").data(r3, (h3) => Pu(h3, `0.${a2}`));
    c2.exit().attr("opacity", 0).remove(), c2.enter().append("g").classed("bars", true).attr("role", r2.GROUP);
    const l2 = e2.selectAll("g.bars").selectAll("path.bar").data((h3) => h3);
    l2.exit().remove(), l2.enter().append("path").merge(l2).classed("bar", true).attr(s2, (h3, d2) => d2).transition().call(
      (h3) => this.services.transitions.setupTransition({
        transition: h3,
        name: "histogram-bar-update-enter",
        animate: t3
      })
    ).attr(
      "class",
      (h3) => this.model.getColorClassName({
        classNameTypes: [h.FILL],
        dataGroupName: h3[a2],
        originalClassName: "bar"
      })
    ).style("fill", (h3) => this.model.getFillColor(h3[a2], null, h3)).attr("d", (h3) => {
      const d2 = Pu(h3, "data");
      if (!d2)
        return;
      const u3 = o2(d2.x1) - o2(d2.x0) - 1, p3 = this.services.cartesianScales.getDomainValue(d2.x0), f2 = p3 + u3, g3 = this.services.cartesianScales.getRangeValue(h3[0]);
      let m3 = this.services.cartesianScales.getRangeValue(h3[1]);
      return Math.abs(m3 - g3) > 0 && Math.abs(m3 - g3) > n2.bars.dividerSize && (this.services.cartesianScales.getOrientation() === w.VERTICAL ? m3 += 1 : m3 -= 1), K0(
        { x0: p3, x1: f2, y0: g3, y1: m3 },
        this.services.cartesianScales.getOrientation()
      );
    }).attr("opacity", 1).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-roledescription", "bar").attr("aria-label", (h3) => rt(h3, "data", h3[a2])), this.addEventListeners();
  }
  addEventListeners() {
    const t3 = this.model.getOptions(), { groupMapsTo: e2 } = t3.data, { code: n2, number: s2 } = rt(t3, "locale"), a2 = this;
    this.parent.selectAll("path.bar").on("mouseover", function(r3, o2) {
      const c2 = D3(this);
      c2.classed("hovered", true);
      const l2 = s2(parseFloat(Pu(o2, "data.x0")), n2), h3 = s2(parseFloat(Pu(o2, "data.x1")), n2), d2 = a2.services.cartesianScales.getRangeAxisPosition(), u3 = a2.services.cartesianScales.getScaleLabel(d2);
      a2.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: r3,
        hoveredElement: c2,
        items: [
          {
            label: Pu(t3, "bins.rangeLabel") || "Range",
            value: `${l2} – ${h3}`
          },
          {
            label: t3.tooltip.groupLabel || "Group",
            value: o2[e2],
            class: a2.model.getColorClassName({
              classNameTypes: [h.TOOLTIP],
              dataGroupName: o2[e2]
            })
          },
          {
            label: u3,
            value: Pu(o2, `data.${o2[e2]}`)
          }
        ]
      });
    }).on("mousemove", function(r3) {
      a2.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: r3
      });
    }).on("mouseout", function() {
      D3(this).classed("hovered", false), a2.services.events.dispatchEvent(_E.Tooltip.HIDE);
    });
  }
  destroy() {
    this.parent.selectAll("path.bar").on("mouseover", null).on("mousemove", null).on("mouseout", null);
    const t3 = this.services.events;
    t3.removeEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.removeEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
};
var Bm2 = class extends Ji2 {
  constructor() {
    super(...arguments), this.type = "lollipop", this.renderType = D.SVG, this.handleScatterOnHover = (t3) => {
      const e2 = t3.detail, n2 = this.getOptions(), { groupMapsTo: s2 } = n2.data;
      this.parent.selectAll("line.line").attr("stroke-width", (a2) => a2[s2] !== e2.datum[s2] ? Om.weight.unselected : Om.weight.selected);
    }, this.handleScatterOnMouseOut = () => {
      this.parent.selectAll("line.line").attr("stroke-width", Om.weight.unselected);
    }, this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail, n2 = this.getOptions(), { groupMapsTo: s2 } = n2.data;
      this.parent.selectAll("line.line").transition("legend-hover-line").call(
        (a2) => this.services.transitions.setupTransition({
          transition: a2,
          name: "legend-hover-line"
        })
      ).attr("opacity", (a2) => a2[s2] !== e2.datum().name ? Om.opacity.unselected : Om.opacity.selected);
    }, this.handleLegendMouseOut = () => {
      this.parent.selectAll("line.line").transition("legend-mouseout-line").call(
        (t3) => this.services.transitions.setupTransition({
          transition: t3,
          name: "legend-mouseout-line"
        })
      ).attr("opacity", Om.opacity.selected);
    };
  }
  init() {
    const { events: t3 } = this.services;
    t3.addEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  render(t3) {
    const e2 = this.getComponentContainer({ ariaLabel: "lines", withinChartClip: true }), n2 = this.model.getOptions(), { groupMapsTo: s2 } = n2.data, { cartesianScales: a2 } = this.services, r3 = a2.getMainXScale(), o2 = a2.getMainYScale(), c2 = a2.getDomainIdentifier(), l2 = (y4) => a2.getDomainValue(y4), h3 = (y4) => a2.getRangeValue(y4), d2 = a2.getOrientation(), [u3, p3] = Z0(
      l2,
      h3,
      d2
    ), f2 = e2.selectAll("line.line").data(
      this.getScatterData(),
      (y4) => `${y4[s2]}-${y4[c2]}`
    );
    f2.exit().attr("opacity", 0).remove();
    const m3 = f2.enter().append("line").attr("opacity", 0).merge(f2).classed("line", true).attr(
      "class",
      (y4) => this.model.getColorClassName({
        classNameTypes: [h.STROKE],
        dataGroupName: y4[s2],
        originalClassName: "line"
      })
    ).transition().call(
      (y4) => this.services.transitions.setupTransition({
        transition: y4,
        name: "lollipop-line-update-enter",
        animate: t3
      })
    ).style("stroke", (y4) => this.model.getFillColor(y4[s2], y4[c2], y4)).attr("opacity", 1);
    d2 === w.HORIZONTAL ? m3.attr("y1", p3).attr("y2", p3).attr("x1", r3.range()[0]).attr("x2", (y4) => u3(y4) - n2.points.radius) : m3.attr("x1", u3).attr("x2", u3).attr("y1", o2.range()[0]).attr("y2", (y4) => p3(y4) + n2.points.radius), this.addScatterPointEventListeners();
  }
  // listen for when individual datapoints are hovered
  addScatterPointEventListeners() {
    this.services.events.addEventListener(
      _E.Scatter.SCATTER_MOUSEOVER,
      this.handleScatterOnHover
    ), this.services.events.addEventListener(
      _E.Scatter.SCATTER_MOUSEOUT,
      this.handleScatterOnMouseOut
    );
  }
  destroy() {
    const t3 = this.services.events;
    t3.removeEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.removeEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut), t3.removeEventListener(_E.Scatter.SCATTER_MOUSEOVER, this.handleScatterOnHover), t3.removeEventListener(
      _E.Scatter.SCATTER_MOUSEOUT,
      this.handleScatterOnMouseOut
    );
  }
};
var zm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "meter", this.renderType = D.SVG;
  }
  getStackedBounds(t3, e2) {
    let n2 = 0;
    return t3.map((a2, r3) => r3 !== 0 ? (n2 += e2(a2.value), {
      ...a2,
      width: Math.abs(e2(a2.value) - Pm.dividerWidth),
      x: n2 - e2(a2.value)
    }) : (n2 = e2(a2.value), {
      ...a2,
      width: Math.abs(e2(a2.value) - Pm.dividerWidth),
      x: 0
    }));
  }
  render(t3 = true) {
    const e2 = this, n2 = this.getComponentContainer({
      ariaLabel: "meter lines"
    }), s2 = this.getOptions(), a2 = rt(s2, "meter", "proportional"), r3 = this.model.getDisplayData(), o2 = this.model.getStatus(), { width: c2 } = ve2.getSVGElementSize(n2, {
      useAttrs: true
    }), { groupMapsTo: l2 } = s2.data;
    let h3;
    if (rt(s2, "meter", "proportional") === null)
      h3 = 100;
    else {
      const v4 = rt(s2, "meter", "proportional", "total");
      h3 = v4 || this.model.getMaximumDomain(this.model.getDisplayData());
    }
    const d2 = na().domain([0, h3]).range([0, c2]), u3 = this.getStackedBounds(r3, d2), p3 = rt(s2, "meter", "height");
    ve2.appendOrSelect(n2, "rect.container").attr("x", 0).attr("y", 0).attr("width", c2).attr(
      "height",
      p3 || (a2 ? Pm.height.proportional : Pm.height.default)
    ), ve2.appendOrSelect(n2, "line.rangeIndicator").attr("x1", c2).attr("x2", c2).attr("y1", 0).attr(
      "y2",
      p3 || (a2 ? Pm.height.proportional : Pm.height.default)
    );
    const f2 = n2.selectAll("rect.value").data(u3), g3 = o2 != null && !e2.model.isUserProvidedColorScaleValid() && !a2 ? `value status--${o2}` : "value";
    f2.enter().append("rect").classed("value", true).merge(f2).attr("x", (v4) => v4.x).attr("y", 0).attr("height", () => p3 || (a2 ? Pm.height.proportional : Pm.height.default)).attr(
      "class",
      (v4) => this.model.getColorClassName({
        classNameTypes: [h.FILL],
        dataGroupName: v4[l2],
        originalClassName: g3
      })
    ).transition().call(
      (v4) => this.services.transitions.setupTransition({
        transition: v4,
        name: "meter-bar-update",
        animate: t3
      })
    ).attr("width", (v4) => v4.value > h3 ? d2(h3) : Math.max(v4.width, 2)).style("fill", (v4) => e2.model.getFillColor(v4[l2], null, v4)).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-roledescription", "value").attr("aria-label", (v4) => v4.value), f2.exit().remove();
    const m3 = rt(s2, "meter", "peak");
    let y4 = m3;
    m3 !== null && (m3 > h3 ? y4 = h3 : m3 < 0 && (y4 = 0));
    const S3 = n2.selectAll("line.peak").data(y4 == null ? [] : [y4]);
    S3.enter().append("line").classed("peak", true).merge(S3).attr("y1", 0).attr("y2", () => p3 || (a2 ? Pm.height.proportional : Pm.height.default)).transition().call(
      (v4) => this.services.transitions.setupTransition({
        transition: v4,
        name: "peak-line-update",
        animate: t3
      })
    ).attr("x1", (v4) => d2(v4)).attr("x2", (v4) => d2(v4)).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-roledescription", "peak").attr("aria-label", (v4) => v4), S3.exit().remove(), this.services.domUtils.setSVGMaxHeight(), this.addEventListeners();
  }
  // add event listeners for tooltips on proportional meter bars
  addEventListeners() {
    const t3 = this.getOptions(), { groupMapsTo: e2 } = t3.data, n2 = this, s2 = rt(t3, "meter", "proportional");
    this.parent.selectAll("rect.value").on("mouseover", function(a2, r3) {
      const o2 = D3(this);
      n2.services.events.dispatchEvent(_E.Meter.METER_MOUSEOVER, {
        event: a2,
        element: o2,
        datum: r3
      }), s2 && (o2.classed("hovered", true), n2.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: a2,
        hoveredElement: o2,
        items: [
          {
            label: r3[e2],
            value: r3.value
          }
        ]
      }));
    }).on("mousemove", function(a2, r3) {
      const o2 = D3(this);
      n2.services.events.dispatchEvent(_E.Meter.METER_MOUSEMOVE, {
        event: a2,
        element: o2,
        datum: r3
      }), s2 && n2.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: a2
      });
    }).on("click", function(a2, r3) {
      n2.services.events.dispatchEvent(_E.Meter.METER_CLICK, {
        event: a2,
        element: D3(this),
        datum: r3
      });
    }).on("mouseout", function(a2, r3) {
      const o2 = D3(this);
      n2.services.events.dispatchEvent(_E.Meter.METER_MOUSEOUT, {
        event: a2,
        element: o2,
        datum: r3
      }), s2 && (o2.classed("hovered", false), n2.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        hoveredElement: o2
      }));
    });
  }
  destroy() {
    this.parent.selectAll("rect.value").on("mouseover", null).on("mousemove", null).on("mouseout", null).on("click", null);
  }
};
var Um2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "radar", this.renderType = D.SVG, this.getLabelDimensions = (t3) => {
      const e2 = ve2.appendOrSelect(this.getComponentContainer(), "g.tmp-tick"), n2 = ve2.appendOrSelect(e2, "text").text(t3), { width: s2, height: a2 } = ve2.getSVGElementSize(n2.node(), { useBBox: true });
      return e2.remove(), { width: s2, height: a2 };
    }, this.normalizeFlatData = (t3) => {
      const e2 = this.getOptions(), { angle: n2, value: s2 } = rt(e2, "radar", "axes"), a2 = rt(e2, "data", "groupMapsTo"), r3 = Lc2(
        this.uniqueKeys.map((o2) => this.uniqueGroups.map((c2) => ({
          [n2]: o2,
          [a2]: c2,
          [s2]: null
        })))
      );
      return y2(r3, t3);
    }, this.normalizeGroupedData = (t3) => {
      const e2 = this.getOptions(), { angle: n2, value: s2 } = rt(e2, "radar", "axes"), a2 = rt(e2, "data", "groupMapsTo");
      return t3.map(({ name: r3, data: o2 }) => {
        const c2 = this.uniqueKeys.map((l2) => ({
          [a2]: r3,
          [n2]: l2,
          [s2]: null
        }));
        return { name: r3, data: y2(c2, o2) };
      });
    }, this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail;
      this.parent.selectAll("g.blobs path").transition("legend-hover-blob").call(
        (n2) => this.services.transitions.setupTransition({
          transition: n2,
          name: "legend-hover-blob"
        })
      ).style("fill-opacity", (n2) => n2.name !== e2.datum().name ? Em.opacity.unselected : Em.opacity.selected).style("stroke-opacity", (n2) => n2.name !== e2.datum().name ? Em.opacity.unselected : 1);
    }, this.handleLegendMouseOut = () => {
      this.parent.selectAll("g.blobs path").transition("legend-mouseout-blob").call(
        (t3) => this.services.transitions.setupTransition({
          transition: t3,
          name: "legend-mouseout-blob"
        })
      ).style("fill-opacity", Em.opacity.selected).style("stroke-opacity", 1);
    };
  }
  init() {
    const { events: t3 } = this.services;
    t3.addEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  render(t3 = true) {
    const e2 = this.getComponentContainer({
      ariaLabel: "radar graph"
    }), { width: n2, height: s2 } = ve2.getSVGElementSize(e2, {
      useAttrs: true
    }), a2 = this.model.getData(), r3 = this.model.getGroupedData(), o2 = this.getOptions(), c2 = rt(o2, "data", "groupMapsTo"), l2 = rt(o2, "radar", "axes", "value"), { angle: h3, value: d2 } = rt(o2, "radar", "axes"), { xLabelPadding: u3, yLabelPadding: p3, yTicksNumber: f2, minRange: g3, xAxisRectHeight: m3 } = Em;
    this.uniqueKeys = Array.from(new Set(a2.map((B5) => B5[h3]))), this.uniqueGroups = Array.from(new Set(a2.map((B5) => B5[c2]))), this.fullDataNormalized = this.normalizeFlatData(a2), this.groupedDataNormalized = this.normalizeGroupedData(r3);
    const S3 = 2 * (this.getLabelDimensions(this.uniqueKeys[0]).height + p3), x4 = (Math.min(n2, s2) - S3) / 2;
    if (x4 <= 0)
      return;
    const b3 = yn2().domain(this.fullDataNormalized.map((B5) => B5[h3])).range([0, 2 * Math.PI].map((B5) => B5 - Math.PI / 2)), _4 = $l(this.fullDataNormalized.map((B5) => B5[d2])), k5 = na().domain([
      _4 >= 0 ? 0 : _4,
      B0(this.fullDataNormalized.map((B5) => B5[d2]))
    ]).range([g3, x4]).nice(f2), G5 = k5.ticks(f2), R4 = (B5, z5, U3) => this.model.getFillColor(B5, z5, U3), A2 = sd2().angle((B5) => b3(B5[h3]) + Math.PI / 2).radius((B5) => k5(B5[d2])).curve(Ni2), H5 = this.uniqueKeys.map((B5) => {
      const z5 = this.getLabelDimensions(B5).width, U3 = Qi2(
        b3(B5),
        x4
      );
      return z5 + U3;
    }), M4 = {
      x: B0(H5) + u3,
      y: s2 / 2
    }, P3 = ve2.appendOrSelect(e2, "g.y-axes").attr("role", r2.GROUP).selectAll("path").data(G5, (B5) => B5), $4 = (B5) => this.uniqueKeys.map((z5) => ({ [h3]: z5, [d2]: B5 }));
    P3.join(
      (B5) => B5.append("path").attr("opacity", 0).attr("transform", `translate(${M4.x}, ${M4.y})`).attr("fill", "none").call(
        (z5) => z5.transition().call(
          (U3) => this.services.transitions.setupTransition({
            transition: U3,
            name: "radar_y_axes_enter",
            animate: t3
          })
        ).attr("opacity", 1).attr("d", (U3) => A2($4(U3)))
      ),
      (B5) => B5.call(
        (z5) => z5.transition().call(
          (U3) => this.services.transitions.setupTransition({
            transition: U3,
            name: "radar_y_axes_update",
            animate: t3
          })
        ).attr("opacity", 1).attr("transform", `translate(${M4.x}, ${M4.y})`).attr("d", (U3) => A2($4(U3)))
      ),
      (B5) => B5.call(
        (z5) => z5.transition().call(
          (U3) => this.services.transitions.setupTransition({
            transition: U3,
            name: "radar_y_axes_exit",
            animate: t3
          })
        ).attr("d", (U3) => A2($4(U3))).attr("opacity", 0).remove()
      )
    ), ve2.appendOrSelect(e2, "g.x-axes").attr("role", r2.GROUP).selectAll("line").data(this.uniqueKeys, (B5) => B5).join(
      (B5) => B5.append("line").attr("opacity", 0).attr("class", (z5) => `x-axis-${Ue3(z5)}`).attr("stroke-dasharray", "0").attr("x1", (z5) => Xi2(b3(z5), 0, M4).x).attr("y1", (z5) => Xi2(b3(z5), 0, M4).y).attr("x2", (z5) => Xi2(b3(z5), 0, M4).x).attr("y2", (z5) => Xi2(b3(z5), 0, M4).y).call(
        (z5) => z5.transition().call(
          (U3) => this.services.transitions.setupTransition({
            transition: U3,
            name: "radar_x_axes_enter",
            animate: t3
          })
        ).attr("opacity", 1).attr("x1", (U3) => Xi2(b3(U3), k5.range()[0], M4).x).attr("y1", (U3) => Xi2(b3(U3), k5.range()[0], M4).y).attr("x2", (U3) => Xi2(b3(U3), k5.range()[1], M4).x).attr("y2", (U3) => Xi2(b3(U3), k5.range()[1], M4).y)
      ),
      (B5) => B5.call(
        (z5) => z5.transition().call(
          (U3) => this.services.transitions.setupTransition({
            transition: U3,
            name: "radar_x_axes_update",
            animate: t3
          })
        ).attr("opacity", 1).attr("x1", (U3) => Xi2(b3(U3), k5.range()[0], M4).x).attr("y1", (U3) => Xi2(b3(U3), k5.range()[0], M4).y).attr("x2", (U3) => Xi2(b3(U3), k5.range()[1], M4).x).attr("y2", (U3) => Xi2(b3(U3), k5.range()[1], M4).y)
      ),
      (B5) => B5.call(
        (z5) => z5.transition().call(
          (U3) => this.services.transitions.setupTransition({
            transition: U3,
            name: "radar_x_axes_exit",
            animate: t3
          })
        ).attr("opacity", 0).remove()
      )
    ), ve2.appendOrSelect(e2, "g.x-labels").attr("role", r2.GROUP).selectAll("text").data(this.uniqueKeys).join(
      (B5) => B5.append("text").text((z5) => z5).attr("opacity", 0).attr(
        "x",
        (z5) => Xi2(b3(z5), k5.range()[1] + u3, M4).x
      ).attr(
        "y",
        (z5) => Xi2(b3(z5), k5.range()[1] + u3, M4).y
      ).style("text-anchor", (z5) => ji2(b3(z5)).textAnchor).style(
        "dominant-baseline",
        (z5) => ji2(b3(z5)).dominantBaseline
      ).call(
        (z5) => z5.transition().call(
          (U3) => this.services.transitions.setupTransition({
            transition: U3,
            name: "radar_x_labels_enter",
            animate: t3
          })
        ).attr("opacity", 1)
      ),
      (B5) => B5.call(
        (z5) => z5.transition().call(
          (U3) => this.services.transitions.setupTransition({
            transition: U3,
            name: "radar_x_labels_update",
            animate: t3
          })
        ).attr("opacity", 1).attr(
          "x",
          (U3) => Xi2(b3(U3), k5.range()[1] + u3, M4).x
        ).attr(
          "y",
          (U3) => Xi2(b3(U3), k5.range()[1] + u3, M4).y
        ).end().finally(() => {
          const U3 = rt(o2, "radar", "alignment"), Mt4 = this.getAlignmentXOffset(U3, e2, this.getParent());
          e2.attr("x", Mt4);
        })
      ),
      (B5) => B5.call(
        (z5) => z5.transition().call(
          (U3) => this.services.transitions.setupTransition({
            transition: U3,
            name: "radar_x_labels_exit",
            animate: t3
          })
        ).attr("opacity", 0).remove()
      )
    ), ve2.appendOrSelect(e2, "g.blobs").attr("role", r2.GROUP).selectAll("path").data(this.groupedDataNormalized, (B5) => B5.name).join(
      (B5) => B5.append("path").attr(
        "class",
        (z5) => this.model.getColorClassName({
          classNameTypes: [h.FILL, h.STROKE],
          dataGroupName: z5.name,
          originalClassName: "blob"
        })
      ).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-label", (z5) => z5.name).attr("opacity", 0).attr(
        "transform",
        t3 ? () => `translate(${M4.x}, ${M4.y}) scale(${1 + Math.random() * 0.35})` : `translate(${M4.x}, ${M4.y})`
      ).style("fill", (z5) => R4(z5.name, null, z5.data)).style("fill-opacity", Em.opacity.selected).style("stroke", (z5) => R4(z5.name, null, z5.data)).call((z5) => {
        const U3 = z5.transition().call(
          (Mt4) => this.services.transitions.setupTransition({
            transition: Mt4,
            name: "radar_blobs_enter",
            animate: t3
          })
        );
        t3 && U3.delay(() => Math.random() * 30).attr("transform", `translate(${M4.x}, ${M4.y})`), U3.attr("opacity", 1).attr("d", (Mt4) => A2(Mt4.data));
      }),
      (B5) => (B5.attr(
        "class",
        (z5) => this.model.getColorClassName({
          classNameTypes: [h.FILL, h.STROKE],
          dataGroupName: z5.name,
          originalClassName: "blob"
        })
      ).style("fill", (z5) => R4(z5.name, null, z5.data)).style("stroke", (z5) => R4(z5.name, null, z5.data)), B5.call(
        (z5) => z5.transition().call(
          (U3) => this.services.transitions.setupTransition({
            transition: U3,
            name: "radar_blobs_update",
            animate: t3
          })
        ).attr("opacity", 1).attr("transform", `translate(${M4.x}, ${M4.y})`).attr("d", (U3) => A2(U3.data))
      ), B5),
      (B5) => B5.call((z5) => {
        const U3 = z5.transition().call(
          (Mt4) => this.services.transitions.setupTransition({
            transition: Mt4,
            name: "radar_blobs_exit",
            animate: t3
          })
        );
        t3 && U3.delay(() => Math.random() * 30).attr(
          "transform",
          () => `translate(${M4.x}, ${M4.y}) scale(${1 + Math.random() * 0.35})`
        ), U3.attr("opacity", 0).remove();
      })
    ), ve2.appendOrSelect(e2, "g.dots").attr("role", r2.GROUP).selectAll("circle").data(this.fullDataNormalized.filter((B5) => rt(B5, d2) !== null)).join(
      (B5) => B5.append("circle").attr("role", r2.GRAPHICS_SYMBOL).attr("aria-label", (z5) => z5[l2]),
      (B5) => B5,
      (B5) => B5.remove()
    ).attr(
      "class",
      (B5) => this.model.getColorClassName({
        classNameTypes: [h.FILL],
        dataGroupName: B5[c2],
        originalClassName: Ue3(B5[h3])
      })
    ).attr("cx", (B5) => Xi2(b3(B5[h3]), k5(B5[d2]), M4).x).attr("cy", (B5) => Xi2(b3(B5[h3]), k5(B5[d2]), M4).y).attr("r", 0).attr("opacity", 0).style("fill", (B5) => R4(B5[c2])), ve2.appendOrSelect(e2, "g.x-axes-rect").attr("role", r2.GROUP).selectAll("rect").data(this.uniqueKeys).join(
      (B5) => B5.append("rect"),
      (B5) => B5,
      (B5) => B5.remove()
    ).attr("x", M4.x).attr("y", M4.y - m3 / 2).attr("width", k5.range()[1]).attr("height", m3).style("fill", "red").style("fill-opacity", 0).attr("transform", (B5) => `rotate(${Li2(b3(B5))}, ${M4.x}, ${M4.y})`);
    const { code: ot5, number: ct5 } = rt(o2, "locale");
    ve2.appendOrSelect(e2, "g.y-labels").attr("role", r2.GROUP).selectAll("text").data(_l(G5)).join(
      (B5) => B5.append("text").attr("opacity", 0).text((z5) => ct5(z5, ot5)).attr(
        "x",
        (z5) => Xi2(-Math.PI / 2, k5(z5), M4).x + p3
      ).attr("y", (z5) => Xi2(-Math.PI / 2, k5(z5), M4).y).style("text-anchor", "start").style("dominant-baseline", "middle").call(
        (z5) => z5.transition().call(
          (U3) => this.services.transitions.setupTransition({
            transition: U3,
            name: "radar_y_labels_enter",
            animate: t3
          })
        ).attr("opacity", 1)
      ),
      (B5) => B5.call(
        (z5) => z5.transition().call(
          (U3) => this.services.transitions.setupTransition({
            transition: U3,
            name: "radar_y_labels_update",
            animate: t3
          })
        ).text((U3) => U3).attr("opacity", 1).attr(
          "x",
          (U3) => Xi2(-Math.PI / 2, k5(U3), M4).x + p3
        ).attr("y", (U3) => Xi2(-Math.PI / 2, k5(U3), M4).y)
      ),
      (B5) => B5.call(
        (z5) => z5.transition().call(
          (U3) => this.services.transitions.setupTransition({
            transition: U3,
            name: "radar_y_labels_exit",
            animate: t3
          })
        ).attr("opacity", 0).remove()
      )
    ), this.addEventListeners();
  }
  getAlignmentXOffset(t3, e2, n2) {
    const s2 = ve2.getSVGElementSize(e2, {
      useBBox: true
    }), { width: a2 } = ve2.getSVGElementSize(n2, {
      useAttrs: true
    });
    let r3 = 0;
    return t3 === k.CENTER ? r3 = Math.floor((a2 - s2.width) / 2) : t3 === k.RIGHT && (r3 = a2 - s2.width), r3;
  }
  destroy() {
    this.parent.selectAll(".x-axes-rect > rect").on("mouseover", null).on("mousemove", null).on("mouseout", null);
    const t3 = this.services.events;
    t3.removeEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.removeEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  addEventListeners() {
    const t3 = this, {
      axes: { angle: e2 }
    } = rt(this.getOptions(), "radar");
    this.parent.selectAll(".x-axes-rect > rect").on("mouseover", function(n2, s2) {
      const a2 = D3(this);
      t3.services.events.dispatchEvent(_E.Radar.X_AXIS_MOUSEOVER, {
        event: n2,
        element: a2,
        datum: s2
      });
      const r3 = t3.parent.select(`.x-axes .x-axis-${Ue3(s2)}`), o2 = t3.parent.selectAll(`.dots circle.${Ue3(s2)}`), c2 = t3.model.getActiveDataGroupNames(), l2 = t3.getOptions(), { groupMapsTo: h3 } = l2.data, d2 = rt(l2, "radar", "axes", "value");
      r3.classed("hovered", true).attr("stroke-dasharray", "4 4"), o2.classed("hovered", true).attr(
        "opacity",
        (p3) => c2.indexOf(p3[h3]) !== -1 ? 1 : 0
      ).attr("r", Em.dotsRadius);
      const u3 = t3.fullDataNormalized.filter(
        (p3) => p3[e2] === s2 && c2.indexOf(p3[h3]) !== -1
      );
      t3.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: n2,
        hoveredElement: a2,
        items: u3.filter((p3) => typeof p3[d2] == "number").map((p3) => ({
          label: p3[h3],
          value: p3[d2],
          color: t3.model.getFillColor(p3[h3], null, p3),
          class: t3.model.getColorClassName({
            classNameTypes: [h.TOOLTIP],
            dataGroupName: p3[h3]
          })
        }))
      });
    }).on("mousemove", function(n2, s2) {
      const a2 = D3(this);
      t3.services.events.dispatchEvent(_E.Radar.X_AXIS_MOUSEMOVE, {
        event: n2,
        element: a2,
        datum: s2
      }), t3.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: n2
      });
    }).on("click", function(n2, s2) {
      t3.services.events.dispatchEvent(_E.Radar.X_AXIS_CLICK, {
        event: n2,
        element: D3(this),
        datum: s2
      });
    }).on("mouseout", function(n2, s2) {
      const a2 = D3(this), r3 = t3.parent.select(`.x-axes .x-axis-${Ue3(s2)}`), o2 = t3.parent.selectAll(`.dots circle.${Ue3(s2)}`);
      r3.classed("hovered", false).attr("stroke-dasharray", "0"), o2.classed("hovered", false).attr("opacity", 0).attr("r", 0), t3.services.events.dispatchEvent(_E.Radar.X_AXIS_MOUSEOUT, {
        event: n2,
        element: a2,
        datum: s2
      }), t3.services.events.dispatchEvent(_E.Tooltip.HIDE);
    });
  }
};
var Fm2 = class extends ta2 {
  constructor() {
    super(...arguments), this.type = "simple-bar", this.renderType = D.SVG, this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail, { groupMapsTo: n2 } = this.getOptions().data;
      this.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(
        (s2) => this.services.transitions.setupTransition({
          transition: s2,
          name: "legend-hover-simple-bar"
        })
      ).attr("opacity", (s2) => s2[n2] !== e2.datum().name ? 0.3 : 1);
    }, this.handleLegendMouseOut = () => {
      this.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(
        (t3) => this.services.transitions.setupTransition({
          transition: t3,
          name: "legend-mouseout-simple-bar"
        })
      ).attr("opacity", 1);
    };
  }
  init() {
    const t3 = this.services.events;
    t3.addEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  render(t3) {
    const e2 = this.getOptions(), { groupMapsTo: n2 } = e2.data, s2 = this.getComponentContainer({
      ariaLabel: "bar graphs",
      withinChartClip: true
    }), a2 = this.model.getDisplayData(this.configs.groups), r3 = this.services.cartesianScales.getOrientation(), o2 = s2.selectAll("path.bar").data(a2, (l2) => l2[n2]);
    o2.exit().attr("opacity", 0).remove(), o2.enter().append("path").attr("opacity", 0).merge(o2).classed("bar", true).attr("width", this.getBarWidth.bind(this)).transition().call(
      (l2) => this.services.transitions.setupTransition({
        transition: l2,
        name: "bar-update-enter",
        animate: t3
      })
    ).attr(
      "class",
      (l2) => this.model.getColorClassName({
        classNameTypes: [h.FILL],
        dataGroupName: l2[n2],
        originalClassName: "bar"
      })
    ).style("fill", (l2) => {
      const h3 = this.services.cartesianScales.getDomainIdentifier(l2);
      return this.model.getFillColor(l2[n2], l2[h3], l2);
    }).attr("d", (l2) => {
      const h3 = this.services.cartesianScales.getRangeIdentifier(), d2 = this.getBarWidth(), u3 = l2[h3], p3 = this.services.cartesianScales.getDomainValue(l2) - d2 / 2, f2 = p3 + d2;
      let g3, m3;
      if (Array.isArray(u3) && u3.length === 2)
        g3 = this.services.cartesianScales.getRangeValue(u3[0]), m3 = this.services.cartesianScales.getRangeValue(u3[1]);
      else {
        const v4 = this.services.cartesianScales.getRangeScale().domain()[0];
        g3 = this.services.cartesianScales.getRangeValue(Math.max(0, v4)), m3 = this.services.cartesianScales.getRangeValue(l2);
      }
      const y4 = Math.abs(m3 - g3);
      if (y4 !== 0 && y4 < 2 && (u3 > 0 && r3 === w.VERTICAL || u3 < 0 && r3 === w.HORIZONTAL ? m3 = g3 - 2 : m3 = g3 + 2), !this.isOutsideZoomedDomain(p3, f2))
        return K0({ x0: p3, x1: f2, y0: g3, y1: m3 }, r3);
    }).attr("opacity", 1).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-roledescription", "bar").attr("aria-label", (l2) => l2.value), this.addEventListeners();
  }
  addEventListeners() {
    const t3 = this;
    this.parent.selectAll("path.bar").on("mouseover", function(e2, n2) {
      const s2 = D3(this);
      s2.classed("hovered", true), t3.services.events.dispatchEvent(_E.Bar.BAR_MOUSEOVER, {
        event: e2,
        element: s2,
        datum: n2
      }), t3.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: e2,
        hoveredElement: s2,
        data: [n2]
      });
    }).on("mousemove", function(e2, n2) {
      t3.services.events.dispatchEvent(_E.Bar.BAR_MOUSEMOVE, {
        event: e2,
        element: D3(this),
        datum: n2
      }), t3.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: e2
      });
    }).on("click", function(e2, n2) {
      t3.services.events.dispatchEvent(_E.Bar.BAR_CLICK, {
        event: e2,
        element: D3(this),
        datum: n2
      });
    }).on("mouseout", function(e2, n2) {
      const s2 = D3(this);
      s2.classed("hovered", false), t3.services.events.dispatchEvent(_E.Bar.BAR_MOUSEOUT, {
        event: e2,
        element: s2,
        datum: n2
      }), t3.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        hoveredElement: s2
      });
    });
  }
  destroy() {
    this.parent.selectAll("path.bar").on("mouseover", null).on("mousemove", null).on("mouseout", null);
    const t3 = this.services.events;
    t3.removeEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.removeEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
};
var Wm2 = class extends sp {
  constructor() {
    super(...arguments), this.type = "skeleton-lines";
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = true) {
    const e2 = rt(this.getOptions(), "data", "loading"), n2 = !rt(this.getOptions(), "grid", "x", "enabled") && !rt(this.getOptions(), "grid", "y", "enabled") && !rt(this.getOptions(), "axes", "bottom", "visible") && !rt(this.getOptions(), "axes", "left", "visible");
    e2 && !n2 ? super.renderGridSkeleton(e2) : e2 && n2 ? this.renderSparklineSkeleton(e2) : this.removeSkeleton();
  }
  renderSparklineSkeleton(t3) {
    this.setScales(), this.drawBackdrop(t3), this.drawSparkline(t3), this.updateBackdropStyle(), t3 && this.setShimmerEffect("shimmer-lines");
  }
  drawSparkline(t3) {
    const e2 = this.backdrop.attr("width"), n2 = [100], s2 = ve2.appendOrSelect(this.backdrop, "g.y.skeleton"), a2 = s2.selectAll("line").data(n2);
    a2.enter().append("line").merge(a2).attr("x1", 0).attr("x2", e2).attr("y1", (r3) => r3).attr("y2", (r3) => r3), s2.selectAll("line").classed("shimmer-effect-lines", t3).classed("empty-state-lines", !t3).style(
      "stroke",
      t3 ? `url(#${this.services.domUtils.generateElementIDString("shimmer-lines")})` : null
    );
  }
  updateBackdropStyle() {
    const t3 = this.parent;
    this.backdrop = ve2.appendOrSelect(t3, "svg.chart-skeleton.DAII"), ve2.appendOrSelect(this.backdrop, "rect.chart-skeleton-backdrop").classed("shimmer-effect-lines", false).classed("shimmer-effect-sparkline", true).style("stroke", null);
  }
};
var Xm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "area-stacked", this.renderType = D.SVG, this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail, n2 = this.getOptions(), { groupMapsTo: s2 } = n2.data;
      this.parent.selectAll("path.area").transition("legend-hover-area").call(
        (a2) => this.services.transitions.setupTransition({
          transition: a2,
          name: "legend-hover-area"
        })
      ).attr("opacity", (a2) => rt(a2, 0, s2) !== e2.datum().name ? _m.opacity.unselected : _m.opacity.selected);
    }, this.handleLegendMouseOut = () => {
      this.parent.selectAll("path.area").transition("legend-mouseout-area").call(
        (t3) => this.services.transitions.setupTransition({
          transition: t3,
          name: "legend-mouseout-area"
        })
      ).attr("opacity", _m.opacity.selected);
    };
  }
  init() {
    const t3 = this.services.events;
    t3.addEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  render(t3 = true) {
    const e2 = this.getComponentContainer({
      ariaLabel: "stacked area graphs",
      withinChartClip: true
    }), n2 = this, s2 = this.getOptions(), { groupMapsTo: a2 } = s2.data, r3 = Object.keys(s2.axes).some((f2) => s2.axes[f2].percentage), o2 = this.model.getStackedData({
      percentage: r3,
      groups: this.configs.groups
    }), c2 = rt(o2, 0, 0), l2 = this.services.cartesianScales.getDomainAxisPosition({ datum: c2 }), h3 = this.services.cartesianScales.getRangeAxisPosition({ datum: c2 }), d2 = this.services.cartesianScales.getScaleByPosition(h3), u3 = e2.selectAll("path.area").data(o2, (f2) => rt(f2, 0, a2));
    this.areaGenerator = ji3().x(
      (f2) => this.services.cartesianScales.getValueThroughAxisPosition(
        l2,
        f2.data.sharedStackKey
      )
    ).y0((f2) => d2(f2[0])).y1((f2) => d2(f2[1])).curve(this.services.curves.getD3Curve()), u3.exit().attr("opacity", 0).remove(), u3.enter().append("path").attr("opacity", 0).merge(u3).data(o2, (f2) => rt(f2, 0, a2)).attr("class", "area").attr(
      "class",
      (f2) => this.model.getColorClassName({
        classNameTypes: [h.FILL],
        dataGroupName: rt(f2, 0, a2),
        originalClassName: "area"
      })
    ).style("fill", (f2) => n2.model.getFillColor(rt(f2, 0, a2), null, f2)).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-roledescription", "area").attr("aria-label", (f2) => rt(f2, 0, a2)).transition().call(
      (f2) => this.services.transitions.setupTransition({
        transition: f2,
        name: "area-update-enter",
        animate: t3
      })
    ).attr("opacity", _m.opacity.selected).attr("d", this.areaGenerator);
  }
};
var Ym2 = class extends ta2 {
  constructor() {
    super(...arguments), this.type = "stacked-bar", this.renderType = D.SVG, this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail, { groupMapsTo: n2 } = this.model.getOptions().data;
      this.parent.selectAll("path.bar").transition("legend-hover-bar").call(
        (s2) => this.services.transitions.setupTransition({
          transition: s2,
          name: "legend-hover-bar"
        })
      ).attr("opacity", (s2) => s2[n2] !== e2.datum().name ? 0.3 : 1);
    }, this.handleLegendMouseOut = () => {
      this.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(
        (t3) => this.services.transitions.setupTransition({
          transition: t3,
          name: "legend-mouseout-bar"
        })
      ).attr("opacity", 1);
    };
  }
  init() {
    const t3 = this.services.events;
    t3.addEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  render(t3) {
    const e2 = this.getComponentContainer({ ariaLabel: "stacked bar graphs", withinChartClip: true }), n2 = this.getOptions(), { groupMapsTo: s2 } = n2.data, a2 = this.model.getStackedData({
      groups: this.configs.groups,
      divergent: true
    }), r3 = this.model.getActiveDataGroupNames(), o2 = e2.selectAll("g.bars").data(a2, (l2) => rt(l2, 0, s2));
    o2.exit().attr("opacity", 0).remove(), o2.enter().append("g").classed("bars", true).attr("role", r2.GROUP).attr("data-name", "bars");
    const c2 = e2.selectAll("g.bars").selectAll("path.bar").data(
      (l2) => l2,
      (l2) => l2.data.sharedStackKey
    );
    c2.exit().remove(), c2.enter().append("path").merge(c2).classed("bar", true).transition().call(
      (l2) => this.services.transitions.setupTransition({
        transition: l2,
        name: "bar-update-enter",
        animate: t3
      })
    ).attr(
      "class",
      (l2) => this.model.getColorClassName({
        classNameTypes: [h.FILL],
        dataGroupName: l2[s2],
        originalClassName: "bar"
      })
    ).style(
      "fill",
      (l2) => this.model.getFillColor(l2[s2], l2.data.sharedStackKey, l2.data)
    ).attr("d", (l2) => {
      const h3 = l2.data.sharedStackKey, d2 = this.getBarWidth(), u3 = this.services.cartesianScales.getDomainValue(h3) - d2 / 2, p3 = u3 + d2, f2 = this.services.cartesianScales.getRangeValue(l2[0]);
      let g3 = this.services.cartesianScales.getRangeValue(l2[1]);
      if (!this.isOutsideZoomedDomain(u3, p3)) {
        if (Math.abs(g3 - f2) > 0 && Math.abs(g3 - f2) > n2.bars.dividerSize) {
          const m3 = l2[0] < 0 && l2[1] <= 0;
          m3 && r3.length > 1 ? this.services.cartesianScales.getOrientation() === w.VERTICAL ? g3 += l2[1] === 0 ? 2 : 1 : g3 -= 1 : m3 || (this.services.cartesianScales.getOrientation() === w.VERTICAL ? g3 += 1 : g3 -= 1);
        }
        return K0(
          { x0: u3, x1: p3, y0: f2, y1: g3 },
          this.services.cartesianScales.getOrientation()
        );
      }
    }).attr("opacity", 1).attr("role", r2.GRAPHICS_SYMBOL).attr("aria-roledescription", "bar").attr("aria-label", (l2) => l2[1] - l2[0]), this.addEventListeners();
  }
  addEventListeners() {
    const t3 = this.getOptions(), { groupMapsTo: e2 } = t3.data, n2 = this;
    this.parent.selectAll("path.bar").on("mouseover", function(s2, a2) {
      const r3 = D3(this);
      r3.classed("hovered", true), n2.services.events.dispatchEvent(_E.Bar.BAR_MOUSEOVER, {
        event: s2,
        element: r3,
        datum: a2
      });
      let c2 = n2.model.getDisplayData(n2.configs.groups).find((l2) => {
        const h3 = n2.services.cartesianScales.getDomainIdentifier(l2), d2 = n2.services.cartesianScales.getRangeIdentifier(l2);
        return l2[d2] === a2.data[a2[e2]] && l2[h3].toString() === a2.data.sharedStackKey && l2[e2] === a2[e2];
      });
      if (c2 === void 0) {
        const l2 = n2.services.cartesianScales.getDomainIdentifier(), h3 = n2.services.cartesianScales.getRangeIdentifier();
        c2 = {
          [l2]: a2.data.sharedStackKey,
          [h3]: a2.data[a2[e2]],
          [e2]: a2[e2]
        };
      }
      n2.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: s2,
        hoveredElement: r3,
        data: [c2]
      });
    }).on("mousemove", function(s2, a2) {
      const r3 = D3(this);
      n2.services.events.dispatchEvent(_E.Bar.BAR_MOUSEMOVE, {
        event: s2,
        element: r3,
        datum: a2
      }), n2.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: s2
      });
    }).on("click", function(s2, a2) {
      n2.services.events.dispatchEvent(_E.Bar.BAR_CLICK, {
        event: s2,
        element: D3(this),
        datum: a2
      });
    }).on("mouseout", function(s2, a2) {
      const r3 = D3(this);
      r3.classed("hovered", false), n2.services.events.dispatchEvent(_E.Bar.BAR_MOUSEOUT, {
        event: s2,
        element: r3,
        datum: a2
      }), n2.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        hoveredElement: r3
      });
    });
  }
  getBarWidth() {
    const t3 = this.getOptions();
    if (rt(t3, "bars", "width"))
      return t3.bars.width;
    const e2 = this.services.cartesianScales.getMainXScale(), n2 = ve2.getSVGElementSize(this.parent, {
      useAttrs: true
    }).width, s2 = this.model.getStackKeys().length, a2 = rt(t3, "bars", "spacingFactor");
    return e2.step ? Math.min(t3.bars.maxWidth, e2.step() / 2) : Math.min(t3.bars.maxWidth, n2 * a2 / s2);
  }
  destroy() {
    this.parent.selectAll("path.bar").on("mouseover", null).on("mousemove", null).on("mouseout", null);
    const t3 = this.services.events;
    t3.removeEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.removeEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
};
var Zm2 = class extends Ji2 {
  constructor() {
    super(...arguments), this.type = "scatter-stacked", this.renderType = D.SVG;
  }
  render(t3) {
    if (!rt(this.getOptions(), "points", "enabled"))
      return;
    const n2 = this.getComponentContainer({ ariaLabel: "scatter points", withinChartClip: true }), s2 = this.getOptions(), { groupMapsTo: a2 } = s2.data, r3 = Object.keys(s2.axes).some((p3) => s2.axes[p3].percentage), o2 = this.model.getStackedData({
      groups: this.configs.groups,
      percentage: r3
    }), c2 = n2.selectAll("g.dots").data(o2, (p3) => rt(p3, 0, a2));
    c2.exit().attr("opacity", 0).remove();
    const h3 = c2.enter().append("g").classed("dots", true).attr("role", r2.GROUP).merge(c2).selectAll("circle.dot").data((p3) => p3);
    h3.exit().attr("opacity", 0).remove();
    const u3 = h3.enter().append("circle").classed("dot", true).attr("opacity", 0).merge(h3).datum((p3) => {
      const f2 = p3[a2], g3 = this.services.cartesianScales.getDomainIdentifier(p3), m3 = this.services.cartesianScales.getRangeIdentifier(p3);
      return {
        [a2]: f2,
        [g3]: p3.data.sharedStackKey,
        [m3]: p3[1]
      };
    });
    this.styleCircles(u3, t3), this.addEventListeners();
  }
  getTooltipData(t3, e2) {
    const n2 = this.getOptions(), { groupMapsTo: s2 } = n2.data, a2 = Object.keys(n2.axes).some((c2) => n2.axes[c2].percentage), r3 = this.model.getStackedData({
      groups: this.configs.groups,
      percentage: a2
    }), o2 = [];
    return r3.forEach((c2, l2) => {
      c2.forEach((h3, d2) => {
        const u3 = h3[s2], p3 = h3.data.sharedStackKey;
        let f2 = h3.data[u3];
        const g3 = h3[1], m3 = this.services.cartesianScales.getDomainIdentifier(h3), y4 = this.services.cartesianScales.getRangeIdentifier(h3);
        f2 != null && t3 === this.services.cartesianScales.getDomainValue(p3) && e2 === this.services.cartesianScales.getRangeValue(g3) && (a2 && (f2 = this.model.getStackedData({
          groups: this.configs.groups
        })[l2][d2].data[u3]), f2 !== null && o2.push({
          [s2]: u3,
          [m3]: p3,
          [y4]: f2
        }));
      });
    }), this.model.getDisplayData(this.configs.groups).filter((c2) => {
      const l2 = this.services.cartesianScales.getDomainIdentifier(c2), h3 = this.services.cartesianScales.getRangeIdentifier(c2);
      return o2.find((d2) => d2[s2] == c2[s2] && d2[l2] == c2[l2] && d2[h3] == c2[h3]) !== void 0;
    });
  }
};
var mn3 = 6;
var qm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "tree", this.renderType = D.SVG;
  }
  getLongestLabel(t3) {
    let e2 = "";
    return t3.forEach((n2) => {
      const s2 = n2.children ? this.getLongestLabel(n2.children) : "";
      (s2.length > e2.length || n2.name.length > e2.length) && (e2 = s2.length > n2.name.length ? s2 : n2.name);
    }), e2;
  }
  getMockLabelWidth(t3, e2) {
    const n2 = t3.append("text").attr("dy", "0.31em").attr("x", 0).attr("text-anchor", "end").text(e2), { width: s2 } = ve2.getSVGElementSize(n2.node(), {
      useBBox: true
    });
    return n2.remove(), s2;
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = true) {
    const e2 = this.getComponentContainer({
      ariaLabel: "tree diagram"
    });
    e2.html("");
    const { width: n2, height: s2 } = ve2.getSVGElementSize(this.parent, {
      useAttrs: true
    });
    if (n2 < 1 || s2 < 1)
      return;
    const a2 = this.model.getOptions(), r3 = this.model.getDisplayData(), o2 = rt(a2, "tree", "rootTitle") || "Tree", c2 = this.getMockLabelWidth(e2, o2), l2 = this.getLongestLabel(r3), h3 = this.getMockLabelWidth(e2, l2), d2 = {
      left: c2 > 0 ? c2 + mn3 : 30 - mn3
    }, u3 = Rn2({
      name: o2,
      children: r3
    }), p3 = 10, f2 = n2 / 6, g3 = (b3) => {
      const _4 = u3.descendants().reverse(), k5 = u3.links();
      let G5 = u3, R4 = u3;
      u3.eachBefore((C3) => {
        C3.x < G5.x && (G5 = C3), C3.x > R4.x && (R4 = C3);
      });
      const A2 = R4.x - G5.x, H5 = e2.transition().call(
        (C3) => this.services.transitions.setupTransition({
          transition: C3,
          name: "tree-update-viewbox",
          animate: true
        })
      ).attr("viewBox", [-d2.left, G5.x, n2, A2].join(" ")), N4 = x4.selectAll("g").data(_4, (C3) => C3.id), M4 = this, O3 = N4.enter().append("g").attr("transform", () => `translate(${b3.y0},${b3.x0})`).attr(
        "class",
        (C3) => C3.depth !== 0 && C3.children && C3.children.length > 0 ? "clickable" : null
      ).on("mouseover", function(C3, V5) {
        M4.services.events.dispatchEvent(_E.Tree.NODE_MOUSEOVER, {
          event: C3,
          element: D3(this),
          datum: V5
        });
      }).on("click", function(C3, V5) {
        V5.depth !== 0 && (V5.children = V5.children ? null : V5._children, g3(V5)), M4.services.events.dispatchEvent(_E.Tree.NODE_CLICK, {
          event: C3,
          element: D3(this),
          datum: V5
        });
      }).on("mouseout", function(C3, V5) {
        M4.services.events.dispatchEvent(_E.Tree.NODE_MOUSEOUT, {
          event: C3,
          element: D3(this),
          datum: V5
        });
      });
      O3.append("circle").attr("r", 2.5).attr("class", (C3) => C3._children ? "parent" : "child").attr("stroke-width", 10), O3.append("text").attr("dy", "0.31em").attr("x", (C3) => C3._children ? -6 : mn3).attr("text-anchor", (C3) => C3._children ? "end" : "start").text((C3) => C3.data.name).clone(true).attr("class", "text-stroke").lower(), N4.merge(O3).transition(H5).attr("transform", (C3) => `translate(${C3.y},${C3.x})`).attr("fill-opacity", 1).attr("stroke-opacity", 1), N4.exit().transition(H5).remove().attr("transform", () => `translate(${b3.y},${b3.x})`).attr("fill-opacity", 0).attr("stroke-opacity", 0);
      const P3 = E.selectAll("path").data(k5, (C3) => C3.target.id), $4 = P3.enter().append("path").attr("d", () => {
        const C3 = { x: b3.x0, y: b3.y0 };
        return v4({ source: C3, target: C3 });
      });
      P3.merge($4).transition(H5).attr("d", v4), P3.exit().transition(H5).remove().attr("d", () => {
        const C3 = { x: b3.x, y: b3.y };
        return v4({ source: C3, target: C3 });
      }), u3.eachBefore((C3) => {
        C3.x0 = C3.x, C3.y0 = C3.y;
      });
    }, m3 = u3.descendants(), y4 = m3[m3.length - 1].depth, S3 = rt(a2, "tree", "type") === X.DENDROGRAM ? Qu2().size([
      s2,
      n2 - h3 - y4 * mn3 - c2
    ]) : Hh2().nodeSize([p3, f2]).size([
      s2,
      n2 - h3 - y4 * mn3 - c2
    ]), v4 = cd2().x((b3) => b3.y).y((b3) => b3.x);
    u3.x0 = f2 / 2, u3.y0 = 0, u3.descendants().forEach((b3, _4) => {
      b3.id = _4, b3._children = b3.children;
    }), S3(u3), e2.attr("viewBox", [-d2.left, -0, n2, p3]).style("user-select", "none");
    const E = e2.append("g").attr("class", "links"), x4 = e2.append("g").attr("class", "nodes");
    g3(u3);
  }
};
var fp = "#000000";
var gp = "#ffffff";
var mp = "#fcf4d6";
var vp = "#fddc69";
var yp = "#f1c21b";
var Ep = "#d2a106";
var xp = "#b28600";
var Sp = "#8e6a00";
var Tp = "#684e00";
var bp = "#483700";
var Op = "#302400";
var Lp = "#1c1500";
var Ap = {
  10: mp,
  20: vp,
  30: yp,
  40: Ep,
  50: xp,
  60: Sp,
  70: Tp,
  80: bp,
  90: Op,
  100: Lp
};
var Mp = "#fff2e8";
var wp = "#ffd9be";
var Cp = "#ffb784";
var kp = "#ff832b";
var _p = "#eb6200";
var Ip = "#ba4e00";
var Rp = "#8a3800";
var Dp = "#5e2900";
var Np = "#3e1a00";
var Pp = "#231000";
var $p = {
  10: Mp,
  20: wp,
  30: Cp,
  40: kp,
  50: _p,
  60: Ip,
  70: Rp,
  80: Dp,
  90: Np,
  100: Pp
};
var Vp = "#fff1f1";
var Gp = "#ffd7d9";
var Hp = "#ffb3b8";
var Bp = "#ff8389";
var zp = "#fa4d56";
var Up = "#da1e28";
var Fp = "#a2191f";
var Wp = "#750e13";
var Xp = "#520408";
var Yp = "#2d0709";
var Zp = {
  10: Vp,
  20: Gp,
  30: Hp,
  40: Bp,
  50: zp,
  60: Up,
  70: Fp,
  80: Wp,
  90: Xp,
  100: Yp
};
var qp = "#fff0f7";
var jp = "#ffd6e8";
var Kp = "#ffafd2";
var Jp = "#ff7eb6";
var Qp = "#ee5396";
var tf2 = "#d02670";
var ef2 = "#9f1853";
var nf2 = "#740937";
var sf2 = "#510224";
var af2 = "#2a0a18";
var rf2 = {
  10: qp,
  20: jp,
  30: Kp,
  40: Jp,
  50: Qp,
  60: tf2,
  70: ef2,
  80: nf2,
  90: sf2,
  100: af2
};
var of2 = "#f6f2ff";
var lf2 = "#e8daff";
var cf2 = "#d4bbff";
var uf2 = "#be95ff";
var hf2 = "#a56eff";
var df2 = "#8a3ffc";
var pf2 = "#6929c4";
var ff2 = "#491d8b";
var gf2 = "#31135e";
var mf2 = "#1c0f30";
var vf2 = {
  10: of2,
  20: lf2,
  30: cf2,
  40: uf2,
  50: hf2,
  60: df2,
  70: pf2,
  80: ff2,
  90: gf2,
  100: mf2
};
var yf2 = "#edf5ff";
var Ef2 = "#d0e2ff";
var xf2 = "#a6c8ff";
var Sf2 = "#78a9ff";
var Tf2 = "#4589ff";
var bf2 = "#0f62fe";
var Of2 = "#0043ce";
var Lf2 = "#002d9c";
var Af2 = "#001d6c";
var Mf2 = "#001141";
var wf2 = {
  10: yf2,
  20: Ef2,
  30: xf2,
  40: Sf2,
  50: Tf2,
  60: bf2,
  70: Of2,
  80: Lf2,
  90: Af2,
  100: Mf2
};
var Cf2 = "#e5f6ff";
var kf2 = "#bae6ff";
var _f2 = "#82cfff";
var If2 = "#33b1ff";
var Rf2 = "#1192e8";
var Df2 = "#0072c3";
var Nf2 = "#00539a";
var Pf2 = "#003a6d";
var $f2 = "#012749";
var Vf2 = "#061727";
var Gf2 = {
  10: Cf2,
  20: kf2,
  30: _f2,
  40: If2,
  50: Rf2,
  60: Df2,
  70: Nf2,
  80: Pf2,
  90: $f2,
  100: Vf2
};
var Hf2 = "#d9fbfb";
var Bf2 = "#9ef0f0";
var zf2 = "#3ddbd9";
var Uf2 = "#08bdba";
var Ff2 = "#009d9a";
var Wf2 = "#007d79";
var Xf2 = "#005d5d";
var Yf2 = "#004144";
var Zf2 = "#022b30";
var qf2 = "#081a1c";
var jf2 = {
  10: Hf2,
  20: Bf2,
  30: zf2,
  40: Uf2,
  50: Ff2,
  60: Wf2,
  70: Xf2,
  80: Yf2,
  90: Zf2,
  100: qf2
};
var Kf2 = "#defbe6";
var Jf2 = "#a7f0ba";
var Qf2 = "#6fdc8c";
var tg2 = "#42be65";
var eg2 = "#24a148";
var ng2 = "#198038";
var sg2 = "#0e6027";
var ig2 = "#044317";
var ag2 = "#022d0d";
var rg2 = "#071908";
var og2 = {
  10: Kf2,
  20: Jf2,
  30: Qf2,
  40: tg2,
  50: eg2,
  60: ng2,
  70: sg2,
  80: ig2,
  90: ag2,
  100: rg2
};
var lg2 = "#f2f4f8";
var cg2 = "#dde1e6";
var ug2 = "#c1c7cd";
var hg2 = "#a2a9b0";
var dg2 = "#878d96";
var pg2 = "#697077";
var fg2 = "#4d5358";
var gg2 = "#343a3f";
var mg2 = "#21272a";
var vg2 = "#121619";
var yg2 = {
  10: lg2,
  20: cg2,
  30: ug2,
  40: hg2,
  50: dg2,
  60: pg2,
  70: fg2,
  80: gg2,
  90: mg2,
  100: vg2
};
var Eg2 = "#f4f4f4";
var xg2 = "#e0e0e0";
var Sg2 = "#c6c6c6";
var Tg2 = "#a8a8a8";
var bg2 = "#8d8d8d";
var Og2 = "#6f6f6f";
var Lg2 = "#525252";
var Ag2 = "#393939";
var Mg2 = "#262626";
var wg2 = "#161616";
var Cg2 = {
  10: Eg2,
  20: xg2,
  30: Sg2,
  40: Tg2,
  50: bg2,
  60: Og2,
  70: Lg2,
  80: Ag2,
  90: Mg2,
  100: wg2
};
var kg2 = "#f7f3f2";
var _g2 = "#e5e0df";
var Ig2 = "#cac5c4";
var Rg2 = "#ada8a8";
var Dg2 = "#8f8b8b";
var Ng2 = "#726e6e";
var Pg2 = "#565151";
var $g2 = "#3c3838";
var Vg2 = "#272525";
var Gg2 = "#171414";
var Hg2 = {
  10: kg2,
  20: _g2,
  30: Ig2,
  40: Rg2,
  50: Dg2,
  60: Ng2,
  70: Pg2,
  80: $g2,
  90: Vg2,
  100: Gg2
};
var Pr3 = {
  black: {
    100: fp
  },
  blue: wf2,
  coolGray: yg2,
  cyan: Gf2,
  gray: Cg2,
  green: og2,
  magenta: rf2,
  orange: $p,
  purple: vf2,
  red: Zp,
  teal: jf2,
  warmGray: Hg2,
  white: {
    0: gp
  },
  yellow: Ap
};
var Bg2 = (i10) => {
  if (!i10)
    return null;
  for (const t3 of Object.keys(Pr3)) {
    const e2 = Pr3[t3];
    for (const n2 of Object.keys(e2))
      if (e2[+n2] === i10)
        return n2;
  }
  return null;
};
var $r3 = function(i10) {
  const t3 = D3(this.parentNode).select("rect.leaf"), e2 = i10.backgroundColor ?? getComputedStyle(t3.node(), null).getPropertyValue("fill"), n2 = at(e2);
  let s2;
  if (n2 && (s2 = Bg2(n2 ? n2.hex() : null)), s2 == null) {
    const a2 = Sd(n2).l;
    s2 = Math.abs(a2 * 100 - 100);
  }
  return s2 > 50 ? "white" : "black";
};
var zg2 = 0;
var jm2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "treemap", this.renderType = D.SVG, this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail;
      this.parent.selectAll("g[data-name='leaf']").transition("legend-hover-treemap").call(
        (n2) => this.services.transitions.setupTransition({
          transition: n2,
          name: "legend-hover-treemap"
        })
      ).attr(
        "opacity",
        (n2) => n2.parent.data.name === e2.datum().name ? 1 : 0.3
      );
    }, this.handleLegendMouseOut = () => {
      this.parent.selectAll("g[data-name='leaf']").transition("legend-mouseout-treemap").call(
        (t3) => this.services.transitions.setupTransition({
          transition: t3,
          name: "legend-mouseout-treemap"
        })
      ).attr("opacity", 1);
    };
  }
  init() {
    const { events: t3 } = this.services;
    t3.addEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  render(t3 = true) {
    const e2 = this.getComponentContainer({
      ariaLabel: "treemap"
    });
    this.model.getData();
    const n2 = this.model.getDisplayData(), s2 = this.model.getOptions(), a2 = rt(window, "location"), { width: r3, height: o2 } = ve2.getSVGElementSize(e2, {
      useAttrs: true
    }), c2 = Rn2({
      name: s2.title || "Treemap",
      children: n2
    }).sum((g3) => g3.value).sort((g3, m3) => m3.value - g3.value), l2 = Wh2().size([r3, o2]).paddingInner(1).paddingOuter(0).round(true)(
      c2
    ), h3 = e2.selectAll("g[data-name='leaf']").data(l2.leaves(), (g3) => g3.data.name);
    h3.exit().attr("opacity", 0).remove();
    const u3 = h3.enter().append("g").attr("data-name", "leaf").attr("data-uid", () => zg2++).merge(h3);
    u3.attr("data-name", "leaf").transition().call(
      (g3) => this.services.transitions.setupTransition({
        transition: g3,
        name: "treemap-group-update",
        animate: t3
      })
    ).attr("transform", (g3) => `translate(${g3.x0},${g3.y0})`);
    const p3 = u3.selectAll("rect.leaf").data((g3) => [g3]);
    p3.exit().attr("width", 0).attr("height", 0).remove(), p3.enter().append("rect").classed("leaf", true).merge(p3).attr("width", 0).attr("height", 0).attr("id", function() {
      const g3 = D3(this.parentNode).attr("data-uid");
      return `${s2.style.prefix}-leaf-${g3}`;
    }).attr("class", (g3) => {
      for (; g3.depth > 1; ) g3 = g3.parent;
      return this.model.getColorClassName({
        classNameTypes: [h.FILL],
        dataGroupName: g3.data.name,
        originalClassName: "leaf"
      });
    }).transition().call(
      (g3) => this.services.transitions.setupTransition({
        transition: g3,
        name: "treemap-leaf-update-enter",
        animate: t3
      })
    ).attr("width", (g3) => g3.x1 - g3.x0).attr("height", (g3) => g3.y1 - g3.y0).style("fill", (g3) => {
      for (; g3.depth > 1; ) g3 = g3.parent;
      return this.model.getFillColor(g3.data.name, null, g3.data);
    }), u3.selectAll("clipPath").data(
      (g3) => g3.data.showLabel !== true ? [] : [1],
      (g3) => g3
    ).join(
      (g3) => g3.append("clipPath").attr("id", function() {
        const m3 = D3(this.parentNode).attr("data-uid");
        return `${s2.style.prefix}-clip-${m3}`;
      }).append("use").attr("xlink:href", function() {
        const m3 = D3(this.parentNode.parentNode).attr("data-uid"), y4 = `${s2.style.prefix}-leaf-${m3}`;
        return new URL(`#${y4}`, a2) + "";
      }),
      // eslint-disable-next-line @typescript-eslint/ban-ts-comment
      // @ts-ignore
      // eslint-disable-next-line @typescript-eslint/no-unused-vars
      (g3) => null,
      (g3) => g3.remove()
    ), u3.selectAll("text").data(
      (g3) => {
        if (g3.data.showLabel !== true)
          return [];
        let m3 = g3;
        for (; m3.depth > 1; ) m3 = m3.parent;
        return [
          {
            text: g3.data.name,
            backgroundColor: this.model.getFillColor(m3.data.name)
          }
        ];
      },
      (g3) => g3
    ).join(
      (g3) => {
        const m3 = g3.append("text").text((y4) => y4.text).style("fill", $r3).attr("x", 7).attr("y", 18);
        return a2 && m3.attr("clip-path", function() {
          const y4 = D3(this.parentNode).attr("data-uid"), S3 = `${s2.style.prefix}-clip-${y4}`;
          return `url(${new URL(`#${S3}`, a2) + ""})`;
        }), m3;
      },
      (g3) => g3.text((m3) => m3.text).style("fill", $r3),
      (g3) => g3.remove()
    ), this.addEventListeners();
  }
  addEventListeners() {
    const t3 = this;
    this.parent.selectAll("rect.leaf").on("mouseover", function(e2, n2) {
      const s2 = D3(this);
      let a2 = getComputedStyle(this, null).getPropertyValue("fill"), r3 = n2;
      for (; r3.depth > 1; ) r3 = r3.parent;
      s2.transition("graph_element_mouseover_fill_update").call(
        (o2) => t3.services.transitions.setupTransition({
          transition: o2,
          name: "graph_element_mouseover_fill_update"
        })
      ).style("fill", (o2) => {
        const c2 = t3.model.getFillColor(o2.parent.data.name, null, o2.data);
        return c2 && (a2 = c2), at(a2).darker(0.7).toString();
      }), t3.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: e2,
        hoveredElement: s2,
        items: [
          {
            color: a2,
            label: r3.data.name,
            bold: true
          },
          {
            label: n2.data.name,
            value: n2.data.value
          }
        ]
      }), t3.services.events.dispatchEvent(_E.Treemap.LEAF_MOUSEOVER, {
        event: e2,
        element: s2,
        datum: n2
      });
    }).on("mousemove", function(e2, n2) {
      const s2 = D3(this);
      t3.services.events.dispatchEvent(_E.Treemap.LEAF_MOUSEMOVE, {
        event: e2,
        element: s2,
        datum: n2
      }), t3.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: e2
      });
    }).on("click", function(e2, n2) {
      t3.services.events.dispatchEvent(_E.Treemap.LEAF_CLICK, {
        event: e2,
        element: D3(this),
        datum: n2
      });
    }).on("mouseout", function(e2, n2) {
      const s2 = D3(this);
      s2.classed("hovered", false);
      let a2 = n2;
      for (; a2.depth > 1; ) a2 = a2.parent;
      s2.transition().call(
        (r3) => t3.services.transitions.setupTransition({
          transition: r3,
          name: "graph_element_mouseout_fill_update"
        })
      ).style("fill", (r3) => t3.model.getFillColor(r3.parent.data.name, null, r3.data)), t3.services.events.dispatchEvent(_E.Treemap.LEAF_MOUSEOUT, {
        event: e2,
        element: s2,
        datum: n2
      }), t3.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        hoveredElement: s2
      });
    });
  }
};
function Ug2(i10) {
  return i10 && i10.__esModule && Object.prototype.hasOwnProperty.call(i10, "default") ? i10.default : i10;
}
function Fg2(i10) {
  if (i10.__esModule) return i10;
  var t3 = i10.default;
  if (typeof t3 == "function") {
    var e2 = function n2() {
      return this instanceof n2 ? Reflect.construct(t3, arguments, this.constructor) : t3.apply(this, arguments);
    };
    e2.prototype = t3.prototype;
  } else e2 = {};
  return Object.defineProperty(e2, "__esModule", { value: true }), Object.keys(i10).forEach(function(n2) {
    var s2 = Object.getOwnPropertyDescriptor(i10, n2);
    Object.defineProperty(e2, n2, s2.get ? s2 : {
      enumerable: true,
      get: function() {
        return i10[n2];
      }
    });
  }), e2;
}
var Wg2 = { value: function() {
} };
function jo2() {
  for (var i10 = 0, t3 = arguments.length, e2 = {}, n2; i10 < t3; ++i10) {
    if (!(n2 = arguments[i10] + "") || n2 in e2 || /[\s.]/.test(n2)) throw new Error("illegal type: " + n2);
    e2[n2] = [];
  }
  return new us2(e2);
}
function us2(i10) {
  this._ = i10;
}
function Xg2(i10, t3) {
  return i10.trim().split(/^|\s+/).map(function(e2) {
    var n2 = "", s2 = e2.indexOf(".");
    if (s2 >= 0 && (n2 = e2.slice(s2 + 1), e2 = e2.slice(0, s2)), e2 && !t3.hasOwnProperty(e2)) throw new Error("unknown type: " + e2);
    return { type: e2, name: n2 };
  });
}
us2.prototype = jo2.prototype = {
  constructor: us2,
  on: function(i10, t3) {
    var e2 = this._, n2 = Xg2(i10 + "", e2), s2, a2 = -1, r3 = n2.length;
    if (arguments.length < 2) {
      for (; ++a2 < r3; ) if ((s2 = (i10 = n2[a2]).type) && (s2 = Yg2(e2[s2], i10.name))) return s2;
      return;
    }
    if (t3 != null && typeof t3 != "function") throw new Error("invalid callback: " + t3);
    for (; ++a2 < r3; )
      if (s2 = (i10 = n2[a2]).type) e2[s2] = Vr3(e2[s2], i10.name, t3);
      else if (t3 == null) for (s2 in e2) e2[s2] = Vr3(e2[s2], i10.name, null);
    return this;
  },
  copy: function() {
    var i10 = {}, t3 = this._;
    for (var e2 in t3) i10[e2] = t3[e2].slice();
    return new us2(i10);
  },
  call: function(i10, t3) {
    if ((s2 = arguments.length - 2) > 0) for (var e2 = new Array(s2), n2 = 0, s2, a2; n2 < s2; ++n2) e2[n2] = arguments[n2 + 2];
    if (!this._.hasOwnProperty(i10)) throw new Error("unknown type: " + i10);
    for (a2 = this._[i10], n2 = 0, s2 = a2.length; n2 < s2; ++n2) a2[n2].value.apply(t3, e2);
  },
  apply: function(i10, t3, e2) {
    if (!this._.hasOwnProperty(i10)) throw new Error("unknown type: " + i10);
    for (var n2 = this._[i10], s2 = 0, a2 = n2.length; s2 < a2; ++s2) n2[s2].value.apply(t3, e2);
  }
};
function Yg2(i10, t3) {
  for (var e2 = 0, n2 = i10.length, s2; e2 < n2; ++e2)
    if ((s2 = i10[e2]).name === t3)
      return s2.value;
}
function Vr3(i10, t3, e2) {
  for (var n2 = 0, s2 = i10.length; n2 < s2; ++n2)
    if (i10[n2].name === t3) {
      i10[n2] = Wg2, i10 = i10.slice(0, n2).concat(i10.slice(n2 + 1));
      break;
    }
  return e2 != null && i10.push({ name: t3, value: e2 }), i10;
}
var Zg2 = Object.freeze(Object.defineProperty({
  __proto__: null,
  dispatch: jo2
}, Symbol.toStringTag, { value: "Module" }));
var qg2 = Fg2(Zg2);
var ci3;
var Gr3;
function jg2() {
  if (Gr3) return ci3;
  Gr3 = 1;
  const i10 = qg2.dispatch, t3 = Math.PI / 180, e2 = {
    archimedean: g3,
    rectangular: m3
  }, n2 = 64, s2 = 2048;
  ci3 = function() {
    var E = [256, 256], x4 = a2, b3 = r3, _4 = c2, k5 = o2, G5 = o2, R4 = l2, A2 = h3, H5 = g3, N4 = [], M4 = 1 / 0, O3 = i10("word", "end"), P3 = null, $4 = Math.random, C3 = {}, V5 = S3;
    C3.canvas = function(F4) {
      return arguments.length ? (V5 = v4(F4), C3) : V5;
    }, C3.start = function() {
      var F4 = q4(V5()), Z5 = y4((E[0] >> 5) * E[1]), rt5 = null, j5 = N4.length, Y6 = -1, K5 = [], ot5 = N4.map(function(st4, it5) {
        return st4.text = x4.call(this, st4, it5), st4.font = b3.call(this, st4, it5), st4.style = k5.call(this, st4, it5), st4.weight = G5.call(this, st4, it5), st4.rotate = R4.call(this, st4, it5), st4.size = ~~_4.call(this, st4, it5), st4.padding = A2.call(this, st4, it5), st4;
      }).sort(function(st4, it5) {
        return it5.size - st4.size;
      });
      return P3 && clearInterval(P3), P3 = setInterval(ct5, 0), ct5(), C3;
      function ct5() {
        for (var st4 = Date.now(); Date.now() - st4 < M4 && ++Y6 < j5 && P3; ) {
          var it5 = ot5[Y6];
          it5.x = E[0] * ($4() + 0.5) >> 1, it5.y = E[1] * ($4() + 0.5) >> 1, d2(F4, it5, ot5, Y6), it5.hasText && X6(Z5, it5, rt5) && (K5.push(it5), O3.call("word", C3, it5), rt5 ? p3(rt5, it5) : rt5 = [{ x: it5.x + it5.x0, y: it5.y + it5.y0 }, { x: it5.x + it5.x1, y: it5.y + it5.y1 }], it5.x -= E[0] >> 1, it5.y -= E[1] >> 1);
        }
        Y6 >= j5 && (C3.stop(), O3.call("end", C3, K5, rt5));
      }
    }, C3.stop = function() {
      P3 && (clearInterval(P3), P3 = null);
      for (const F4 of N4)
        delete F4.sprite;
      return C3;
    };
    function q4(F4) {
      const Z5 = F4.getContext("2d", { willReadFrequently: true });
      F4.width = F4.height = 1;
      const rt5 = Math.sqrt(Z5.getImageData(0, 0, 1, 1).data.length >> 2);
      return F4.width = (n2 << 5) / rt5, F4.height = s2 / rt5, Z5.fillStyle = Z5.strokeStyle = "red", { context: Z5, ratio: rt5 };
    }
    function X6(F4, Z5, rt5) {
      E[0], E[1];
      for (var j5 = Z5.x, Y6 = Z5.y, K5 = Math.sqrt(E[0] * E[0] + E[1] * E[1]), ot5 = H5(E), ct5 = $4() < 0.5 ? 1 : -1, st4 = -ct5, it5, B5, z5; (it5 = ot5(st4 += ct5)) && (B5 = ~~it5[0], z5 = ~~it5[1], !(Math.min(Math.abs(B5), Math.abs(z5)) >= K5)); )
        if (Z5.x = j5 + B5, Z5.y = Y6 + z5, !(Z5.x + Z5.x0 < 0 || Z5.y + Z5.y0 < 0 || Z5.x + Z5.x1 > E[0] || Z5.y + Z5.y1 > E[1]) && (!rt5 || f2(Z5, rt5)) && !u3(Z5, F4, E[0])) {
          for (var U3 = Z5.sprite, Mt4 = Z5.width >> 5, Se3 = E[0] >> 5, et4 = Z5.x - (Mt4 << 4), yt5 = et4 & 127, Zt = 32 - yt5, Wt2 = Z5.y1 - Z5.y0, rn3 = (Z5.y + Z5.y0) * Se3 + (et4 >> 5), on3, Oe2 = 0; Oe2 < Wt2; Oe2++) {
            on3 = 0;
            for (var ne4 = 0; ne4 <= Mt4; ne4++)
              F4[rn3 + ne4] |= on3 << Zt | (ne4 < Mt4 ? (on3 = U3[Oe2 * Mt4 + ne4]) >>> yt5 : 0);
            rn3 += Se3;
          }
          return true;
        }
      return false;
    }
    return C3.timeInterval = function(F4) {
      return arguments.length ? (M4 = F4 ?? 1 / 0, C3) : M4;
    }, C3.words = function(F4) {
      return arguments.length ? (N4 = F4, C3) : N4;
    }, C3.size = function(F4) {
      return arguments.length ? (E = [+F4[0], +F4[1]], C3) : E;
    }, C3.font = function(F4) {
      return arguments.length ? (b3 = v4(F4), C3) : b3;
    }, C3.fontStyle = function(F4) {
      return arguments.length ? (k5 = v4(F4), C3) : k5;
    }, C3.fontWeight = function(F4) {
      return arguments.length ? (G5 = v4(F4), C3) : G5;
    }, C3.rotate = function(F4) {
      return arguments.length ? (R4 = v4(F4), C3) : R4;
    }, C3.text = function(F4) {
      return arguments.length ? (x4 = v4(F4), C3) : x4;
    }, C3.spiral = function(F4) {
      return arguments.length ? (H5 = e2[F4] || F4, C3) : H5;
    }, C3.fontSize = function(F4) {
      return arguments.length ? (_4 = v4(F4), C3) : _4;
    }, C3.padding = function(F4) {
      return arguments.length ? (A2 = v4(F4), C3) : A2;
    }, C3.random = function(F4) {
      return arguments.length ? ($4 = F4, C3) : $4;
    }, C3.on = function() {
      var F4 = O3.on.apply(O3, arguments);
      return F4 === O3 ? C3 : F4;
    }, C3;
  };
  function a2(E) {
    return E.text;
  }
  function r3() {
    return "serif";
  }
  function o2() {
    return "normal";
  }
  function c2(E) {
    return Math.sqrt(E.value);
  }
  function l2() {
    return (~~(random() * 6) - 3) * 30;
  }
  function h3() {
    return 1;
  }
  function d2(E, x4, b3, _4) {
    if (!x4.sprite) {
      var k5 = E.context, G5 = E.ratio;
      k5.clearRect(0, 0, (n2 << 5) / G5, s2 / G5);
      var R4 = 0, A2 = 0, H5 = 0, N4 = b3.length;
      for (--_4; ++_4 < N4; ) {
        x4 = b3[_4], k5.save(), k5.font = x4.style + " " + x4.weight + " " + ~~((x4.size + 1) / G5) + "px " + x4.font;
        const it5 = k5.measureText(x4.text), B5 = -Math.floor(it5.width / 2);
        let z5 = (it5.width + 1) * G5, U3 = x4.size << 1;
        if (x4.rotate) {
          var M4 = Math.sin(x4.rotate * t3), O3 = Math.cos(x4.rotate * t3), P3 = z5 * O3, $4 = z5 * M4, C3 = U3 * O3, V5 = U3 * M4;
          z5 = Math.max(Math.abs(P3 + V5), Math.abs(P3 - V5)) + 31 >> 5 << 5, U3 = ~~Math.max(Math.abs($4 + C3), Math.abs($4 - C3));
        } else
          z5 = z5 + 31 >> 5 << 5;
        if (U3 > H5 && (H5 = U3), R4 + z5 >= n2 << 5 && (R4 = 0, A2 += H5, H5 = 0), A2 + U3 >= s2) break;
        k5.translate((R4 + (z5 >> 1)) / G5, (A2 + (U3 >> 1)) / G5), x4.rotate && k5.rotate(x4.rotate * t3), k5.fillText(x4.text, B5, 0), x4.padding && (k5.lineWidth = 2 * x4.padding, k5.strokeText(x4.text, B5, 0)), k5.restore(), x4.width = z5, x4.height = U3, x4.xoff = R4, x4.yoff = A2, x4.x1 = z5 >> 1, x4.y1 = U3 >> 1, x4.x0 = -x4.x1, x4.y0 = -x4.y1, x4.hasText = true, R4 += z5;
      }
      for (var q4 = k5.getImageData(0, 0, (n2 << 5) / G5, s2 / G5).data, X6 = []; --_4 >= 0; )
        if (x4 = b3[_4], !!x4.hasText) {
          for (var F4 = x4.width, Z5 = F4 >> 5, rt5 = x4.y1 - x4.y0, j5 = 0; j5 < rt5 * Z5; j5++) X6[j5] = 0;
          if (R4 = x4.xoff, R4 == null) return;
          A2 = x4.yoff;
          for (var Y6 = 0, K5 = -1, ot5 = 0; ot5 < rt5; ot5++) {
            for (var j5 = 0; j5 < F4; j5++) {
              var ct5 = Z5 * ot5 + (j5 >> 5), st4 = q4[(A2 + ot5) * (n2 << 5) + (R4 + j5) << 2] ? 1 << 31 - j5 % 32 : 0;
              X6[ct5] |= st4, Y6 |= st4;
            }
            Y6 ? K5 = ot5 : (x4.y0++, rt5--, ot5--, A2++);
          }
          x4.y1 = x4.y0 + K5, x4.sprite = X6.slice(0, (x4.y1 - x4.y0) * Z5);
        }
    }
  }
  function u3(E, x4, b3) {
    b3 >>= 5;
    for (var _4 = E.sprite, k5 = E.width >> 5, G5 = E.x - (k5 << 4), R4 = G5 & 127, A2 = 32 - R4, H5 = E.y1 - E.y0, N4 = (E.y + E.y0) * b3 + (G5 >> 5), M4, O3 = 0; O3 < H5; O3++) {
      M4 = 0;
      for (var P3 = 0; P3 <= k5; P3++)
        if ((M4 << A2 | (P3 < k5 ? (M4 = _4[O3 * k5 + P3]) >>> R4 : 0)) & x4[N4 + P3]) return true;
      N4 += b3;
    }
    return false;
  }
  function p3(E, x4) {
    var b3 = E[0], _4 = E[1];
    x4.x + x4.x0 < b3.x && (b3.x = x4.x + x4.x0), x4.y + x4.y0 < b3.y && (b3.y = x4.y + x4.y0), x4.x + x4.x1 > _4.x && (_4.x = x4.x + x4.x1), x4.y + x4.y1 > _4.y && (_4.y = x4.y + x4.y1);
  }
  function f2(E, x4) {
    return E.x + E.x1 > x4[0].x && E.x + E.x0 < x4[1].x && E.y + E.y1 > x4[0].y && E.y + E.y0 < x4[1].y;
  }
  function g3(E) {
    var x4 = E[0] / E[1];
    return function(b3) {
      return [x4 * (b3 *= 0.1) * Math.cos(b3), b3 * Math.sin(b3)];
    };
  }
  function m3(E) {
    var x4 = 4, b3 = x4 * E[0] / E[1], _4 = 0, k5 = 0;
    return function(G5) {
      var R4 = G5 < 0 ? -1 : 1;
      switch (Math.sqrt(1 + 4 * R4 * G5) - R4 & 3) {
        case 0:
          _4 += b3;
          break;
        case 1:
          k5 += x4;
          break;
        case 2:
          _4 -= b3;
          break;
        default:
          k5 -= x4;
          break;
      }
      return [_4, k5];
    };
  }
  function y4(E) {
    for (var x4 = [], b3 = -1; ++b3 < E; ) x4[b3] = 0;
    return x4;
  }
  function S3() {
    return document.createElement("canvas");
  }
  function v4(E) {
    return typeof E == "function" ? E : function() {
      return E;
    };
  }
  return ci3;
}
var Kg2 = jg2();
var Jg2 = Ug2(Kg2);
var Km2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "wordcloud", this.renderType = D.SVG, this.handleLegendOnHover = (t3) => {
      const { hoveredElement: e2 } = t3.detail, { groupMapsTo: n2 } = this.getOptions().data;
      this.parent.selectAll("text.word").transition("legend-hover-wordcloud").call(
        (s2) => this.services.transitions.setupTransition({
          transition: s2,
          name: "legend-hover-wordcloud"
        })
      ).attr("opacity", (s2) => s2[n2] !== e2.datum().name ? 0.3 : 1);
    }, this.handleLegendMouseOut = () => {
      this.parent.selectAll("text.word").transition("legend-mouseout-wordcloud").call(
        (t3) => this.services.transitions.setupTransition({
          transition: t3,
          name: "legend-mouseout-wordcloud"
        })
      ).attr("opacity", 1);
    };
  }
  init() {
    const t3 = this.services.events;
    t3.addEventListener(_E.Legend.ITEM_HOVER, this.handleLegendOnHover), t3.addEventListener(_E.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);
  }
  render(t3 = true) {
    const e2 = this, n2 = this.getComponentContainer({
      ariaLabel: "word cloud"
    }).attr("width", "100%").attr("height", "100%"), s2 = this.model.getDisplayData(), a2 = this.getFontSizeScale(s2), r3 = this.getOptions(), { fontSizeMapsTo: o2, wordMapsTo: c2 } = r3.wordCloud, { groupMapsTo: l2 } = r3.data, { width: h3, height: d2 } = ve2.getSVGElementSize(n2, {
      useAttrs: true
    });
    if (h3 === 0 || d2 === 0)
      return;
    const u3 = Jg2().size([h3, d2]).words(
      s2.map(function(f2) {
        const g3 = f2[o2];
        if (typeof f2[o2] != "number")
          throw Error(
            "Badly formatted WordCloud data. `value` should only be an integer or float"
          );
        return {
          [l2]: f2[l2],
          text: f2[c2],
          size: g3,
          value: g3
        };
      })
    ).padding(5).rotate(0).fontSize((f2) => a2(f2.size)).on("end", p3);
    u3.start();
    function p3(f2) {
      const g3 = ve2.appendOrSelect(n2, "g.words");
      g3.attr("transform", `translate(${u3.size()[0] / 2}, ${u3.size()[1] / 2})`);
      const m3 = g3.selectAll("text").data(f2, (S3) => `${S3[l2]}-${S3.text}`);
      m3.exit().attr("opacity", 0).remove(), m3.enter().append("text").attr("opacity", 0).merge(m3).style("font-size", (S3) => `${S3.size}px`).text(function(S3) {
        return S3.text;
      }).attr(
        "class",
        (S3) => e2.model.getColorClassName({
          classNameTypes: [h.FILL],
          dataGroupName: S3[l2],
          originalClassName: `word ${S3.size > 32 ? "light" : ""}`
        })
      ).style("fill", (S3) => e2.model.getFillColor(S3[l2], S3.text, S3)).attr("text-anchor", "middle").transition().call(
        (S3) => e2.services.transitions.setupTransition({
          transition: S3,
          name: "wordcloud-text-update-enter",
          animate: t3
        })
      ).attr("transform", (S3) => `translate(${S3.x}, ${S3.y})`).attr("opacity", 1);
    }
    this.addEventListeners();
  }
  getFontSizeScale(t3) {
    const e2 = this.getOptions(), { fontSizeMapsTo: n2 } = e2.wordCloud, s2 = t3.map((c2) => c2[n2]).filter((c2) => c2), a2 = ve2.getHTMLElementSize(this.services.domUtils.getMainContainer()), r3 = s2.length > 0, o2 = r3 ? _l(s2) : [1, 1];
    return na().domain(o2).range(r3 ? e2.wordCloud.fontSizeRange(a2, t3) : [4, 4]);
  }
  addEventListeners() {
    const t3 = this.getOptions(), { groupMapsTo: e2 } = t3.data, n2 = this, s2 = mn2((a2) => {
      const r3 = n2.parent.selectAll("text.word").transition("wordcloud-word-mouse-highlight").call(
        (o2) => n2.services.transitions.setupTransition({
          transition: o2,
          name: "wordcloud-word-mouse-highlight"
        })
      );
      a2 === null ? r3.attr("opacity", 1) : r3.attr("opacity", function() {
        return a2 === this ? 1 : 0.3;
      });
    }, 6);
    this.parent.selectAll("text.word").on("mouseover", function(a2, r3) {
      const o2 = this;
      s2(o2), n2.services.events.dispatchEvent(_E.WordCloud.WORD_MOUSEOVER, {
        event: a2,
        element: D3(this),
        datum: r3
      }), n2.services.events.dispatchEvent(_E.Tooltip.SHOW, {
        event: a2,
        hoveredElement: o2,
        items: [
          {
            label: t3.tooltip.wordLabel,
            value: r3.text
          },
          {
            label: t3.tooltip.valueLabel,
            value: r3.value
          },
          {
            label: Pu(t3, "locale.translations.group") || Pu(t3, "tooltip.groupLabel") || "Group",
            value: r3[e2],
            class: n2.model.getColorClassName({
              classNameTypes: [h.TOOLTIP],
              dataGroupName: r3[e2]
            })
          }
        ]
      });
    }).on("mousemove", function(a2, r3) {
      const o2 = D3(this);
      n2.services.events.dispatchEvent(_E.WordCloud.WORD_MOUSEMOVE, {
        element: o2,
        datum: r3
      }), n2.services.events.dispatchEvent(_E.Tooltip.MOVE, {
        event: a2
      });
    }).on("click", function(a2, r3) {
      n2.services.events.dispatchEvent(_E.WordCloud.WORD_CLICK, {
        event: a2,
        element: D3(this),
        datum: r3
      });
    }).on("mouseout", function(a2, r3) {
      const o2 = D3(this);
      s2(null), n2.services.events.dispatchEvent(_E.WordCloud.WORD_MOUSEOUT, {
        event: a2,
        element: o2,
        datum: r3
      }), n2.services.events.dispatchEvent(_E.Tooltip.HIDE, {
        hoveredElement: o2
      });
    });
  }
};
var Qg2 = class extends dt4 {
  constructor() {
    super(...arguments), this.type = "geo", this.renderType = D.SVG;
  }
  render() {
    const t3 = this.getComponentContainer({ withinChartClip: true }), { width: e2, height: n2 } = ve2.getSVGElementSize(t3, {
      useAttrs: true
    });
    if (e2 < 1 || n2 < 1)
      return;
    const s2 = this.getProjection(), a2 = rt(this.getOptions(), "geoData"), r3 = this.model.getCombinedData(), o2 = {}, c2 = {};
    Object.keys(r3).forEach((y4) => {
      typeof r3[y4].value == "number" ? o2[y4] = r3[y4] : c2[y4] = r3[y4];
    });
    const l2 = up(a2, Object.values(c2)), h3 = op(a2, {
      // We need to specify that we are converting geometry collections
      type: "GeometryCollection",
      geometries: Object.values(o2)
    }), d2 = s2.fitSize([e2, n2], h3), u3 = Lu2().projection(d2);
    ve2.appendOrSelect(t3, "g.geo").selectAll("path").data(h3.features).join("path").attr("d", u3);
    const f2 = this.services.domUtils.generateElementIDString("geo-pattern-stripes"), g3 = ve2.appendOrSelect(t3, "defs");
    ve2.appendOrSelect(g3, "pattern").attr("id", f2).attr("width", 5).attr("height", 10).attr("patternUnits", "userSpaceOnUse").attr("patternTransform", "rotate(45)").append("path").classed("pattern-fill", true).attr(
      "d",
      Dn3()([
        [0, 0],
        [0, 10]
      ])
    );
    const m3 = ve2.appendOrSelect(t3, "g.missing-data");
    ve2.appendOrSelect(m3, "path").datum(l2).attr("d", u3).style("fill", `url(#${f2})`);
  }
  /**
   * Retrieves the D3 geographic projection based on the options provided.
   *
   * This method selects a geographic projection from the available D3 projections
   * based on the `projection` property in the `thematic` options. If the projection
   * is not supported or is missing, an error is thrown.
   *
   * @returns {d3.GeoProjection} - The D3 geographic projection corresponding to the selected option.
   * @throws {Error} If the projection is not supported or is missing.
   */
  getProjection() {
    let t3 = null;
    switch (rt(this.getOptions(), "thematic", "projection")) {
      case aE.geoEqualEarth:
        t3 = Fu2();
        break;
      case aE.geoAlbers:
        t3 = $u2();
        break;
      case aE.geoConicEqualArea:
        t3 = Ro2();
        break;
      case aE.geoConicEquidistant:
        t3 = zu2();
        break;
      case aE.geoEquirectangular:
        t3 = Hu2();
        break;
      case aE.geoMercator:
        t3 = Vu2();
        break;
      case aE.geoNaturalEarth1:
        t3 = Wu2();
        break;
      default:
        throw new Error("Projection is not supported.");
    }
    return t3;
  }
};
var Jm2 = class extends Qg2 {
  constructor() {
    super(...arguments), this.type = "choropleth";
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  render(t3 = true) {
    super.render();
    const e2 = this.model.getCombinedData();
    this.getComponentContainer({ ariaLabel: "map", withinChartClip: true }).select("g.geo").selectAll("path").classed("border", true).attr("class", (a2) => this.model.getColorClassName({
      value: e2[a2.properties.NAME].value,
      originalClassName: "border"
    })), this.addCountryAreaEventListener();
  }
  addCountryAreaEventListener() {
    const t3 = this, e2 = this.model.getCombinedData();
    this.parent.selectAll("path.border").on("mouseover", function(n2, s2) {
      const a2 = D3(this);
      t3.services.events.dispatchEvent(d.CHOROPLETH_MOUSEOVER, {
        event: n2,
        element: a2,
        datum: e2[s2.properties.NAME]
      }), t3.services.events.dispatchEvent(n.SHOW, {
        event: n2,
        hoveredElement: a2,
        items: [
          {
            label: s2.properties.NAME,
            value: e2[s2.properties.NAME].value
          }
        ]
      });
    }).on("mousemove", function(n2, s2) {
      t3.services.events.dispatchEvent(d.CHOROPLETH_MOUSEMOVE, {
        event: n2,
        element: D3(this),
        datum: e2[s2.properties.NAME]
      }), t3.services.events.dispatchEvent(n.MOVE, {
        event: n2
      });
    }).on("click", function(n2, s2) {
      t3.services.events.dispatchEvent(d.CHOROPLETH_CLICK, {
        event: n2,
        element: D3(this),
        datum: e2[s2.properties.NAME]
      });
    }).on("mouseout", function(n2, s2) {
      const a2 = D3(this);
      t3.services.events.dispatchEvent(d.CHOROPLETH_MOUSEOUT, {
        event: n2,
        element: a2,
        datum: e2[s2.properties.NAME]
      }), t3.services.events.dispatchEvent(n.HIDE, {
        event: n2,
        hoveredElement: a2
      });
    });
  }
};

// node_modules/@carbon/charts/dist/index-Dc1X-hk8.mjs
function pt3(i10) {
  var t3 = i10 == null ? 0 : i10.length;
  return t3 ? oi(i10, 1) : [];
}
function hi3(i10) {
  return jo(ns(i10, void 0, pt3), i10 + "");
}
function ci4(i10, t3, e2) {
  var n2 = -1, s2 = i10.length;
  t3 < 0 && (t3 = -t3 > s2 ? 0 : s2 + t3), e2 = e2 > s2 ? s2 : e2, e2 < 0 && (e2 += s2), s2 = t3 > e2 ? 0 : e2 - t3 >>> 0, t3 >>>= 0;
  for (var o2 = Array(s2); ++n2 < s2; )
    o2[n2] = i10[n2 + t3];
  return o2;
}
function li4(i10, t3) {
  return t3.length < 2 ? i10 : ai(i10, ci4(t3, 0, -1));
}
function _i4(i10, t3) {
  return t3 = ii(t3, i10), i10 = li4(i10, t3), i10 == null || delete i10[Ce(ol(t3))];
}
function ui3(i10) {
  return Ru(i10) ? void 0 : i10;
}
var fi4 = 1;
var mi4 = 2;
var di3 = 4;
var pi3 = hi3(function(i10, t3) {
  var e2 = {};
  if (i10 == null)
    return e2;
  var n2 = false;
  t3 = bo(t3, function(o2) {
    return o2 = ii(o2, i10), n2 || (n2 = o2.length > 1), o2;
  }), Gt(i10, Ku(i10), e2), n2 && (e2 = oe(e2, fi4 | mi4 | di3, ui3));
  for (var s2 = t3.length; s2--; )
    _i4(e2, t3[s2]);
  return e2;
});
function tt3(i10) {
  return Math.log(i10);
}
function it3(i10) {
  return Math.exp(i10);
}
function xi4(i10) {
  return -Math.log(-i10);
}
function gi4(i10) {
  return -Math.exp(-i10);
}
function yi4(i10) {
  return isFinite(i10) ? +("1e" + i10) : i10 < 0 ? 0 : i10;
}
function vi4(i10) {
  return i10 === 10 ? yi4 : i10 === Math.E ? Math.exp : (t3) => Math.pow(i10, t3);
}
function Ti4(i10) {
  return i10 === Math.E ? Math.log : i10 === 10 && Math.log10 || i10 === 2 && Math.log2 || (i10 = Math.log(i10), (t3) => Math.log(t3) / i10);
}
function et3(i10) {
  return (t3, e2) => -i10(-t3, e2);
}
function Di4(i10) {
  const t3 = i10(tt3, it3), e2 = t3.domain;
  let n2 = 10, s2, o2;
  function a2() {
    return s2 = Ti4(n2), o2 = vi4(n2), e2()[0] < 0 ? (s2 = et3(s2), o2 = et3(o2), i10(xi4, gi4)) : i10(tt3, it3), t3;
  }
  return t3.base = function(r3) {
    return arguments.length ? (n2 = +r3, a2()) : n2;
  }, t3.domain = function(r3) {
    return arguments.length ? (e2(r3), a2()) : e2();
  }, t3.ticks = (r3) => {
    const h3 = e2();
    let l2 = h3[0], f2 = h3[h3.length - 1];
    const y4 = f2 < l2;
    y4 && ([l2, f2] = [f2, l2]);
    let p3 = s2(l2), v4 = s2(f2), g3, d2;
    const D4 = r3 == null ? 10 : +r3;
    let u3 = [];
    if (!(n2 % 1) && v4 - p3 < D4) {
      if (p3 = Math.floor(p3), v4 = Math.ceil(v4), l2 > 0) {
        for (; p3 <= v4; ++p3)
          for (g3 = 1; g3 < n2; ++g3)
            if (d2 = p3 < 0 ? g3 / o2(-p3) : g3 * o2(p3), !(d2 < l2)) {
              if (d2 > f2) break;
              u3.push(d2);
            }
      } else for (; p3 <= v4; ++p3)
        for (g3 = n2 - 1; g3 >= 1; --g3)
          if (d2 = p3 > 0 ? g3 / o2(-p3) : g3 * o2(p3), !(d2 < l2)) {
            if (d2 > f2) break;
            u3.push(d2);
          }
      u3.length * 2 < D4 && (u3 = Ol(l2, f2, D4));
    } else
      u3 = Ol(p3, v4, Math.min(v4 - p3, D4)).map(o2);
    return y4 ? u3.reverse() : u3;
  }, t3.tickFormat = (r3, h3) => {
    if (r3 == null && (r3 = 10), h3 == null && (h3 = n2 === 10 ? "s" : ","), typeof h3 != "function" && (!(n2 % 1) && (h3 = xe(h3)).precision == null && (h3.trim = true), h3 = Ji(h3)), r3 === 1 / 0) return h3;
    const l2 = Math.max(1, n2 * r3 / t3.ticks().length);
    return (f2) => {
      let y4 = f2 / o2(Math.round(s2(f2)));
      return y4 * n2 < n2 - 0.5 && (y4 *= n2), y4 <= l2 ? h3(f2) : "";
    };
  }, t3.nice = () => e2(pn2(e2(), {
    floor: (r3) => o2(Math.floor(s2(r3))),
    ceil: (r3) => o2(Math.ceil(s2(r3)))
  })), t3;
}
function xt4() {
  const i10 = Di4(pm()).domain([1, 10]);
  return i10.copy = () => mm(i10, xt4()).base(i10.base()), Cn.apply(i10, arguments), i10;
}
function k4(i10, t3, e2) {
  i10._context.bezierCurveTo(
    (2 * i10._x0 + i10._x1) / 3,
    (2 * i10._y0 + i10._y1) / 3,
    (i10._x0 + 2 * i10._x1) / 3,
    (i10._y0 + 2 * i10._y1) / 3,
    (i10._x0 + 4 * i10._x1 + t3) / 6,
    (i10._y0 + 4 * i10._y1 + e2) / 6
  );
}
function L4(i10) {
  this._context = i10;
}
L4.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 3:
        k4(this, this._x1, this._y1);
      case 2:
        this._context.lineTo(this._x1, this._y1);
        break;
    }
    (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line;
  },
  point: function(i10, t3) {
    switch (i10 = +i10, t3 = +t3, this._point) {
      case 0:
        this._point = 1, this._line ? this._context.lineTo(i10, t3) : this._context.moveTo(i10, t3);
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3, this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);
      default:
        k4(this, i10, t3);
        break;
    }
    this._x0 = this._x1, this._x1 = i10, this._y0 = this._y1, this._y1 = t3;
  }
};
function Ai4(i10) {
  return new L4(i10);
}
function gt5(i10) {
  this._context = i10;
}
gt5.prototype = {
  areaStart: et2,
  areaEnd: et2,
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN, this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 1: {
        this._context.moveTo(this._x2, this._y2), this._context.closePath();
        break;
      }
      case 2: {
        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3), this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3), this._context.closePath();
        break;
      }
      case 3: {
        this.point(this._x2, this._y2), this.point(this._x3, this._y3), this.point(this._x4, this._y4);
        break;
      }
    }
  },
  point: function(i10, t3) {
    switch (i10 = +i10, t3 = +t3, this._point) {
      case 0:
        this._point = 1, this._x2 = i10, this._y2 = t3;
        break;
      case 1:
        this._point = 2, this._x3 = i10, this._y3 = t3;
        break;
      case 2:
        this._point = 3, this._x4 = i10, this._y4 = t3, this._context.moveTo((this._x0 + 4 * this._x1 + i10) / 6, (this._y0 + 4 * this._y1 + t3) / 6);
        break;
      default:
        k4(this, i10, t3);
        break;
    }
    this._x0 = this._x1, this._x1 = i10, this._y0 = this._y1, this._y1 = t3;
  }
};
function Oi4(i10) {
  return new gt5(i10);
}
function yt4(i10) {
  this._context = i10;
}
yt4.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0;
  },
  lineEnd: function() {
    (this._line || this._line !== 0 && this._point === 3) && this._context.closePath(), this._line = 1 - this._line;
  },
  point: function(i10, t3) {
    switch (i10 = +i10, t3 = +t3, this._point) {
      case 0:
        this._point = 1;
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
        var e2 = (this._x0 + 4 * this._x1 + i10) / 6, n2 = (this._y0 + 4 * this._y1 + t3) / 6;
        this._line ? this._context.lineTo(e2, n2) : this._context.moveTo(e2, n2);
        break;
      case 3:
        this._point = 4;
      default:
        k4(this, i10, t3);
        break;
    }
    this._x0 = this._x1, this._x1 = i10, this._y0 = this._y1, this._y1 = t3;
  }
};
function Mi4(i10) {
  return new yt4(i10);
}
function vt5(i10, t3) {
  this._basis = new L4(i10), this._beta = t3;
}
vt5.prototype = {
  lineStart: function() {
    this._x = [], this._y = [], this._basis.lineStart();
  },
  lineEnd: function() {
    var i10 = this._x, t3 = this._y, e2 = i10.length - 1;
    if (e2 > 0)
      for (var n2 = i10[0], s2 = t3[0], o2 = i10[e2] - n2, a2 = t3[e2] - s2, r3 = -1, h3; ++r3 <= e2; )
        h3 = r3 / e2, this._basis.point(
          this._beta * i10[r3] + (1 - this._beta) * (n2 + h3 * o2),
          this._beta * t3[r3] + (1 - this._beta) * (s2 + h3 * a2)
        );
    this._x = this._y = null, this._basis.lineEnd();
  },
  point: function(i10, t3) {
    this._x.push(+i10), this._y.push(+t3);
  }
};
var bi4 = function i3(t3) {
  function e2(n2) {
    return t3 === 1 ? new L4(n2) : new vt5(n2, t3);
  }
  return e2.beta = function(n2) {
    return i3(+n2);
  }, e2;
}(0.85);
function R3(i10, t3, e2) {
  i10._context.bezierCurveTo(
    i10._x1 + i10._k * (i10._x2 - i10._x0),
    i10._y1 + i10._k * (i10._y2 - i10._y0),
    i10._x2 + i10._k * (i10._x1 - t3),
    i10._y2 + i10._k * (i10._y1 - e2),
    i10._x2,
    i10._y2
  );
}
function z4(i10, t3) {
  this._context = i10, this._k = (1 - t3) / 6;
}
z4.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 2:
        this._context.lineTo(this._x2, this._y2);
        break;
      case 3:
        R3(this, this._x1, this._y1);
        break;
    }
    (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line;
  },
  point: function(i10, t3) {
    switch (i10 = +i10, t3 = +t3, this._point) {
      case 0:
        this._point = 1, this._line ? this._context.lineTo(i10, t3) : this._context.moveTo(i10, t3);
        break;
      case 1:
        this._point = 2, this._x1 = i10, this._y1 = t3;
        break;
      case 2:
        this._point = 3;
      default:
        R3(this, i10, t3);
        break;
    }
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = i10, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t3;
  }
};
var Si4 = function i4(t3) {
  function e2(n2) {
    return new z4(n2, t3);
  }
  return e2.tension = function(n2) {
    return i4(+n2);
  }, e2;
}(0);
function V4(i10, t3) {
  this._context = i10, this._k = (1 - t3) / 6;
}
V4.prototype = {
  areaStart: et2,
  areaEnd: et2,
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN, this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 1: {
        this._context.moveTo(this._x3, this._y3), this._context.closePath();
        break;
      }
      case 2: {
        this._context.lineTo(this._x3, this._y3), this._context.closePath();
        break;
      }
      case 3: {
        this.point(this._x3, this._y3), this.point(this._x4, this._y4), this.point(this._x5, this._y5);
        break;
      }
    }
  },
  point: function(i10, t3) {
    switch (i10 = +i10, t3 = +t3, this._point) {
      case 0:
        this._point = 1, this._x3 = i10, this._y3 = t3;
        break;
      case 1:
        this._point = 2, this._context.moveTo(this._x4 = i10, this._y4 = t3);
        break;
      case 2:
        this._point = 3, this._x5 = i10, this._y5 = t3;
        break;
      default:
        R3(this, i10, t3);
        break;
    }
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = i10, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t3;
  }
};
var Pi4 = function i5(t3) {
  function e2(n2) {
    return new V4(n2, t3);
  }
  return e2.tension = function(n2) {
    return i5(+n2);
  }, e2;
}(0);
function H4(i10, t3) {
  this._context = i10, this._k = (1 - t3) / 6;
}
H4.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._point = 0;
  },
  lineEnd: function() {
    (this._line || this._line !== 0 && this._point === 3) && this._context.closePath(), this._line = 1 - this._line;
  },
  point: function(i10, t3) {
    switch (i10 = +i10, t3 = +t3, this._point) {
      case 0:
        this._point = 1;
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3, this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
        break;
      case 3:
        this._point = 4;
      default:
        R3(this, i10, t3);
        break;
    }
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = i10, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t3;
  }
};
var Ei4 = function i6(t3) {
  function e2(n2) {
    return new H4(n2, t3);
  }
  return e2.tension = function(n2) {
    return i6(+n2);
  }, e2;
}(0);
function Y5(i10, t3, e2) {
  var n2 = i10._x1, s2 = i10._y1, o2 = i10._x2, a2 = i10._y2;
  if (i10._l01_a > Bi2) {
    var r3 = 2 * i10._l01_2a + 3 * i10._l01_a * i10._l12_a + i10._l12_2a, h3 = 3 * i10._l01_a * (i10._l01_a + i10._l12_a);
    n2 = (n2 * r3 - i10._x0 * i10._l12_2a + i10._x2 * i10._l01_2a) / h3, s2 = (s2 * r3 - i10._y0 * i10._l12_2a + i10._y2 * i10._l01_2a) / h3;
  }
  if (i10._l23_a > Bi2) {
    var l2 = 2 * i10._l23_2a + 3 * i10._l23_a * i10._l12_a + i10._l12_2a, f2 = 3 * i10._l23_a * (i10._l23_a + i10._l12_a);
    o2 = (o2 * l2 + i10._x1 * i10._l23_2a - t3 * i10._l12_2a) / f2, a2 = (a2 * l2 + i10._y1 * i10._l23_2a - e2 * i10._l12_2a) / f2;
  }
  i10._context.bezierCurveTo(n2, s2, o2, a2, i10._x2, i10._y2);
}
function Tt3(i10, t3) {
  this._context = i10, this._alpha = t3;
}
Tt3.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 2:
        this._context.lineTo(this._x2, this._y2);
        break;
      case 3:
        this.point(this._x2, this._y2);
        break;
    }
    (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line;
  },
  point: function(i10, t3) {
    if (i10 = +i10, t3 = +t3, this._point) {
      var e2 = this._x2 - i10, n2 = this._y2 - t3;
      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(e2 * e2 + n2 * n2, this._alpha));
    }
    switch (this._point) {
      case 0:
        this._point = 1, this._line ? this._context.lineTo(i10, t3) : this._context.moveTo(i10, t3);
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
      default:
        Y5(this, i10, t3);
        break;
    }
    this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = i10, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t3;
  }
};
var wi4 = function i7(t3) {
  function e2(n2) {
    return t3 ? new Tt3(n2, t3) : new z4(n2, 0);
  }
  return e2.alpha = function(n2) {
    return i7(+n2);
  }, e2;
}(0.5);
function Dt5(i10, t3) {
  this._context = i10, this._alpha = t3;
}
Dt5.prototype = {
  areaStart: et2,
  areaEnd: et2,
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 1: {
        this._context.moveTo(this._x3, this._y3), this._context.closePath();
        break;
      }
      case 2: {
        this._context.lineTo(this._x3, this._y3), this._context.closePath();
        break;
      }
      case 3: {
        this.point(this._x3, this._y3), this.point(this._x4, this._y4), this.point(this._x5, this._y5);
        break;
      }
    }
  },
  point: function(i10, t3) {
    if (i10 = +i10, t3 = +t3, this._point) {
      var e2 = this._x2 - i10, n2 = this._y2 - t3;
      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(e2 * e2 + n2 * n2, this._alpha));
    }
    switch (this._point) {
      case 0:
        this._point = 1, this._x3 = i10, this._y3 = t3;
        break;
      case 1:
        this._point = 2, this._context.moveTo(this._x4 = i10, this._y4 = t3);
        break;
      case 2:
        this._point = 3, this._x5 = i10, this._y5 = t3;
        break;
      default:
        Y5(this, i10, t3);
        break;
    }
    this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = i10, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t3;
  }
};
var ki4 = function i8(t3) {
  function e2(n2) {
    return t3 ? new Dt5(n2, t3) : new V4(n2, 0);
  }
  return e2.alpha = function(n2) {
    return i8(+n2);
  }, e2;
}(0.5);
function At3(i10, t3) {
  this._context = i10, this._alpha = t3;
}
At3.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
  },
  lineEnd: function() {
    (this._line || this._line !== 0 && this._point === 3) && this._context.closePath(), this._line = 1 - this._line;
  },
  point: function(i10, t3) {
    if (i10 = +i10, t3 = +t3, this._point) {
      var e2 = this._x2 - i10, n2 = this._y2 - t3;
      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(e2 * e2 + n2 * n2, this._alpha));
    }
    switch (this._point) {
      case 0:
        this._point = 1;
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3, this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
        break;
      case 3:
        this._point = 4;
      default:
        Y5(this, i10, t3);
        break;
    }
    this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = i10, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t3;
  }
};
var Ri4 = function i9(t3) {
  function e2(n2) {
    return t3 ? new At3(n2, t3) : new H4(n2, 0);
  }
  return e2.alpha = function(n2) {
    return i9(+n2);
  }, e2;
}(0.5);
function nt3(i10) {
  return i10 < 0 ? -1 : 1;
}
function st3(i10, t3, e2) {
  var n2 = i10._x1 - i10._x0, s2 = t3 - i10._x1, o2 = (i10._y1 - i10._y0) / (n2 || s2 < 0 && -0), a2 = (e2 - i10._y1) / (s2 || n2 < 0 && -0), r3 = (o2 * s2 + a2 * n2) / (n2 + s2);
  return (nt3(o2) + nt3(a2)) * Math.min(Math.abs(o2), Math.abs(a2), 0.5 * Math.abs(r3)) || 0;
}
function ot3(i10, t3) {
  var e2 = i10._x1 - i10._x0;
  return e2 ? (3 * (i10._y1 - i10._y0) / e2 - t3) / 2 : t3;
}
function I3(i10, t3, e2) {
  var n2 = i10._x0, s2 = i10._y0, o2 = i10._x1, a2 = i10._y1, r3 = (o2 - n2) / 3;
  i10._context.bezierCurveTo(n2 + r3, s2 + r3 * t3, o2 - r3, a2 - r3 * e2, o2, a2);
}
function B4(i10) {
  this._context = i10;
}
B4.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN, this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 2:
        this._context.lineTo(this._x1, this._y1);
        break;
      case 3:
        I3(this, this._t0, ot3(this, this._t0));
        break;
    }
    (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line;
  },
  point: function(i10, t3) {
    var e2 = NaN;
    if (i10 = +i10, t3 = +t3, !(i10 === this._x1 && t3 === this._y1)) {
      switch (this._point) {
        case 0:
          this._point = 1, this._line ? this._context.lineTo(i10, t3) : this._context.moveTo(i10, t3);
          break;
        case 1:
          this._point = 2;
          break;
        case 2:
          this._point = 3, I3(this, ot3(this, e2 = st3(this, i10, t3)), e2);
          break;
        default:
          I3(this, this._t0, e2 = st3(this, i10, t3));
          break;
      }
      this._x0 = this._x1, this._x1 = i10, this._y0 = this._y1, this._y1 = t3, this._t0 = e2;
    }
  }
};
function Ot4(i10) {
  this._context = new Mt3(i10);
}
(Ot4.prototype = Object.create(B4.prototype)).point = function(i10, t3) {
  B4.prototype.point.call(this, t3, i10);
};
function Mt3(i10) {
  this._context = i10;
}
Mt3.prototype = {
  moveTo: function(i10, t3) {
    this._context.moveTo(t3, i10);
  },
  closePath: function() {
    this._context.closePath();
  },
  lineTo: function(i10, t3) {
    this._context.lineTo(t3, i10);
  },
  bezierCurveTo: function(i10, t3, e2, n2, s2, o2) {
    this._context.bezierCurveTo(t3, i10, n2, e2, o2, s2);
  }
};
function Bi3(i10) {
  return new B4(i10);
}
function Li4(i10) {
  return new Ot4(i10);
}
function bt4(i10) {
  this._context = i10;
}
bt4.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x = [], this._y = [];
  },
  lineEnd: function() {
    var i10 = this._x, t3 = this._y, e2 = i10.length;
    if (e2)
      if (this._line ? this._context.lineTo(i10[0], t3[0]) : this._context.moveTo(i10[0], t3[0]), e2 === 2)
        this._context.lineTo(i10[1], t3[1]);
      else
        for (var n2 = at3(i10), s2 = at3(t3), o2 = 0, a2 = 1; a2 < e2; ++o2, ++a2)
          this._context.bezierCurveTo(n2[0][o2], s2[0][o2], n2[1][o2], s2[1][o2], i10[a2], t3[a2]);
    (this._line || this._line !== 0 && e2 === 1) && this._context.closePath(), this._line = 1 - this._line, this._x = this._y = null;
  },
  point: function(i10, t3) {
    this._x.push(+i10), this._y.push(+t3);
  }
};
function at3(i10) {
  var t3, e2 = i10.length - 1, n2, s2 = new Array(e2), o2 = new Array(e2), a2 = new Array(e2);
  for (s2[0] = 0, o2[0] = 2, a2[0] = i10[0] + 2 * i10[1], t3 = 1; t3 < e2 - 1; ++t3) s2[t3] = 1, o2[t3] = 4, a2[t3] = 4 * i10[t3] + 2 * i10[t3 + 1];
  for (s2[e2 - 1] = 2, o2[e2 - 1] = 7, a2[e2 - 1] = 8 * i10[e2 - 1] + i10[e2], t3 = 1; t3 < e2; ++t3) n2 = s2[t3] / o2[t3 - 1], o2[t3] -= n2, a2[t3] -= n2 * a2[t3 - 1];
  for (s2[e2 - 1] = a2[e2 - 1] / o2[e2 - 1], t3 = e2 - 2; t3 >= 0; --t3) s2[t3] = (a2[t3] - s2[t3 + 1]) / o2[t3];
  for (o2[e2 - 1] = (i10[e2] + s2[e2 - 1]) / 2, t3 = 0; t3 < e2 - 1; ++t3) o2[t3] = 2 * i10[t3 + 1] - s2[t3 + 1];
  return [s2, o2];
}
function Ni4(i10) {
  return new bt4(i10);
}
function N3(i10, t3) {
  this._context = i10, this._t = t3;
}
N3.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x = this._y = NaN, this._point = 0;
  },
  lineEnd: function() {
    0 < this._t && this._t < 1 && this._point === 2 && this._context.lineTo(this._x, this._y), (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line >= 0 && (this._t = 1 - this._t, this._line = 1 - this._line);
  },
  point: function(i10, t3) {
    switch (i10 = +i10, t3 = +t3, this._point) {
      case 0:
        this._point = 1, this._line ? this._context.lineTo(i10, t3) : this._context.moveTo(i10, t3);
        break;
      case 1:
        this._point = 2;
      default: {
        if (this._t <= 0)
          this._context.lineTo(this._x, t3), this._context.lineTo(i10, t3);
        else {
          var e2 = this._x * (1 - this._t) + i10 * this._t;
          this._context.lineTo(e2, this._y), this._context.lineTo(e2, t3);
        }
        break;
      }
    }
    this._x = i10, this._y = t3;
  }
};
function Ci4(i10) {
  return new N3(i10, 0.5);
}
function Ii3(i10) {
  return new N3(i10, 0);
}
function Zi4(i10) {
  return new N3(i10, 1);
}
var ne3 = class extends Ut3 {
  /**
   * focal:  object to zoom into
   * canvasElements: all the elements to translate and zoom on the chart area
   * zoomSettings: object containing duration, easing and zoomlevel for the zoom behaviours
   *  */
  zoomIn(t3, e2, n2) {
    let s2, o2, a2;
    const r3 = n2 || xm;
    t3 && (s2 = t3.x, o2 = t3.y, a2 = 2);
    const { width: h3, height: l2 } = ve2.getSVGElementSize(this.services.domUtils.getHolder(), {
      useClientDimensions: true
    });
    e2.transition().duration(r3.duration).ease(r3.ease).attr(
      "transform",
      `translate(${h3 / 2}, ${l2 / 2}) scale(${a2}) translate(${-s2},${-o2})`
    ), this.services.events.dispatchEvent(_E.CanvasZoom.CANVAS_ZOOM_IN, {
      element: D3(t3)
    });
  }
  zoomOut(t3, e2) {
    const n2 = e2 || xm;
    t3.transition().duration(n2.duration).ease(n2.ease).attr("transform", ""), this.services.events.dispatchEvent(_E.CanvasZoom.CANVAS_ZOOM_OUT);
  }
};
var se3 = class extends Ut3 {
  init() {
    this.documentFragment = document.createDocumentFragment();
  }
  addEventListener(t3, e2) {
    this.documentFragment.addEventListener(t3, e2);
  }
  removeEventListener(t3, e2) {
    this.documentFragment.removeEventListener(t3, e2);
  }
  dispatchEvent(t3, e2) {
    let n2;
    e2 ? n2 = new CustomEvent(t3, {
      detail: e2
    }) : (n2 = document.createEvent("Event"), n2.initEvent(t3, false, true)), this.documentFragment.dispatchEvent(n2);
  }
};
var oe3 = class extends Ut3 {
  constructor(t3, e2) {
    super(t3, e2);
  }
  downloadCSV(t3, e2) {
    const n2 = document.createElement("a"), s2 = "text/csv;encoding:utf-8";
    if (navigator.msSaveBlob)
      navigator.msSaveBlob(
        new Blob([t3], {
          type: s2
        }),
        e2
      );
    else if (URL && "download" in n2) {
      const o2 = URL.createObjectURL(
        new Blob([t3], {
          type: s2
        })
      );
      n2.href = o2, n2.setAttribute("download", e2), document.body.appendChild(n2), n2.click(), document.body.removeChild(n2), URL.revokeObjectURL(o2);
    } else
      location.href = `data:application/octet-stream,${encodeURIComponent(t3)}`;
  }
  downloadImage(t3, e2) {
    const n2 = document.createElement("a");
    n2.download = e2, n2.href = t3, document.body.appendChild(n2), n2.click(), document.body.removeChild(n2);
  }
};
var ae3 = class extends Ut3 {
  constructor() {
    super(...arguments), this.pendingTransitions = {};
  }
  init() {
    var t3;
    (t3 = this.services.events) == null || t3.addEventListener(_E.Model.UPDATE, () => {
      this.pendingTransitions = {};
    });
  }
  setupTransition({ transition: t3, name: e2, animate: n2 }) {
    return this.pendingTransitions[t3._id] = t3, t3.on("end interrupt cancel", () => {
      delete this.pendingTransitions[t3._id];
    }), this.model.getOptions().animations === false || n2 === false ? t3.duration(0) : t3.duration(
      rt(Rm, e2, "duration") || Rm.default.duration
    );
  }
  getPendingTransitions() {
    return this.pendingTransitions;
  }
};
function S2(i10, t3) {
  const e2 = +L2(i10) - +L2(t3);
  return e2 < 0 ? -1 : e2 > 0 ? 1 : e2;
}
function Fi4(i10, t3, e2) {
  const [n2, s2] = Ca(
    e2 == null ? void 0 : e2.in,
    i10,
    t3
  );
  return n2.getFullYear() - s2.getFullYear();
}
function zi3(i10, t3, e2) {
  const [n2, s2] = Ca(
    e2 == null ? void 0 : e2.in,
    i10,
    t3
  ), o2 = S2(n2, s2), a2 = Math.abs(Fi4(n2, s2));
  n2.setFullYear(1584), s2.setFullYear(1584);
  const r3 = S2(n2, s2) === -o2, h3 = o2 * (a2 - +r3);
  return h3 === 0 ? 0 : h3;
}
function X4(i10, t3, e2) {
  const n2 = L2(i10, e2 == null ? void 0 : e2.in);
  if (isNaN(t3)) return Z2(i10, NaN);
  if (!t3)
    return n2;
  const s2 = n2.getDate(), o2 = Z2(i10, n2.getTime());
  o2.setMonth(n2.getMonth() + t3 + 1, 0);
  const a2 = o2.getDate();
  return s2 >= a2 ? o2 : (n2.setFullYear(
    o2.getFullYear(),
    o2.getMonth(),
    s2
  ), n2);
}
function St4(i10, t3, e2) {
  return X4(i10, t3 * 12, e2);
}
function Vi4(i10, t3, e2) {
  return St4(i10, -t3, e2);
}
function Hi2(i10, t3, e2) {
  const [n2, s2] = Ca(
    e2 == null ? void 0 : e2.in,
    i10,
    t3
  ), o2 = n2.getFullYear() - s2.getFullYear(), a2 = n2.getMonth() - s2.getMonth();
  return o2 * 12 + a2;
}
function Yi4(i10, t3) {
  const e2 = L2(i10, t3 == null ? void 0 : t3.in);
  return e2.setHours(23, 59, 59, 999), e2;
}
function Xi4(i10, t3) {
  const e2 = L2(i10, t3 == null ? void 0 : t3.in), n2 = e2.getMonth();
  return e2.setFullYear(e2.getFullYear(), n2 + 1, 0), e2.setHours(23, 59, 59, 999), e2;
}
function Gi4(i10, t3) {
  const e2 = L2(i10, t3 == null ? void 0 : t3.in);
  return +Yi4(e2, t3) == +Xi4(e2, t3);
}
function $i4(i10, t3, e2) {
  const [n2, s2, o2] = Ca(
    e2 == null ? void 0 : e2.in,
    i10,
    i10,
    t3
  ), a2 = S2(s2, o2), r3 = Math.abs(
    Hi2(s2, o2)
  );
  if (r3 < 1) return 0;
  s2.getMonth() === 1 && s2.getDate() > 27 && s2.setDate(30), s2.setMonth(s2.getMonth() - a2 * r3);
  let h3 = S2(s2, o2) === -a2;
  Gi4(n2) && r3 === 1 && S2(n2, o2) === 1 && (h3 = false);
  const l2 = a2 * (r3 - +h3);
  return l2 === 0 ? 0 : l2;
}
function Ui4(i10, t3, e2) {
  return X4(i10, -t3, e2);
}
function Ki3(i10, t3, e2) {
  const [n2, s2] = Ca(
    e2 == null ? void 0 : e2.in,
    i10,
    t3
  ), o2 = rt3(n2, s2), a2 = Math.abs(
    f0(n2, s2)
  );
  n2.setDate(n2.getDate() - o2 * a2);
  const r3 = +(rt3(n2, s2) === -o2), h3 = o2 * (a2 - r3);
  return h3 === 0 ? 0 : h3;
}
function rt3(i10, t3) {
  const e2 = i10.getFullYear() - t3.getFullYear() || i10.getMonth() - t3.getMonth() || i10.getDate() - t3.getDate() || i10.getHours() - t3.getHours() || i10.getMinutes() - t3.getMinutes() || i10.getSeconds() - t3.getSeconds() || i10.getMilliseconds() - t3.getMilliseconds();
  return e2 < 0 ? -1 : e2 > 0 ? 1 : e2;
}
function Pt2(i10, t3, e2) {
  const n2 = L2(i10, e2 == null ? void 0 : e2.in);
  return isNaN(t3) ? Z2(i10, NaN) : (t3 && n2.setDate(n2.getDate() + t3), n2);
}
function qi4(i10, t3, e2) {
  return Pt2(i10, -t3, e2);
}
function G4(i10) {
  return (t3) => {
    const n2 = (i10 ? Math[i10] : Math.trunc)(t3);
    return n2 === 0 ? 0 : n2;
  };
}
function ji4(i10, t3, e2) {
  const [n2, s2] = Ca(
    e2 == null ? void 0 : e2.in,
    i10,
    t3
  ), o2 = (+n2 - +s2) / Y0;
  return G4(e2 == null ? void 0 : e2.roundingMethod)(o2);
}
function Et4(i10, t3, e2) {
  return Z2(i10, +L2(i10) + t3);
}
function wt4(i10, t3, e2) {
  return Et4(i10, t3 * Y0);
}
function Wi4(i10, t3, e2) {
  return wt4(i10, -t3);
}
function kt3(i10, t3) {
  return +L2(i10) - +L2(t3);
}
function ht5(i10, t3, e2) {
  const n2 = kt3(i10, t3) / W0;
  return G4(e2 == null ? void 0 : e2.roundingMethod)(n2);
}
function Z4(i10, t3, e2) {
  const n2 = L2(i10, e2 == null ? void 0 : e2.in);
  return n2.setTime(n2.getTime() + t3 * W0), n2;
}
function ct3(i10, t3, e2) {
  return Z4(i10, -t3, e2);
}
function lt2(i10, t3, e2) {
  const n2 = kt3(i10, t3) / 1e3;
  return G4(e2 == null ? void 0 : e2.roundingMethod)(n2);
}
function F3(i10, t3, e2) {
  return Et4(i10, t3 * 1e3);
}
function _t3(i10, t3, e2) {
  return F3(i10, -t3);
}
var re3 = class extends Ut3 {
  constructor() {
    super(...arguments), this.scaleTypes = {
      top: null,
      right: null,
      bottom: null,
      left: null
    }, this.scales = {
      // null or function
      top: null,
      right: null,
      bottom: null,
      left: null
    };
  }
  getDomainAxisPosition({ datum: t3 = null } = {}) {
    if (this.dualAxes && t3) {
      const e2 = this.model.getOptions(), { groupMapsTo: n2 } = e2.data, s2 = rt(e2, "axes", this.secondaryDomainAxisPosition), o2 = t3[n2];
      if (s2 != null && s2.correspondingDatasets && s2.correspondingDatasets.includes(o2))
        return this.secondaryDomainAxisPosition;
    }
    return this.domainAxisPosition;
  }
  getRangeAxisPosition({ datum: t3 = null, groups: e2 = null } = {}) {
    if (this.dualAxes) {
      const n2 = this.model.getOptions(), { groupMapsTo: s2 } = n2.data, o2 = rt(n2, "axes", this.secondaryRangeAxisPosition);
      let a2;
      if (t3 !== null ? a2 = t3[s2] : e2 && e2.length > 0 && (a2 = e2[0]), o2 != null && o2.correspondingDatasets && o2.correspondingDatasets.includes(a2))
        return this.secondaryRangeAxisPosition;
    }
    return this.rangeAxisPosition;
  }
  getAxisOptions(t3) {
    return rt(this.model.getOptions(), "axes", t3);
  }
  getDomainAxisOptions() {
    const t3 = this.getDomainAxisPosition();
    return this.getAxisOptions(t3);
  }
  getRangeAxisOptions() {
    const t3 = this.getRangeAxisPosition();
    return this.getAxisOptions(t3);
  }
  getScaleLabel(t3) {
    const n2 = this.getAxisOptions(t3).title;
    return n2 || (t3 === b.BOTTOM || t3 === b.TOP ? "x-value" : "y-value");
  }
  getDomainLabel() {
    return this.getScaleLabel(this.getDomainAxisPosition());
  }
  getRangeLabel() {
    return this.getScaleLabel(this.getRangeAxisPosition());
  }
  update() {
    this.determineAxisDuality(), this.findDomainAndRangeAxes(), this.determineOrientation(), Object.keys(b).map(
      (e2) => b[e2]
    ).forEach((e2) => {
      this.scales[e2] = this.createScale(e2);
    });
  }
  findDomainAndRangeAxes() {
    const t3 = this.findVerticalAxesPositions(), e2 = this.findHorizontalAxesPositions(), n2 = this.findDomainAndRangeAxesPositions(
      t3,
      e2
    );
    this.domainAxisPosition = n2.primaryDomainAxisPosition, this.rangeAxisPosition = n2.primaryRangeAxisPosition, this.isDualAxes() && (this.secondaryDomainAxisPosition = n2.secondaryDomainAxisPosition, this.secondaryRangeAxisPosition = n2.secondaryRangeAxisPosition);
  }
  determineOrientation() {
    (this.rangeAxisPosition === b.LEFT || this.rangeAxisPosition === b.RIGHT) && (this.domainAxisPosition === b.BOTTOM || this.domainAxisPosition === b.TOP) ? this.orientation = w.VERTICAL : this.orientation = w.HORIZONTAL;
  }
  isDualAxes() {
    return this.dualAxes;
  }
  // if any of the axes objects have correspondingDatasets [] asserted we flag the chart as dual axes
  // it does not count as dual axes if it just has another axis turned on but is not actually using it to map a dataset
  determineAxisDuality() {
    var n2, s2, o2, a2;
    const t3 = this.model.getOptions(), e2 = rt(t3, "axes");
    ((n2 = e2[b.LEFT]) != null && n2.correspondingDatasets && e2[b.RIGHT] || (s2 = e2[b.RIGHT]) != null && s2.correspondingDatasets && e2[b.LEFT] || (o2 = e2[b.TOP]) != null && o2.correspondingDatasets && e2[b.BOTTOM] || (a2 = e2[b.BOTTOM]) != null && a2.correspondingDatasets && e2[b.TOP]) && (this.dualAxes = true);
  }
  getCustomDomainValuesByposition(t3) {
    const e2 = rt(this.model.getOptions(), "axes", t3, "domain");
    if (e2 && !Array.isArray(e2))
      throw new Error(`Domain in ${t3} axis is not a valid array`);
    if (Array.isArray(e2) && (this.scaleTypes[t3] === F.LINEAR || this.scaleTypes[t3] === F.TIME) && e2.length !== 2)
      throw new Error(
        `There can only be 2 elements in domain for scale type: ${this.scaleTypes[t3]}`
      );
    return e2;
  }
  getOrientation() {
    return this.orientation;
  }
  getScaleByPosition(t3) {
    return this.scales[t3];
  }
  getScaleTypeByPosition(t3) {
    return this.scaleTypes[t3];
  }
  getDomainAxisScaleType() {
    const t3 = this.getDomainAxisPosition();
    return this.getScaleTypeByPosition(t3);
  }
  getRangeAxisScaleType() {
    const t3 = this.getRangeAxisPosition();
    return this.getScaleTypeByPosition(t3);
  }
  getDomainScale() {
    return this.scales[this.domainAxisPosition];
  }
  getRangeScale() {
    return this.scales[this.rangeAxisPosition];
  }
  // Find the main x-axis out of the 2 x-axis on the chart (when 2D axis is used)
  getMainXAxisPosition() {
    const t3 = [b.BOTTOM, b.TOP];
    return [this.domainAxisPosition, this.rangeAxisPosition].find(
      (e2) => t3.indexOf(e2) > -1
    );
  }
  // Find the main y-axis out of the 2 y-axis on the chart (when 2D axis is used)
  getMainYAxisPosition() {
    const t3 = [b.LEFT, b.RIGHT];
    return [this.domainAxisPosition, this.rangeAxisPosition].find(
      (e2) => t3.indexOf(e2) > -1
    );
  }
  getMainXScale() {
    return this.scales[this.getMainXAxisPosition()];
  }
  getMainYScale() {
    return this.scales[this.getMainYAxisPosition()];
  }
  getValueFromScale(t3, e2, n2, s2) {
    const o2 = this.model.getOptions(), r3 = rt(o2, "axes")[n2], { mapsTo: h3 } = r3, l2 = rt(s2, h3) !== null ? s2[h3] : s2;
    let f2;
    switch (e2) {
      case F.LABELS:
        f2 = t3(l2) + t3.step() / 2;
        break;
      case F.TIME:
        f2 = t3(new Date(l2));
        break;
      default:
        f2 = t3(l2);
    }
    return f2;
  }
  getBoundedScaledValues(t3) {
    const { bounds: e2 } = this.model.getOptions(), n2 = this.getRangeAxisPosition({ datum: t3 }), s2 = this.scales[n2], o2 = this.model.getOptions(), r3 = rt(o2, "axes")[n2], { mapsTo: h3 } = r3, l2 = t3[h3] !== void 0 ? t3[h3] : t3;
    return [
      s2(
        rt(t3, e2.upperBoundMapsTo) !== null ? t3[e2.upperBoundMapsTo] : l2
      ),
      s2(
        rt(t3, e2.lowerBoundMapsTo) !== null ? t3[e2.lowerBoundMapsTo] : l2
      )
    ];
  }
  getValueThroughAxisPosition(t3, e2) {
    const n2 = this.scaleTypes[t3], s2 = this.scales[t3];
    return this.getValueFromScale(s2, n2, t3, e2);
  }
  getDomainValue(t3) {
    const e2 = this.getDomainAxisPosition({ datum: t3 });
    return this.getValueThroughAxisPosition(e2, t3);
  }
  getRangeValue(t3) {
    const e2 = this.getRangeAxisPosition({ datum: t3 });
    return this.getValueThroughAxisPosition(e2, t3);
  }
  getMainXScaleType() {
    return this.getScaleTypeByPosition(this.getMainXAxisPosition());
  }
  getMainYScaleType() {
    return this.getScaleTypeByPosition(this.getMainYAxisPosition());
  }
  getDomainIdentifier(t3) {
    const e2 = this.model.getOptions();
    return rt(e2, "axes", this.getDomainAxisPosition({ datum: t3 }), "mapsTo");
  }
  getRangeIdentifier(t3) {
    const e2 = this.model.getOptions();
    return rt(e2, "axes", this.getRangeAxisPosition({ datum: t3 }), "mapsTo");
  }
  extendsDomain(t3, e2) {
    const n2 = this.model.getOptions(), s2 = rt(n2, "axes", t3);
    if (s2.scaleType === F.TIME) {
      const o2 = rt(n2, "timeScale", "addSpaceOnEdges");
      return Ji3(e2, o2);
    } else
      return Qi4(e2, vm.paddingRatio, s2.scaleType);
  }
  findVerticalAxesPositions() {
    const t3 = this.model.getOptions(), e2 = rt(t3, "axes"), n2 = this.isDualAxes();
    return rt(e2, b.LEFT) === null && rt(e2, b.RIGHT) !== null || rt(e2, b.RIGHT, "main") === true || n2 && rt(e2, b.LEFT, "correspondingDatasets") ? {
      primary: b.RIGHT,
      secondary: b.LEFT
    } : { primary: b.LEFT, secondary: b.RIGHT };
  }
  findHorizontalAxesPositions() {
    const t3 = this.model.getOptions(), e2 = rt(t3, "axes"), n2 = this.isDualAxes();
    return rt(e2, b.BOTTOM) === null && rt(e2, b.TOP) !== null || rt(e2, b.TOP, "main") === true || n2 && rt(e2, b.BOTTOM, "correspondingDatasets") ? {
      primary: b.TOP,
      secondary: b.BOTTOM
    } : { primary: b.BOTTOM, secondary: b.TOP };
  }
  findDomainAndRangeAxesPositions(t3, e2) {
    const n2 = this.model.getOptions(), s2 = rt(n2, "axes", t3.primary), o2 = rt(n2, "axes", e2.primary), a2 = s2.scaleType || F.LINEAR, r3 = o2.scaleType || F.LINEAR, h3 = {
      primaryDomainAxisPosition: null,
      secondaryDomainAxisPosition: null,
      primaryRangeAxisPosition: null,
      secondaryRangeAxisPosition: null
    };
    return h3.primaryDomainAxisPosition = e2.primary, h3.primaryRangeAxisPosition = t3.primary, h3.secondaryDomainAxisPosition = e2.secondary, h3.secondaryRangeAxisPosition = t3.secondary, (!(r3 === F.LABELS || r3 === F.TIME) && a2 === F.LABELS || a2 === F.TIME) && (h3.primaryDomainAxisPosition = t3.primary, h3.primaryRangeAxisPosition = e2.primary, h3.secondaryDomainAxisPosition = t3.secondary, h3.secondaryRangeAxisPosition = e2.secondary), h3;
  }
  getScaleDomain(t3) {
    const e2 = this.model.getOptions(), n2 = rt(e2, "axes", t3), s2 = rt(e2, "bounds"), { includeZero: o2 } = n2, a2 = rt(n2, "scaleType") || F.LINEAR;
    if (this.model.isDataEmpty())
      return [];
    if (n2.binned) {
      const { bins: u3 } = this.model.getBinConfigurations();
      return [0, B0(u3, (x4) => x4.length)];
    } else if (n2.limitDomainToBins) {
      const { bins: u3 } = this.model.getBinConfigurations(), x4 = this.model.getStackKeys({ bins: u3 });
      return [x4[0].split(":")[0], x4[x4.length - 1].split(":")[1]];
    }
    const r3 = this.model.getDisplayData(), { extendLinearDomainBy: h3, mapsTo: l2, percentage: f2, thresholds: y4 } = n2, { reference: p3, compareTo: v4 } = vm.ratio;
    if (n2.domain)
      return a2 === F.LABELS ? n2.domain : (a2 === F.TIME && (n2.domain = n2.domain.map(
        (u3) => u3.getTime === void 0 ? new Date(u3) : u3
      )), this.extendsDomain(t3, n2.domain));
    if (f2)
      return [0, 100];
    if (n2 && a2 === F.LABELS)
      return H0(r3.map((u3) => u3[l2]));
    let g3, d2;
    const D4 = this.model.getDataGroupNames();
    if (a2 === F.LABELS_RATIO)
      return r3.map((u3) => `${u3[p3]}/${u3[v4]}`);
    if (a2 === F.TIME)
      d2 = r3.map((u3) => +new Date(u3[l2]));
    else if (s2 && e2.axes)
      d2 = [], r3.forEach((u3) => {
        d2.push(u3[l2]), u3[s2.upperBoundMapsTo] && d2.push(u3[s2.upperBoundMapsTo]), u3[s2.lowerBoundMapsTo] && d2.push(u3[s2.lowerBoundMapsTo]);
      });
    else if (n2.stacked === true && D4 && t3 === this.getRangeAxisPosition()) {
      const { groupMapsTo: u3 } = e2.data, x4 = this.model.getDataValuesGroupedByKeys({
        groups: D4
      }), Rt4 = r3.filter(
        (b3) => !D4.includes(b3[u3])
      ), $4 = [];
      x4.forEach((b3) => {
        const { ...Bt4 } = b3;
        let U3 = 0, K5 = 0;
        Object.values(pi3(Bt4, "sharedStackKey")).forEach((P3) => {
          isNaN(P3) || (P3 < 0 ? K5 += P3 : U3 += P3);
        }), $4.push([K5, U3]);
      }), d2 = [
        ...pt3($4),
        ...Rt4.map((b3) => b3[l2])
      ];
    } else
      d2 = [], r3.forEach((u3) => {
        const x4 = u3[l2];
        Array.isArray(x4) && x4.length === 2 ? (d2.push(x4[0]), d2.push(x4[1])) : (h3 && d2.push(Math.max(u3[l2], u3[h3])), d2.push(x4));
      });
    return a2 !== F.TIME && a2 !== F.LOG && o2 && d2.push(0), y4 && y4.length > 0 && y4.forEach((u3) => {
      const x4 = rt(u3, "value");
      x4 !== null && d2.push(x4);
    }), g3 = _l(d2), g3 = this.extendsDomain(t3, g3), g3;
  }
  createScale(t3) {
    const e2 = this.model.getOptions(), n2 = rt(e2, "axes", t3);
    if (!n2)
      return null;
    const s2 = rt(n2, "scaleType") || F.LINEAR;
    this.scaleTypes[t3] = s2;
    let o2;
    return s2 === F.TIME ? o2 = Ai2() : s2 === F.LOG ? o2 = xt4().base(n2.base || 10) : s2 === F.LABELS || s2 === F.LABELS_RATIO ? o2 = yn2() : o2 = na(), o2.domain(this.getScaleDomain(t3)), o2;
  }
  getDomainLowerBound(t3) {
    let e2, n2 = 0;
    return this.getOrientation() === w.VERTICAL ? e2 = this.getMainYScale().domain() : e2 = this.getMainXScale().domain(), rt(this.model.getOptions(), "axes", t3, "includeZero") === false && e2[0] > 0 && e2[1] > 0 && (n2 = e2[0]), n2;
  }
  getHighestDomainThreshold() {
    const t3 = rt(this.model.getOptions(), "axes"), e2 = this.getDomainAxisPosition(), { thresholds: n2 } = t3[e2];
    if (!Array.isArray(n2) || Array.isArray(n2) && !n2.length)
      return null;
    const s2 = this.getDomainScale(), o2 = n2.sort((r3, h3) => h3.value - r3.value)[0];
    return this.getScaleTypeByPosition(e2) === F.TIME && (typeof o2.value == "string" || o2.value.getTime === void 0) && (o2.value = new Date(o2.value)), {
      threshold: o2,
      scaleValue: s2(o2.value)
    };
  }
  getHighestRangeThreshold() {
    const t3 = rt(this.model.getOptions(), "axes"), e2 = this.getRangeAxisPosition(), { thresholds: n2 } = t3[e2];
    if (!Array.isArray(n2) || Array.isArray(n2) && !n2.length)
      return null;
    const s2 = this.getRangeScale(), o2 = n2.sort((a2, r3) => r3.value - a2.value)[0];
    return {
      threshold: o2,
      scaleValue: s2(o2.value)
    };
  }
};
function Ji3(i10, t3) {
  const e2 = new Date(i10[0]), n2 = new Date(i10[1]);
  return zi3(n2, e2) > 1 ? [Vi4(e2, t3), St4(n2, t3)] : $i4(n2, e2) > 1 ? [Ui4(e2, t3), X4(n2, t3)] : Ki3(n2, e2) > 1 ? [qi4(e2, t3), Pt2(n2, t3)] : ji4(n2, e2) > 1 ? [Wi4(e2, t3), wt4(n2, t3)] : ht5(n2, e2) > 30 ? [
    ct3(e2, t3 * 30),
    Z4(n2, t3 * 30)
  ] : ht5(n2, e2) > 1 ? [ct3(e2, t3), Z4(n2, t3)] : lt2(n2, e2) > 15 ? [
    _t3(e2, t3 * 15),
    F3(n2, t3 * 15)
  ] : lt2(n2, e2) > 1 ? [_t3(e2, t3), F3(n2, t3)] : [e2, n2];
}
function Qi4([i10, t3], e2, n2) {
  const o2 = (t3 - i10) * e2, a2 = t3 <= 0 && t3 + o2 > 0 ? 0 : t3 + o2;
  let r3 = i10 >= 0 && i10 - o2 < 0 ? 0 : i10 - o2;
  if (n2 === F.LOG && r3 <= 0) {
    if (i10 <= 0)
      throw Error("Data must have values greater than 0 if log scale type is used.");
    r3 = i10;
  }
  return [r3, a2];
}
var he4 = class extends Ut3 {
  constructor() {
    super(...arguments), this.curveTypes = {
      curveLinear: Gi2,
      curveLinearClosed: Ni2,
      curveBasis: Ai4,
      curveBasisClosed: Oi4,
      curveBasisOpen: Mi4,
      curveBundle: bi4,
      curveCardinal: Si4,
      curveCardinalClosed: Pi4,
      curveCardinalOpen: Ei4,
      curveCatmullRom: wi4,
      curveCatmullRomClosed: ki4,
      curveCatmullRomOpen: Ri4,
      curveMonotoneX: Bi3,
      curveMonotoneY: Li4,
      curveNatural: Ni4,
      curveStep: Ci4,
      curveStepAfter: Zi4,
      curveStepBefore: Ii3
    };
  }
  getD3Curve() {
    let t3 = "curveLinear";
    const e2 = this.model.getOptions().curve;
    if (e2 && (typeof e2 == "string" ? t3 = e2 : t3 = e2.name), this.curveTypes[t3]) {
      let n2 = this.curveTypes[t3];
      return e2 && Object.keys(e2).forEach((s2) => {
        n2[s2] && (n2 = n2[s2](e2[s2]));
      }), n2;
    }
    return console.warn(`The curve type '${t3}' is invalid, using 'curveLinear' instead`), this.curveTypes.curveLinear;
  }
};
var ce3 = class extends Ut3 {
  isZoomBarEnabled() {
    if (!this.services.cartesianScales || !rt(this.model.getOptions(), "zoomBar", "top", "enabled"))
      return false;
    this.services.cartesianScales.findDomainAndRangeAxes();
    const t3 = this.services.cartesianScales.getMainXAxisPosition(), e2 = rt(
      this.model.getOptions(),
      "axes",
      t3,
      "scaleType"
    );
    return t3 === b.BOTTOM && e2 === F.TIME;
  }
  // get display data for zoom bar
  // basically it's sum of value grouped by time
  getZoomBarData() {
    const t3 = this.model.getZoomBarData();
    return t3 && t3.length > 1 ? t3 : this.model.getDisplayData();
  }
  getDefaultZoomBarDomain(t3) {
    if (!this.services.zoom) throw new Error("Services zoom not defined");
    const e2 = t3 || this.services.zoom.getZoomBarData(), { cartesianScales: n2 } = this.services;
    if (!n2) throw new Error("Services cartesianScales undefined");
    const s2 = n2.getMainXAxisPosition(), o2 = n2.getDomainIdentifier(), a2 = rt(this.model.getOptions(), "axes", s2, "domain");
    if (Array.isArray(a2) && a2.length === 2)
      return a2;
    if (!s2) throw new Error("Not defined: mainXAxisPosition");
    return n2.extendsDomain(
      s2,
      _l(e2, (r3) => r3[o2])
    );
  }
  handleDomainChange(t3, e2 = { dispatchEvent: true }) {
    var n2;
    this.model.set({ zoomDomain: t3 }, { animate: false }), e2.dispatchEvent && ((n2 = this.services.events) == null || n2.dispatchEvent(_E.ZoomDomain.CHANGE, {
      newDomain: t3
    }));
  }
  getZoomRatio() {
    return rt(this.model.getOptions(), "zoomBar", "zoomRatio");
  }
  // filter out data not inside zoom domain
  // to get better range value for axis label
  filterDataForRangeAxis(t3, e2) {
    var a2;
    const n2 = this.model.get("zoomDomain"), s2 = Object.assign(
      { stacked: false },
      // default configs
      e2
    ), o2 = rt(this.model.getOptions(), "zoomBar", "updateRangeAxis");
    if (this.isZoomBarEnabled() && o2 && n2) {
      const r3 = s2.stacked ? "sharedStackKey" : (a2 = this.services.cartesianScales) == null ? void 0 : a2.getDomainIdentifier(), h3 = t3.filter(
        (l2) => new Date(l2[r3]) >= n2[0] && new Date(l2[r3]) <= n2[1]
      );
      if (h3.length > 0)
        return h3;
    }
    return t3;
  }
  zoomIn(t3 = this.getZoomRatio()) {
    var v4;
    const e2 = this.model.get("zoomDomain"), n2 = Lm.handleWidth, s2 = (v4 = this.services.cartesianScales) == null ? void 0 : v4.getMainXScale().copy();
    s2.domain(this.getDefaultZoomBarDomain());
    const o2 = s2(e2[0]), a2 = s2(e2[1]);
    if (a2 - o2 < n2 + 1)
      return;
    const r3 = s2.range(), h3 = a2 - o2, l2 = Math.min((r3[1] - r3[0]) / 2 * (t3 / 2), h3 / 2);
    let f2 = o2 + l2, y4 = a2 - l2;
    f2 >= y4 && (f2 = o2 + h3 / 2 - n2 / 2, y4 = a2 - h3 / 2 + n2 / 2);
    const p3 = [s2.invert(f2), s2.invert(y4)];
    (e2[0].valueOf() !== p3[0].valueOf() || e2[1].valueOf() !== p3[1].valueOf()) && this.handleDomainChange(p3);
  }
  zoomOut(t3 = this.getZoomRatio()) {
    const e2 = this.model.get("zoomDomain");
    if (!this.services.cartesianScales) throw new Error("Services cartesianScales undefined");
    const n2 = this.services.cartesianScales.getMainXScale().copy();
    n2.domain(this.getDefaultZoomBarDomain());
    const s2 = n2(e2[0]), o2 = n2(e2[1]), a2 = n2.range(), r3 = (a2[1] - a2[0]) / 2 * (t3 / 2), h3 = Math.max(s2 - r3, a2[0]), l2 = Math.min(o2 + r3, a2[1]), f2 = [n2.invert(h3), n2.invert(l2)];
    (e2[0].valueOf() !== f2[0].valueOf() || e2[1].valueOf() !== f2[1].valueOf()) && this.handleDomainChange(f2);
  }
  resetZoomDomain() {
    const t3 = this.model.get("zoomDomain"), e2 = this.getDefaultZoomBarDomain();
    (t3[0].valueOf() !== e2[0].valueOf() || t3[1].valueOf() !== e2[1].valueOf()) && this.handleDomainChange(e2);
  }
  // check if current zoom domain is already the min zoom domain
  // when toolbar is rendered, we don't render chart yet
  // don't depend on scale range
  isMinZoomDomain() {
    const t3 = this.model.get("zoomDomain"), e2 = this.getDefaultZoomBarDomain();
    if (!t3 || !e2)
      return false;
    const n2 = t3[1].valueOf() - t3[0].valueOf(), s2 = e2[1].valueOf() - e2[0].valueOf(), o2 = rt(this.model.getOptions(), "zoomBar", "minZoomRatio");
    return n2 / s2 < o2;
  }
  // check if current zoom domain is already the max zoom domain
  isMaxZoomDomain() {
    const t3 = this.model.get("zoomDomain"), e2 = this.getDefaultZoomBarDomain();
    return !!(t3 && e2 && t3[0].valueOf() === e2[0].valueOf() && t3[1].valueOf() === e2[1].valueOf());
  }
  isEmptyState() {
    return this.getZoomBarData().length === 0;
  }
  isZoomBarLoading(t3) {
    return rt(this.model.getOptions(), "zoomBar", t3, "loading");
  }
  isZoomBarLocked(t3) {
    return rt(this.model.getOptions(), "zoomBar", t3, "locked");
  }
};

// node_modules/@carbon/charts/dist/index.mjs
function Ts4(t3, s2, e2) {
  var n2 = t3.length;
  return e2 = e2 === void 0 ? n2 : e2, ci4(t3, s2, e2);
}
var bs4 = "\\ud800-\\udfff";
var Os2 = "\\u0300-\\u036f";
var Ss3 = "\\ufe20-\\ufe2f";
var fs3 = "\\u20d0-\\u20ff";
var As3 = Os2 + Ss3 + fs3;
var xs3 = "\\ufe0e\\ufe0f";
var ys3 = "\\u200d";
var Ds2 = RegExp("[" + ys3 + bs4 + As3 + xs3 + "]");
function me3(t3) {
  return Ds2.test(t3);
}
function Ls3(t3) {
  return t3.split("");
}
var le3 = "\\ud800-\\udfff";
var Fs3 = "\\u0300-\\u036f";
var Ps2 = "\\ufe20-\\ufe2f";
var Ms3 = "\\u20d0-\\u20ff";
var ks2 = Fs3 + Ps2 + Ms3;
var Bs2 = "\\ufe0e\\ufe0f";
var Is2 = "[" + le3 + "]";
var q3 = "[" + ks2 + "]";
var X5 = "\\ud83c[\\udffb-\\udfff]";
var Hs2 = "(?:" + q3 + "|" + X5 + ")";
var pe2 = "[^" + le3 + "]";
var de3 = "(?:\\ud83c[\\udde6-\\uddff]){2}";
var Ce4 = "[\\ud800-\\udbff][\\udc00-\\udfff]";
var Gs2 = "\\u200d";
var ue4 = Hs2 + "?";
var ve3 = "[" + Bs2 + "]?";
var Vs2 = "(?:" + Gs2 + "(?:" + [pe2, de3, Ce4].join("|") + ")" + ve3 + ue4 + ")*";
var Ns2 = ve3 + ue4 + Vs2;
var Us3 = "(?:" + [pe2 + q3 + "?", q3, de3, Ce4, Is2].join("|") + ")";
var Zs3 = RegExp(X5 + "(?=" + X5 + ")|" + Us3 + Ns2, "g");
function _s2(t3) {
  return t3.match(Zs3) || [];
}
function zs2(t3) {
  return me3(t3) ? _s2(t3) : Ls3(t3);
}
function Ws3(t3) {
  return function(s2) {
    s2 = Ou(s2);
    var e2 = me3(s2) ? zs2(s2) : void 0, n2 = e2 ? e2[0] : s2.charAt(0), o2 = e2 ? Ts4(e2, 1).join("") : s2.slice(1);
    return n2[t3]() + o2;
  };
}
var js3 = Ws3("toUpperCase");
function $s2(t3) {
  return js3(Ou(t3).toLowerCase());
}
var Ks3 = vc2(function(t3, s2, e2) {
  return s2 = s2.toLowerCase(), t3 + (e2 ? $s2(s2) : s2);
});
var T3 = class {
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  constructor(s2, e2) {
    this.components = [], this.services = {
      canvasZoom: ne3,
      domUtils: ve2,
      events: se3,
      files: oe3,
      gradientUtils: Ft3,
      transitions: ae3
    }, this.model = new v2(this.services);
  }
  // Contains the code that uses properties that are overridable by the super-class
  init(s2, e2) {
    this.model.set({ holder: s2 }, { skipUpdate: true }), Object.keys(this.services).forEach((n2) => {
      const o2 = this.services[n2];
      this.services[n2] = new o2(this.model, this.services);
    }), this.services.events.addEventListener(_E.Model.UPDATE, (n2) => {
      const o2 = !!rt(n2, "detail", "animate");
      this.update(o2);
    }), this.model.setData(e2.data), this.services.events.addEventListener(_E.Chart.RESIZE, () => {
      this.update(false);
    }), this.components = this.getComponents(), this.update();
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    return console.error("getComponents() method is not implemented"), [];
  }
  update(s2 = true) {
    if (!this.components)
      return;
    Object.keys(this.services).forEach((o2) => {
      this.services[o2].update();
    }), this.components.forEach((o2) => o2.render(s2));
    const e2 = this.services.transitions.getPendingTransitions(), n2 = Object.keys(e2).map((o2) => e2[o2].end().catch((m3) => m3));
    Promise.all(n2).then(
      () => this.services.events.dispatchEvent(_E.Chart.RENDER_FINISHED)
    );
  }
  destroy() {
    this.components.forEach((s2) => s2.destroy()), this.services.domUtils.getHolder().remove(), this.model.set({ destroyed: true }, { skipUpdate: true });
  }
  getChartComponents(s2, e2) {
    const n2 = this.model.getOptions(), o2 = rt(n2, "toolbar", "enabled"), c2 = {
      id: "legend",
      components: [new Rd2(this.model, this.services)],
      growth: z.PREFERRED
    }, m3 = rt(n2, "canvasZoom", "enabled");
    m3 && m3 === true && s2.push(new lm2(this.model, this.services));
    const b3 = !!this.model.getOptions().title, O3 = {
      id: "title",
      components: [new Id2(this.model, this.services)],
      growth: z.STRETCH
    }, x4 = {
      id: "toolbar",
      components: [new Sr3(this.model, this.services)],
      growth: z.PREFERRED
    }, F4 = {
      id: "header",
      components: [
        new Tr3(
          this.model,
          this.services,
          [
            // always add title to keep layout correct
            O3,
            ...o2 ? [x4] : []
          ],
          {
            direction: W.ROW,
            alignItems: q.CENTER
          }
        )
      ],
      growth: z.PREFERRED
    }, y4 = {
      id: "graph-frame",
      components: s2,
      growth: z.STRETCH,
      renderType: rt(e2, "graphFrameRenderType") || D.SVG
    }, D4 = rt(e2, "excludeLegend") !== true && n2.legend.enabled !== false;
    let S3 = W.COLUMN;
    if (D4) {
      const f2 = rt(n2, "legend", "position");
      f2 === "left" ? (S3 = W.ROW, n2.legend.orientation || (n2.legend.orientation = G.VERTICAL)) : f2 === "right" ? (S3 = W.ROW_REVERSE, n2.legend.orientation || (n2.legend.orientation = G.VERTICAL)) : f2 === "bottom" && (S3 = W.COLUMN_REVERSE);
    }
    const P3 = {
      id: "spacer",
      components: [new rm2(this.model, this.services)],
      growth: z.PREFERRED
    }, v4 = {
      id: "full-frame",
      components: [
        new Tr3(
          this.model,
          this.services,
          [
            ...D4 ? [c2] : [],
            ...D4 ? [P3] : [],
            y4
          ],
          {
            direction: S3
          }
        )
      ],
      growth: z.STRETCH
    }, E = [];
    if (b3 || o2) {
      E.push(F4);
      const f2 = {
        id: "spacer",
        components: [
          new rm2(this.model, this.services, o2 ? { size: 15 } : void 0)
        ],
        growth: z.PREFERRED
      };
      E.push(f2);
    }
    return E.push(v4), [
      new Nd2(this.model, this.services),
      new om2(this.model, this.services),
      new Tr3(this.model, this.services, E, {
        direction: W.COLUMN
      })
    ];
  }
};
var u2 = class extends T3 {
  constructor(s2, e2) {
    super(s2, e2), this.services = Object.assign(this.services, {
      cartesianScales: re3,
      curves: he4,
      zoom: ce3
    }), this.model = new M3(this.services);
  }
  getAxisChartComponents(s2, e2) {
    const n2 = this.model.getOptions(), o2 = rt(n2, "zoomBar", b.TOP, "enabled"), c2 = rt(n2, "toolbar", "enabled");
    this.services.cartesianScales.determineAxisDuality(), this.services.cartesianScales.findDomainAndRangeAxes(), this.services.cartesianScales.determineOrientation();
    const m3 = this.services.cartesianScales.getMainXAxisPosition(), b3 = rt(n2, "axes", m3, "scaleType"), O3 = o2 && m3 === b.BOTTOM && b3 === F.TIME, x4 = this.services.zoom.isZoomBarLocked(b.TOP), F4 = !!this.model.getOptions().title, y4 = {
      id: "title",
      components: [new Id2(this.model, this.services)],
      growth: z.STRETCH
    }, D4 = {
      id: "toolbar",
      components: [new Sr3(this.model, this.services)],
      growth: z.PREFERRED
    }, S3 = {
      id: "header",
      components: [
        new Tr3(
          this.model,
          this.services,
          [
            // always add title to keep layout correct
            y4,
            ...c2 ? [D4] : []
          ],
          {
            direction: W.ROW,
            alignItems: q.CENTER
          }
        )
      ],
      growth: z.PREFERRED
    }, P3 = {
      id: "legend",
      components: [new Rd2(this.model, this.services)],
      growth: z.PREFERRED
    };
    O3 && !x4 && s2.push(
      new Dd2(this.model, this.services),
      new Lr3(this.model, this.services)
    ), s2.push(new um2(this.model, this.services)), s2.push(new hm2(this.model, this.services));
    const v4 = {
      id: "graph-frame",
      components: s2,
      growth: z.STRETCH,
      renderType: D.SVG
    }, E = rt(e2, "legend", "enabled") !== false && this.model.getOptions().legend.enabled !== false;
    let f2 = W.COLUMN;
    if (E) {
      const G5 = rt(this.model.getOptions(), "legend", "position");
      G5 === P.LEFT ? (f2 = W.ROW, this.model.getOptions().legend.orientation || (this.model.getOptions().legend.orientation = G.VERTICAL)) : G5 === P.RIGHT ? (f2 = W.ROW_REVERSE, this.model.getOptions().legend.orientation || (this.model.getOptions().legend.orientation = G.VERTICAL)) : G5 === P.BOTTOM && (f2 = W.COLUMN_REVERSE);
    }
    const ge3 = {
      id: "spacer",
      components: [new rm2(this.model, this.services)],
      growth: z.PREFERRED
    }, we3 = {
      id: "full-frame",
      components: [
        new Tr3(
          this.model,
          this.services,
          [
            ...E ? [P3] : [],
            ...E ? [ge3] : [],
            v4
          ],
          {
            direction: f2
          }
        )
      ],
      growth: z.STRETCH
    }, Ee3 = {
      id: "zoom-bar",
      components: [new cm2(this.model, this.services)],
      growth: z.PREFERRED,
      renderType: D.SVG
    }, H5 = [];
    if (F4 || c2) {
      H5.push(S3);
      const G5 = {
        id: "spacer",
        components: [
          new rm2(this.model, this.services, c2 ? { size: 15 } : void 0)
        ],
        growth: z.PREFERRED
      };
      H5.push(G5);
    }
    return O3 && H5.push(Ee3), H5.push(we3), [
      new dm2(this.model, this.services),
      new om2(this.model, this.services),
      new Tr3(this.model, this.services, H5, {
        direction: W.COLUMN
      })
    ];
  }
};
var tt4 = class extends T3 {
  constructor(s2, e2) {
    super(s2, e2), this.model = new kt2(this.services), this.model.setOptions(z0(s0.alluvialChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [new pm2(this.model, this.services)];
    return this.getChartComponents(s2, {
      excludeLegend: true
    });
  }
};
var ot4 = class extends u2 {
  constructor(s2, e2) {
    super(s2, e2), this.model.setOptions(
      z0(hf(s0.areaChart), e2.options)
    ), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new vm2(this.model, this.services),
      new fm2(this.model, this.services),
      new Zo2(this.model, this.services),
      new mm2(this.model, this.services),
      new gm2(this.model, this.services),
      new Ji2(this.model, this.services, {
        fadeInOnChartHolderMouseover: true,
        handleThresholds: true
      }),
      new sp(this.model, this.services, {
        skeleton: Z.GRID
      })
    ];
    return this.getAxisChartComponents(s2);
  }
};
var nt4 = class extends u2 {
  constructor(s2, e2) {
    super(s2, e2), this.model = new Ft2(this.services), this.model.setOptions(z0(s0.boxplotChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new vm2(this.model, this.services),
      new fm2(this.model, this.services),
      new ym2(this.model, this.services),
      new Em2(this.model, this.services),
      new sp(this.model, this.services, {
        skeleton: Z.VERT_OR_HORIZ
      })
    ];
    return this.getAxisChartComponents(s2, {
      legend: {
        enabled: false
      }
    });
  }
};
var it4 = class extends u2 {
  constructor(s2, e2) {
    super(s2, e2), this.model.setOptions(z0(s0.bubbleChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new vm2(this.model, this.services),
      new fm2(this.model, this.services),
      new Zo2(this.model, this.services),
      new xm2(this.model, this.services),
      new sp(this.model, this.services, {
        skeleton: Z.GRID
      })
    ];
    return this.getAxisChartComponents(s2);
  }
};
var rt4 = class extends u2 {
  constructor(s2, e2) {
    super(s2, e2), this.model = new Bt2(this.services), this.model.setOptions(z0(s0.bulletChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new vm2(this.model, this.services),
      new fm2(this.model, this.services),
      new Sm2(this.model, this.services),
      new sp(this.model, this.services, {
        skeleton: Z.GRID
      })
    ];
    return this.getAxisChartComponents(s2);
  }
};
var at4 = class extends T3 {
  constructor(s2, e2) {
    super(s2, e2), this.model = new Vt(this.services), this.model.setOptions(
      z0(s0.choroplethChart, e2.options)
    ), this.init(s2, e2);
  }
  // Custom getChartComponents - Implements getChartComponents
  // Removes zoombar support and additional `features` that are not supported in heatmap
  getChartComponents(s2, e2) {
    const n2 = this.model.getOptions(), o2 = rt(n2, "toolbar", "enabled"), c2 = !!this.model.getOptions().title, m3 = {
      id: "title",
      components: [new Id2(this.model, this.services)],
      growth: z.STRETCH
    }, b3 = {
      id: "toolbar",
      components: [new Sr3(this.model, this.services)],
      growth: z.PREFERRED
    }, O3 = {
      id: "header",
      components: [
        new Tr3(
          this.model,
          this.services,
          [
            // always add title to keep layout correct
            m3,
            ...o2 ? [b3] : []
          ],
          {
            direction: W.ROW,
            alignItems: q.CENTER
          }
        )
      ],
      growth: z.PREFERRED
    }, x4 = {
      id: "legend",
      components: [
        new Rm2(this.model, this.services, {
          chartType: "choropleth"
        })
      ],
      growth: z.PREFERRED,
      renderType: D.SVG
    }, F4 = {
      id: "graph-frame",
      components: s2,
      growth: z.STRETCH,
      renderType: D.SVG
    }, y4 = rt(e2, "legend", "enabled") !== false && this.model.getOptions().legend.enabled !== false && this.model.getData().length > 0, D4 = W.COLUMN_REVERSE, S3 = {
      id: "spacer",
      components: [new rm2(this.model, this.services, { size: 15 })],
      growth: z.PREFERRED
    }, P3 = {
      id: "full-frame",
      components: [
        new Tr3(
          this.model,
          this.services,
          [
            ...y4 ? [x4] : [],
            ...y4 ? [S3] : [],
            F4
          ],
          {
            direction: D4
          }
        )
      ],
      growth: z.STRETCH
    }, v4 = [];
    if (c2 || o2) {
      v4.push(O3);
      const E = {
        id: "spacer",
        components: [
          new rm2(this.model, this.services, o2 ? { size: 15 } : void 0)
        ],
        growth: z.PREFERRED
      };
      v4.push(E);
    }
    return v4.push(P3), [
      new Nd2(this.model, this.services),
      new om2(this.model, this.services),
      new Tr3(this.model, this.services, v4, {
        direction: W.COLUMN
      })
    ];
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [new Jm2(this.model, this.services)];
    return this.getChartComponents(s2);
  }
};
var ht6 = class extends T3 {
  constructor(s2, e2) {
    super(s2, e2), this.model = new _t2(this.services), this.model.setOptions(z0(s0.circlePackChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [new Nm2(this.model, this.services)];
    return this.getChartComponents(s2);
  }
};
var Q3 = {
  [p.LINE]: [mm2, Ji2],
  [p.SCATTER]: [Ji2],
  [p.AREA]: [gm2, mm2, Ji2],
  [p.STACKED_AREA]: [Xm2, mm2, Zm2, bm2],
  [p.SIMPLE_BAR]: [Fm2],
  [p.GROUPED_BAR]: [Vm2, Em2],
  [p.STACKED_BAR]: [Ym2, bm2]
};
var ct4 = class extends u2 {
  constructor(s2, e2) {
    super(s2, e2);
    const n2 = z0(s0.comboChart, e2.options);
    e2.options.comboChartTypes || (console.error("No comboChartTypes defined for the Combo Chart!"), n2.comboChartTypes = [{ type: p.LINE, correspondingDatasets: [] }]), this.model.setOptions(n2), this.init(s2, e2);
  }
  getGraphComponents() {
    const { comboChartTypes: s2 } = this.model.getOptions();
    let e2 = 0;
    const n2 = s2.map((o2) => {
      const c2 = o2.type;
      let m3;
      if (typeof o2.type == "string") {
        if (!Object.keys(Q3).includes(o2.type))
          return console.error(
            `Invalid chart type "${o2.type}" specified for combo chart. Please refer to the ComboChart tutorial for more guidance.`
          ), null;
        let b3 = false;
        const O3 = `${Ks3(o2.type)}Chart`;
        return m3 = y2({}, s0[O3], this.model.getOptions(), o2.options), o2.type === p.STACKED_AREA && (b3 = true), Q3[o2.type].map(
          (x4) => new x4(this.model, this.services, {
            groups: o2.correspondingDatasets,
            id: e2++,
            options: m3,
            stacked: b3
          })
        );
      } else
        return m3 = y2({}, this.model.getOptions(), o2.options), new c2(this.model, this.services, {
          groups: o2.correspondingDatasets,
          id: e2++,
          options: m3
        });
    }).filter((o2) => o2 !== null);
    return pt3(n2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const { comboChartTypes: s2 } = this.model.getOptions(), e2 = s2.some(
      (c2) => c2.type === p.STACKED_BAR || c2.type === p.STACKED_AREA
    ), n2 = [
      new vm2(this.model, this.services),
      new fm2(this.model, this.services),
      new sp(this.model, this.services, {
        skeleton: Z.GRID
      }),
      ...e2 ? [] : [new Zo2(this.model, this.services)],
      ...this.getGraphComponents()
    ];
    return this.getAxisChartComponents(n2);
  }
};
var Js3 = class extends T3 {
  // TODO - Optimize the use of "extending"
  constructor(s2, e2, n2 = false) {
    super(s2, e2), this.model = new wt2(this.services), !n2 && (this.model.setOptions(z0(s0.pieChart, e2.options)), this.init(s2, e2));
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new pp(this.model, this.services),
      new sp(this.model, this.services, {
        skeleton: Z.PIE
      })
    ];
    return this.getChartComponents(s2);
  }
};
var mt5 = class extends Js3 {
  constructor(s2, e2) {
    super(s2, e2, true), this.model.setOptions(z0(s0.donutChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new Pm2(this.model, this.services),
      new sp(this.model, this.services, {
        skeleton: Z.DONUT
      })
    ];
    return this.getChartComponents(s2);
  }
};
var lt3 = class extends T3 {
  constructor(s2, e2) {
    super(s2, e2), this.model = new $t2(this.services), this.model.setOptions(z0(s0.gaugeChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [new $m2(this.model, this.services)];
    return this.getChartComponents(s2);
  }
};
var pt4 = class extends u2 {
  constructor(s2, e2) {
    super(s2, e2), this.model.setOptions(z0(s0.groupedBarChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new vm2(this.model, this.services),
      new fm2(this.model, this.services),
      new Vm2(this.model, this.services),
      new Em2(this.model, this.services),
      new sp(this.model, this.services, {
        skeleton: Z.VERT_OR_HORIZ
      })
    ];
    return this.getAxisChartComponents(s2);
  }
};
var dt5 = class extends u2 {
  constructor(s2, e2) {
    super(s2, e2), this.model = new Lt2(this.services), this.model.setOptions(
      z0(s0.heatmapChart, e2.options)
    ), this.init(s2, e2);
  }
  // Custom getChartComponents - Implements getChartComponents
  // Removes zoombar support and additional `features` that are not supported in heatmap
  getAxisChartComponents(s2, e2) {
    const n2 = this.model.getOptions(), o2 = rt(n2, "toolbar", "enabled");
    this.services.cartesianScales.determineAxisDuality(), this.services.cartesianScales.findDomainAndRangeAxes(), this.services.cartesianScales.determineOrientation();
    const c2 = !!this.model.getOptions().title, m3 = {
      id: "title",
      components: [new Id2(this.model, this.services)],
      growth: z.STRETCH
    }, b3 = {
      id: "toolbar",
      components: [new Sr3(this.model, this.services)],
      growth: z.PREFERRED
    }, O3 = {
      id: "header",
      components: [
        new Tr3(
          this.model,
          this.services,
          [
            // always add title to keep layout correct
            m3,
            ...o2 ? [b3] : []
          ],
          {
            direction: W.ROW,
            alignItems: q.CENTER
          }
        )
      ],
      growth: z.PREFERRED
    }, x4 = {
      id: "legend",
      components: [
        new Rm2(this.model, this.services, {
          chartType: "heatmap"
        })
      ],
      growth: z.PREFERRED,
      renderType: D.SVG
    }, F4 = {
      id: "graph-frame",
      components: s2,
      growth: z.STRETCH,
      renderType: D.SVG
    }, y4 = rt(e2, "legend", "enabled") !== false && this.model.getOptions().legend.enabled !== false && this.model.getData().length > 0, D4 = W.COLUMN_REVERSE, S3 = {
      id: "spacer",
      components: [new rm2(this.model, this.services, { size: 15 })],
      growth: z.PREFERRED
    }, P3 = {
      id: "full-frame",
      components: [
        new Tr3(
          this.model,
          this.services,
          [
            ...y4 ? [x4] : [],
            ...y4 ? [S3] : [],
            F4
          ],
          {
            direction: D4
          }
        )
      ],
      growth: z.STRETCH
    }, v4 = [];
    if (c2 || o2) {
      v4.push(O3);
      const E = {
        id: "spacer",
        components: [
          new rm2(this.model, this.services, o2 ? { size: 15 } : void 0)
        ],
        growth: z.PREFERRED
      };
      v4.push(E);
    }
    return v4.push(P3), [
      new dm2(this.model, this.services),
      new om2(this.model, this.services),
      new Tr3(this.model, this.services, v4, {
        direction: W.COLUMN
      })
    ];
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new vm2(this.model, this.services),
      new Gm2(this.model, this.services)
    ];
    return this.getAxisChartComponents(s2);
  }
};
var Ct4 = class extends u2 {
  constructor(s2, e2) {
    super(s2, e2), this.model = new Rt2(this.services), this.model.setOptions(z0(s0.histogramChart, e2.options)), this.init(s2, e2), this.update();
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new vm2(this.model, this.services),
      new fm2(this.model, this.services),
      new Tm2(this.model, this.services),
      new Hm2(this.model, this.services)
    ];
    return this.getAxisChartComponents(s2);
  }
};
var ut3 = class extends u2 {
  constructor(s2, e2) {
    super(s2, e2), this.model.setOptions(z0(s0.lineChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new vm2(this.model, this.services),
      new fm2(this.model, this.services),
      new Zo2(this.model, this.services),
      new mm2(this.model, this.services),
      new Ji2(this.model, this.services, { handleThresholds: true }),
      new Wm2(this.model, this.services),
      new Em2(this.model, this.services)
    ];
    return this.getAxisChartComponents(s2);
  }
};
var vt6 = class extends u2 {
  constructor(s2, e2) {
    super(s2, e2), this.model.setOptions(z0(s0.lollipopChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new vm2(this.model, this.services),
      new fm2(this.model, this.services),
      new Zo2(this.model, this.services),
      new Bm2(this.model, this.services),
      new Ji2(this.model, this.services),
      new sp(this.model, this.services, {
        skeleton: Z.GRID
      })
    ];
    return this.getAxisChartComponents(s2);
  }
};
var gt6 = class extends T3 {
  constructor(s2, e2) {
    var o2;
    super(s2, e2), this.model = new zt2(this.services);
    const n2 = (o2 = e2.options.meter) != null && o2.proportional ? y2(hf(s0.proportionalMeterChart), e2.options) : y2(hf(s0.meterChart), e2.options);
    this.model.setOptions(n2), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const e2 = [
      ...rt(this.model.getOptions(), "meter", "showLabels") ? [
        // Meter has a unique dataset title within the graph
        {
          id: "meter-title",
          components: [new Dm2(this.model, this.services)],
          growth: z.STRETCH,
          renderType: D.SVG
        },
        // Create the title spacer
        {
          id: "spacer",
          components: [
            new rm2(this.model, this.services, {
              size: 8
            })
          ],
          growth: z.STRETCH
        }
      ] : [],
      // Specify what to render inside the graph only
      {
        id: "meter-graph",
        components: [new zm2(this.model, this.services)],
        growth: z.STRETCH,
        renderType: D.SVG
      }
    ], n2 = [
      new Tr3(this.model, this.services, e2, {
        direction: W.COLUMN
      })
    ];
    return this.getChartComponents(n2, {
      graphFrameRenderType: D.HTML
    });
  }
};
var wt5 = class extends T3 {
  constructor(s2, e2) {
    super(s2, e2), this.model = new Ut2(this.services), this.model.setOptions(z0(s0.radarChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [new Um2(this.model, this.services)];
    return this.getChartComponents(s2);
  }
};
var Et5 = class extends u2 {
  constructor(s2, e2) {
    super(s2, e2), this.model.setOptions(z0(s0.scatterChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new vm2(this.model, this.services),
      new fm2(this.model, this.services),
      new Zo2(this.model, this.services),
      new Ji2(this.model, this.services),
      new sp(this.model, this.services, {
        skeleton: Z.GRID
      })
    ];
    return this.getAxisChartComponents(s2);
  }
};
var Rt3 = class extends T3 {
  constructor(s2, e2) {
    super(s2, e2), this.model = new Kt(this.services), this.model.setOptions(z0(s0.treeChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [new qm2(this.model, this.services)];
    return this.getChartComponents(s2, {
      excludeLegend: true
    });
  }
};
var Tt4 = class extends T3 {
  constructor(s2, e2) {
    super(s2, e2), this.model = new jt2(this.services), this.model.setOptions(z0(s0.treemapChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [new jm2(this.model, this.services)];
    return this.getChartComponents(s2);
  }
};
var bt5 = class extends u2 {
  constructor(s2, e2) {
    super(s2, e2), this.model.setOptions(z0(s0.simpleBarChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new vm2(this.model, this.services),
      new fm2(this.model, this.services),
      new Fm2(this.model, this.services),
      new Em2(this.model, this.services),
      new sp(this.model, this.services, {
        skeleton: Z.VERT_OR_HORIZ
      })
    ];
    return this.getAxisChartComponents(s2);
  }
};
var Ot5 = class extends u2 {
  constructor(s2, e2) {
    super(s2, e2), this.model.setOptions(z0(s0.stackedAreaChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new vm2(this.model, this.services),
      new fm2(this.model, this.services),
      new bm2(this.model, this.services),
      new Xm2(this.model, this.services),
      new mm2(this.model, this.services, { stacked: true }),
      new Zm2(this.model, this.services, {
        fadeInOnChartHolderMouseover: true,
        handleThresholds: true,
        stacked: true
      }),
      new sp(this.model, this.services, {
        skeleton: Z.GRID
      })
    ];
    return this.getAxisChartComponents(s2);
  }
};
var St5 = class extends u2 {
  constructor(s2, e2) {
    super(s2, e2), this.model.setOptions(z0(s0.stackedBarChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new vm2(this.model, this.services),
      new fm2(this.model, this.services),
      new bm2(this.model, this.services),
      new Ym2(this.model, this.services),
      new sp(this.model, this.services, {
        skeleton: Z.VERT_OR_HORIZ
      }),
      new Em2(this.model, this.services)
    ];
    return this.getAxisChartComponents(s2);
  }
};
var ft5 = class extends T3 {
  constructor(s2, e2) {
    super(s2, e2), this.model = new Ht2(this.services), this.model.setOptions(z0(s0.wordCloudChart, e2.options)), this.init(s2, e2);
  }
  /**
   * Retrieves the components to be rendered inside the graph frame.
   *
   * @returns {Component[]} An array of components to be rendered.
   */
  getComponents() {
    const s2 = [
      new Km2(this.model, this.services),
      new sp(this.model, this.services, {
        skeleton: Z.PIE
      })
    ];
    return this.getChartComponents(s2);
  }
};

export {
  r,
  O,
  e,
  a,
  o,
  _,
  t,
  R,
  s,
  M,
  U,
  S,
  v,
  I,
  l,
  c,
  L,
  m,
  n,
  A,
  D,
  g,
  h,
  b,
  f,
  K,
  w,
  F,
  P,
  k,
  G,
  X,
  W,
  z,
  q,
  B,
  Z,
  x,
  J,
  Q,
  Y,
  $,
  j,
  p,
  y,
  EE,
  rE,
  OE,
  eE,
  uE,
  aE,
  oE,
  bm,
  _m,
  vm,
  xm,
  ia,
  Mm,
  Tm,
  Sm,
  Am,
  Om,
  Pm,
  $m,
  Em,
  Cm,
  Dm,
  Im,
  Rm,
  Fm,
  Lm,
  aa,
  oa,
  sa,
  Nn,
  Xt,
  s0,
  q0,
  He,
  I0,
  J0,
  Te,
  tp,
  ep,
  L0,
  np,
  sa2,
  v2,
  M3 as M2,
  kt2 as kt,
  Ft2 as Ft,
  Bt2 as Bt,
  Vt,
  _t2 as _t,
  wt2 as wt,
  $t2 as $t,
  Lt2 as Lt,
  Rt2 as Rt,
  zt2 as zt,
  Ut2 as Ut,
  Kt,
  jt2 as jt,
  Ht2 as Ht,
  Ut3 as Ut2,
  ve2 as ve,
  Ft3 as Ft2,
  ji2 as ji,
  Li2 as Li,
  Zi2 as Zi,
  Xi2 as Xi,
  Qi2 as Qi,
  dt4 as dt,
  Sr3 as Sr,
  Tr3 as Tr,
  rm2 as rm,
  om2 as om,
  Id2 as Id,
  Rd2 as Rd,
  Dd2 as Dd,
  lm2 as lm,
  Nd2 as Nd,
  Lr3 as Lr,
  cm2 as cm,
  um2 as um,
  hm2 as hm,
  dm2 as dm,
  pm2 as pm,
  fm2 as fm,
  gm2 as gm,
  mm2 as mm,
  Zo2 as Zo,
  Ji2 as Ji,
  qo2 as qo,
  np2,
  vm2,
  sp,
  ym2 as ym,
  Em2,
  xm2,
  Sm2,
  Tm2,
  bm2,
  Om2,
  Lm2,
  Am2,
  Mm2,
  wm2 as wm,
  Cm2,
  km2 as km,
  _m2,
  Im2,
  Rm2,
  Dm2,
  ta2 as ta,
  Nm2 as Nm,
  pp,
  Pm2,
  $m2,
  Vm2 as Vm,
  Gm2 as Gm,
  Hm2 as Hm,
  Bm2 as Bm,
  zm2 as zm,
  Um2 as Um,
  Fm2,
  Wm2 as Wm,
  Xm2 as Xm,
  Ym2 as Ym,
  Zm2 as Zm,
  qm2 as qm,
  jm2 as jm,
  Km2 as Km,
  Qg2 as Qg,
  Jm2 as Jm,
  ne3 as ne,
  se3 as se,
  oe3 as oe,
  ae3 as ae,
  re3 as re,
  he4 as he,
  ce3 as ce,
  T3 as T,
  u2 as u,
  tt4 as tt,
  ot4 as ot,
  nt4 as nt,
  it4 as it,
  rt4 as rt,
  at4 as at,
  ht6 as ht,
  ct4 as ct,
  Js3 as Js,
  mt5 as mt,
  lt3 as lt,
  pt4 as pt,
  dt5 as dt2,
  Ct4 as Ct,
  ut3 as ut,
  vt6 as vt,
  gt6 as gt,
  wt5 as wt2,
  Et5 as Et,
  Rt3 as Rt2,
  Tt4 as Tt,
  bt5 as bt,
  Ot5 as Ot,
  St5 as St,
  ft5 as ft
};
/*! Bundled license information:

@carbon/charts/dist/choropleth-r6V_Qswb.mjs:
  (*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE *)
*/
//# sourceMappingURL=chunk-JDKLREQO.js.map
